!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],i=e.document,r=Object.getPrototypeOf,o=n.slice,s=n.concat,a=n.push,l=n.indexOf,u={},c=u.toString,d=u.hasOwnProperty,h=d.toString,f=h.call(Object),p={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},m=function(e){return null!=e&&e===e.window},v={type:!0,src:!0,noModule:!0};function b(e,t,n){var r,o=(t=t||i).createElement("script");if(o.text=e,n)for(r in v)n[r]&&(o[r]=n[r]);t.head.appendChild(o).parentNode.removeChild(o)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":typeof e}var _=function(e,t){return new _.fn.init(e,t)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function x(e){var t=!!e&&"length"in e&&e.length,n=y(e);return!g(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:"3.3.1",constructor:_,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},_.extend=_.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(u&&i&&(_.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&_.isPlainObject(n)?n:{},s[t]=_.extend(u,o,i)):void 0!==i&&(s[t]=i));return s},_.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=r(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||h.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){b(e)},each:function(e,t){var n,i=0;if(x(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?_.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(x(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return s.apply([],a)},guid:1,support:p}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=n[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var C=function(e){var t,n,i,r,o,s,a,l,u,c,d,h,f,p,g,m,v,b,y,_="sizzle"+1*new Date,w=e.document,x=0,C=0,k=se(),T=se(),E=se(),S=function(e,t){return e===t&&(d=!0),0},N={}.hasOwnProperty,D=[],A=D.pop,I=D.push,P=D.push,O=D.slice,M=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+B+"*("+L+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+B+"*\\]",H=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",j=new RegExp(B+"+","g"),z=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),q=new RegExp("^"+B+"*,"+B+"*"),W=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),U=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),$=new RegExp(H),V=new RegExp("^"+L+"$"),Y={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){h()},re=be(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{P.apply(D=O.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(e){P={apply:D.length?function(e,t){I.apply(e,O.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,r){var o,a,u,c,d,p,v,b=t&&t.ownerDocument,x=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return i;if(!r&&((t?t.ownerDocument||t:w)!==f&&h(t),t=t||f,g)){if(11!==x&&(d=J.exec(e)))if(o=d[1]){if(9===x){if(!(u=t.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(b&&(u=b.getElementById(o))&&y(t,u)&&u.id===o)return i.push(u),i}else{if(d[2])return P.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!E[e+" "]&&(!m||!m.test(e))){if(1!==x)b=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=_),a=(p=s(e)).length;a--;)p[a]="#"+c+" "+ve(p[a]);v=p.join(","),b=Q.test(e)&&ge(t.parentNode)||t}if(v)try{return P.apply(i,b.querySelectorAll(v)),i}catch(e){}finally{c===_&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,i,r)}function se(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ae(e){return e[_]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return ae(function(t){return t=+t,ae(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:w;return s!==f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!o(f),w!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=G.test(f.getElementsByClassName),n.getById=le(function(e){return p.appendChild(e).id=_,!f.getElementsByName||!f.getElementsByName(_).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=G.test(f.querySelectorAll))&&(le(function(e){p.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+_+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=G.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le(function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",H)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=G.test(p.compareDocumentPosition),y=t||G.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===w&&y(w,e)?-1:t===f||t.ownerDocument===w&&y(w,t)?1:c?M(c,e)-M(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===f?-1:t===f?1:r?-1:o?1:c?M(c,e)-M(c,t):0;if(r===o)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ce(s[i],a[i]):s[i]===w?-1:a[i]===w?1:0},f):f},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&h(e),t=t.replace(U,"='$1']"),n.matchesSelector&&g&&!E[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var i=b.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return oe(t,f,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==f&&h(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==f&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&N.call(i.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(S),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return c=null,e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=oe.selectors={cacheLength:50,createPseudo:ae,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=oe.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(j," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,f,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(y=(f=(u=(c=(d=(h=m)[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===x&&u[1])&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(y=f=0)||p.pop();)if(1===h.nodeType&&++y&&h===t){c[e]=[x,f,y];break}}else if(b&&(y=f=(u=(c=(d=(h=t)[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===x&&u[1]),!1===y)for(;(h=++f&&h&&h[g]||(y=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((c=(d=h[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[x,y]),h!==t)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[_]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=M(e,o[s])]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ae(function(e){var t=[],n=[],i=a(e.replace(z,"$1"));return i[_]?ae(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:pe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=he(t);function me(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function be(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=C++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var u,c,d,h=[x,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(c=(d=t[_]||(t[_]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[o])&&u[0]===x&&u[1]===a)return h[2]=u[2];if(c[o]=h,h[2]=e(t,n,l))return!0}return!1}}function ye(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function _e(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function we(e,t,n,i,r,o){return i&&!i[_]&&(i=we(i)),r&&!r[_]&&(r=we(r,o)),ae(function(o,s,a,l){var u,c,d,h=[],f=[],p=s.length,g=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:_e(g,h,e,a,l),v=n?r||(o?e:p||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(u=_e(v,f),i(u,[],a,l),c=u.length;c--;)(d=u[c])&&(v[f[c]]=!(m[f[c]]=d));if(o){if(r||e){if(r){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(m[c]=d);r(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&(u=r?M(o,d):h[c])>-1&&(o[u]=!(s[u]=d))}}else v=_e(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):P.apply(s,v)})}function xe(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=be(function(e){return e===t},a,!0),d=be(function(e){return M(t,e)>-1},a,!0),h=[function(e,n,i){var r=!s&&(i||n!==u)||((t=n).nodeType?c(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])h=[be(ye(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return we(l>1&&ye(h),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&xe(e.slice(l,r)),r<o&&xe(e=e.slice(r)),r<o&&ve(e))}h.push(n)}return ye(h)}function Ce(e,t){var n=t.length>0,r=e.length>0,o=function(o,s,a,l,c){var d,p,m,v=0,b="0",y=o&&[],_=[],w=u,C=o||r&&i.find.TAG("*",c),k=x+=null==w?1:Math.random()||.1,T=C.length;for(c&&(u=s===f||s||c);b!==T&&null!=(d=C[b]);b++){if(r&&d){for(p=0,s||d.ownerDocument===f||(h(d),a=!g);m=e[p++];)if(m(d,s||f,a)){l.push(d);break}c&&(x=k)}n&&((d=!m&&d)&&v--,o&&y.push(d))}if(v+=b,n&&b!==v){for(p=0;m=t[p++];)m(y,_,s,a);if(o){if(v>0)for(;b--;)y[b]||_[b]||(_[b]=A.call(l));_=_e(_)}P.apply(l,_),c&&!o&&_.length>0&&v+t.length>1&&oe.uniqueSort(l)}return c&&(x=k,u=w),y};return n?ae(o):o}return me.prototype=i.filters=i.pseudos,i.setFilters=new me,s=oe.tokenize=function(e,t){var n,r,o,s,a,l,u,c=T[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=i.preFilter;a;){for(s in n&&!(r=q.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length)),i.filter)!(r=Y[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):T(e,l).slice(0)},a=oe.compile=function(e,t){var n,i=[],r=[],o=E[e+" "];if(!o){for(t||(t=s(e)),n=t.length;n--;)(o=xe(t[n]))[_]?i.push(o):r.push(o);(o=E(e,Ce(r,i))).selector=e}return o},l=oe.select=function(e,t,n,r){var o,l,u,c,d,h="function"==typeof e&&e,f=!r&&s(e=h.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(Z,ee),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=Y.needsContext.test(e)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((d=i.find[c])&&(r=d(u.matches[0].replace(Z,ee),Q.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ve(l)))return P.apply(n,r),n;break}}return(h||a(e,f))(r,t,!g,n,!t||Q.test(e)&&ge(t.parentNode)||t),n},n.sortStable=_.split("").sort(S).join("")===_,n.detectDuplicates=!!d,h(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ue(R,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),oe}(e);_.find=C,_.expr=C.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=C.uniqueSort,_.text=C.getText,_.isXMLDoc=C.isXML,_.contains=C.contains,_.escapeSelector=C.escape;var k=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(n))break;i.push(e)}return i},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},E=_.expr.match.needsContext;function S(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return g(t)?_.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?_.grep(e,function(e){return e===t!==n}):"string"!=typeof t?_.grep(e,function(e){return l.call(t,e)>-1!==n}):_.filter(t,e,n)}_.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?_.find.matchesSelector(i,e)?[i]:[]:_.find.matches(e,_.grep(t,function(e){return 1===e.nodeType}))},_.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(_(e).filter(function(){for(t=0;t<i;t++)if(_.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)_.find(e,r[t],n);return i>1?_.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&E.test(e)?_(e):e||[],!1).length}});var A,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||A,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:I.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:i,!0)),N.test(r[1])&&_.isPlainObject(t))for(r in t)g(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=i.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,A=_(i);var P=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&_(e);if(!E.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(_(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return S(e,"iframe")?e.contentDocument:(S(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},function(e,t){_.fn[e]=function(n,i){var r=_.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=_.filter(i,r)),this.length>1&&(O[e]||_.uniqueSort(r),P.test(e)&&r.reverse()),this.pushStack(r)}});var R=/[^\x20\t\r\n\f]+/g;function B(e){return e}function L(e){throw e}function F(e,t,n,i){var r;try{e&&g(r=e.promise)?r.call(e).done(t).fail(n):e&&g(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return _.each(e.match(R)||[],function(e,n){t[n]=!0}),t}(e):_.extend({},e);var t,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){_.each(n,function(n,i){g(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==y(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return _.each(arguments,function(e,t){for(var n;(n=_.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?_.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},_.extend({Deferred:function(t){var n=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return _.Deferred(function(t){_.each(n,function(n,i){var r=g(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){var o=0;function s(t,n,i,r){return function(){var a=this,l=arguments,u=function(){var e,u;if(!(t<o)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(u)?r?u.call(e,s(o,n,B,r),s(o,n,L,r)):(o++,u.call(e,s(o,n,B,r),s(o,n,L,r),s(o,n,B,n.notifyWith))):(i!==B&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(i!==L&&(a=void 0,l=[e]),n.rejectWith(a,l))}};t?c():(_.Deferred.getStackHook&&(c.stackTrace=_.Deferred.getStackHook()),e.setTimeout(c))}}return _.Deferred(function(e){n[0][3].add(s(0,e,g(r)?r:B,e.notifyWith)),n[1][3].add(s(0,e,g(t)?t:B)),n[2][3].add(s(0,e,g(i)?i:L))}).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},o={};return _.each(n,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add(function(){i=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=o.call(arguments),s=_.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?o.call(arguments):n,--t||s.resolveWith(i,r)}};if(t<=1&&(F(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||g(r[n]&&r[n].then)))return s.then();for(;n--;)F(r[n],a(n),s.reject);return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&H.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},_.readyException=function(t){e.setTimeout(function(){throw t})};var j=_.Deferred();function z(){i.removeEventListener("DOMContentLoaded",z),e.removeEventListener("load",z),_.ready()}_.fn.ready=function(e){return j.then(e).catch(function(e){_.readyException(e)}),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||j.resolveWith(i,[_]))}}),_.ready.then=j.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(_.ready):(i.addEventListener("DOMContentLoaded",z),e.addEventListener("load",z));var q=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===y(n))for(a in r=!0,n)q(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,g(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(_(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o},W=/^-ms-/,U=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function V(e){return e.replace(W,"ms-").replace(U,$)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=_.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[V(t)]=n;else for(i in t)r[V(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in i?[t]:t.match(R)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||_.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var X=new K,G=new K,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:J.test(e)?JSON.parse(e):e)}(n)}catch(e){}G.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return G.hasData(e)||X.hasData(e)},data:function(e,t,n){return G.access(e,t,n)},removeData:function(e,t){G.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),_.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=G.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=V(i.slice(5)),Z(o,i,r[i]));X.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){G.set(this,e)}):q(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=G.get(o,e)))return n;if(void 0!==(n=Z(o,e)))return n}else this.each(function(){G.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){G.remove(this,e)})}}),_.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=X.get(e,t),n&&(!i||Array.isArray(n)?i=X.access(e,t,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=_.queue(e,t),i=n.length,r=n.shift(),o=_._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){_.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:_.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each(function(){var n=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=_.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=X.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&_.contains(e.ownerDocument,e)&&"none"===_.css(e,"display")},re=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r};function oe(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return _.css(e,t,"")},l=a(),u=n&&n[3]||(_.cssNumber[t]?"":"px"),c=(_.cssNumber[t]||"px"!==u&&+l)&&te.exec(_.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)_.style(e,t,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,_.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var se={};function ae(e){var t,n=e.ownerDocument,i=e.nodeName,r=se[i];return r||(t=n.body.appendChild(n.createElement(i)),r=_.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),se[i]=r,r)}function le(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=X.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ie(i)&&(r[o]=ae(i))):"none"!==n&&(r[o]="none",X.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}_.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?_(this).show():_(this).hide()})}});var ue=/^(?:checkbox|radio)$/i,ce=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,de=/^$|^module$|\/(?:java|ecma)script/i,he={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&S(e,t)?_.merge([e],n):n}function pe(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}he.optgroup=he.option,he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td;var ge=/<|&#?\w+;/;function me(e,t,n,i,r){for(var o,s,a,l,u,c,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===y(o))_.merge(h,o.nodeType?[o]:o);else if(ge.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(ce.exec(o)||["",""])[1].toLowerCase(),l=he[a]||he._default,s.innerHTML=l[1]+_.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;_.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",f=0;o=h[f++];)if(i&&_.inArray(o,i)>-1)r&&r.push(o);else if(u=_.contains(o.ownerDocument,o),s=fe(d.appendChild(o),"script"),u&&pe(s),n)for(c=0;o=s[c++];)de.test(o.type||"")&&n.push(o);return d}!function(){var e=i.createDocumentFragment().appendChild(i.createElement("div")),t=i.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),p.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ve=i.documentElement,be=/^key/,ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_e=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function xe(){return!1}function Ce(){try{return i.activeElement}catch(e){}}function ke(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)ke(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=xe;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return _().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=_.guid++)),e.each(function(){_.event.add(this,t,r,i,n)})}_.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,f,p,g,m=X.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&_.find.matchesSelector(ve,r),n.guid||(n.guid=_.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(R)||[""]).length;u--;)f=g=(a=_e.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),f&&(d=_.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=_.event.special[f]||{},c=_.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,s)||e.addEventListener&&e.addEventListener(f,s)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),_.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,f,p,g,m=X.hasData(e)&&X.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(R)||[""]).length;u--;)if(f=g=(a=_e.exec(t[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=_.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)c=h[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||_.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)_.event.remove(e,f+t[u],n,i,!0);_.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=_.event.fix(e),l=new Array(arguments.length),u=(X.get(this,"events")||{})[a.type]||[],c=_.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=_.event.handlers.call(this,a,u),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?_(r,this).index(u)>-1:_.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&S(this,"input"))return this.click(),!1},_default:function(e){return S(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:xe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:xe,isPropagationStopped:xe,isImmediatePropagationStopped:xe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&be.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ye.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_.event.addProp),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||_.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),_.fn.extend({on:function(e,t,n,i){return ke(this,e,t,n,i)},one:function(e,t,n,i){return ke(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,_(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=xe),this.each(function(){_.event.remove(this,e,n,t)})}});var Te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return S(e,"table")&&S(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function Ae(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(X.hasData(e)&&(o=X.access(e),s=X.set(t,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)_.event.add(t,r,u[r][n]);G.hasData(e)&&(a=G.access(e),l=_.extend({},a),G.set(t,l))}}function Oe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ue.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Me(e,t,n,i){t=s.apply([],t);var r,o,a,l,u,c,d=0,h=e.length,f=h-1,m=t[0],v=g(m);if(v||h>1&&"string"==typeof m&&!p.checkClone&&Se.test(m))return e.each(function(r){var o=e.eq(r);v&&(t[0]=m.call(this,r,o.html())),Me(o,t,n,i)});if(h&&(o=(r=me(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(l=(a=_.map(fe(r,"script"),Ae)).length;d<h;d++)u=r,d!==f&&(u=_.clone(u,!0,!0),l&&_.merge(a,fe(u,"script"))),n.call(e[d],u,d);if(l)for(c=a[a.length-1].ownerDocument,_.map(a,Ie),d=0;d<l;d++)u=a[d],de.test(u.type||"")&&!X.access(u,"globalEval")&&_.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?_._evalUrl&&_._evalUrl(u.src):b(u.textContent.replace(Ne,""),c,u))}return e}function Re(e,t,n){for(var i,r=t?_.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_.cleanData(fe(i)),i.parentNode&&(n&&_.contains(i.ownerDocument,i)&&pe(fe(i,"script")),i.parentNode.removeChild(i));return e}_.extend({htmlPrefilter:function(e){return e.replace(Te,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=_.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(s=fe(a),i=0,r=(o=fe(e)).length;i<r;i++)Oe(o[i],s[i]);if(t)if(n)for(o=o||fe(e),s=s||fe(a),i=0,r=o.length;i<r;i++)Pe(o[i],s[i]);else Pe(e,a);return(s=fe(a,"script")).length>0&&pe(s,!l&&fe(e,"script")),a},cleanData:function(e){for(var t,n,i,r=_.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[G.expando]&&(n[G.expando]=void 0)}}}),_.fn.extend({detach:function(e){return Re(this,e,!0)},remove:function(e){return Re(this,e)},text:function(e){return q(this,function(e){return void 0===e?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!he[(ce.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Me(this,arguments,function(t){var n=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(fe(this)),n&&n.replaceChild(t,this))},e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){_.fn[e]=function(e){for(var n,i=[],r=_(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_(r[s])[t](n),a.apply(i,n.get());return this.pushStack(i)}});var Be=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Le=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Fe=new RegExp(ne.join("|"),"i");function He(e,t,n){var i,r,o,s,a=e.style;return(n=n||Le(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||_.contains(e.ownerDocument,e)||(s=_.style(e,t)),!p.pixelBoxStyles()&&Be.test(s)&&Fe.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ve.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,l=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),o=36===n(t.width),c.style.position="absolute",s=36===c.offsetWidth||"absolute",ve.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var r,o,s,a,l,u=i.createElement("div"),c=i.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,_.extend(p,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),s}}))}();var ze=/^(none|table(?!-c[ea]).+)/,qe=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ue={letterSpacing:"0",fontWeight:"400"},$e=["Webkit","Moz","ms"],Ve=i.createElement("div").style;function Ye(e){var t=_.cssProps[e];return t||(t=_.cssProps[e]=function(e){if(e in Ve)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=$e.length;n--;)if((e=$e[n]+t)in Ve)return e}(e)||e),t}function Ke(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Xe(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=_.css(e,n+ne[s],!0,r)),i?("content"===n&&(l-=_.css(e,"padding"+ne[s],!0,r)),"margin"!==n&&(l-=_.css(e,"border"+ne[s]+"Width",!0,r))):(l+=_.css(e,"padding"+ne[s],!0,r),"padding"!==n?l+=_.css(e,"border"+ne[s]+"Width",!0,r):a+=_.css(e,"border"+ne[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function Ge(e,t,n){var i=Le(e),r=He(e,t,i),o="border-box"===_.css(e,"boxSizing",!1,i),s=o;if(Be.test(r)){if(!n)return r;r="auto"}return s=s&&(p.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===_.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(r=parseFloat(r)||0)+Xe(e,t,n||(o?"border":"content"),s,i,r)+"px"}function Je(e,t,n,i,r){return new Je.prototype.init(e,t,n,i,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=V(t),l=qe.test(t),u=e.style;if(l||(t=Ye(a)),s=_.cssHooks[t]||_.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:u[t];"string"==(o=typeof n)&&(r=te.exec(n))&&r[1]&&(n=oe(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(_.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,s,a=V(t);return qe.test(t)||(t=Ye(a)),(s=_.cssHooks[t]||_.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=He(e,t,i)),"normal"===r&&t in Ue&&(r=Ue[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_.each(["height","width"],function(e,t){_.cssHooks[t]={get:function(e,n,i){if(n)return!ze.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ge(e,t,i):re(e,We,function(){return Ge(e,t,i)})},set:function(e,n,i){var r,o=Le(e),s="border-box"===_.css(e,"boxSizing",!1,o),a=i&&Xe(e,t,i,s,o);return s&&p.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Xe(e,t,"border",!1,o)-.5)),a&&(r=te.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=_.css(e,t)),Ke(0,n,a)}}}),_.cssHooks.marginLeft=je(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-re(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(e,t){_.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ne[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(_.cssHooks[e+t].set=Ke)}),_.fn.extend({css:function(e,t){return q(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Le(e),r=t.length;s<r;s++)o[t[s]]=_.css(e,t[s],!1,i);return o}return void 0!==n?_.style(e,t,n):_.css(e,t)},e,t,arguments.length>1)}}),_.Tween=Je,Je.prototype={constructor:Je,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,n=Je.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Je.propHooks._default.set(this),this}},Je.prototype.init.prototype=Je.prototype,Je.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[_.cssProps[e.prop]]&&!_.cssHooks[e.prop]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}},Je.propHooks.scrollTop=Je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=Je.prototype.init,_.fx.step={};var Qe,Ze,et=/^(?:toggle|show|hide)$/,tt=/queueHooks$/;function nt(){Ze&&(!1===i.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(nt):e.setTimeout(nt,_.fx.interval),_.fx.tick())}function it(){return e.setTimeout(function(){Qe=void 0}),Qe=Date.now()}function rt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ne[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ot(e,t,n){for(var i,r=(st.tweeners[t]||[]).concat(st.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function st(e,t,n){var i,r,o=0,s=st.prefilters.length,a=_.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Qe||it(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(e,[u,i,n]),i<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:t,originalOptions:n,startTime:Qe||it(),duration:n.duration,tweens:[],createTween:function(t,n){var i=_.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=V(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=_.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=st.prefilters[o].call(u,e,c,u.opts))return g(i.stop)&&(_._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return _.map(c,ot,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}_.Animation=_.extend(st,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return oe(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(R);for(var n,i=0,r=e.length;i<r;i++)n=e[i],st.tweeners[n]=st.tweeners[n]||[],st.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,u,c,d="width"in t||"height"in t,h=this,f={},p=e.style,g=e.nodeType&&ie(e),m=X.get(e,"fxshow");for(i in n.queue||(null==(s=_._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,_.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],et.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||_.style(e,i)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(f))for(i in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=X.get(e,"display")),"none"===(c=_.css(e,"display"))&&(u?c=u:(le([e],!0),u=e.style.display||u,c=_.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===_.css(e,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&le([e],!0),h.done(function(){for(i in g||le([e]),X.remove(e,"fxshow"),f)_.style(e,i,f[i])})),l=ot(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?st.prefilters.unshift(e):st.prefilters.push(e)}}),_.speed=function(e,t,n){var i=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return _.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in _.fx.speeds?i.duration=_.fx.speeds[i.duration]:i.duration=_.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&_.dequeue(this,i.queue)},i},_.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=_.isEmptyObject(e),o=_.speed(t,n,i),s=function(){var t=st(this,_.extend({},e),o);(r||X.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=_.timers,s=X.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&tt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||_.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=X.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=_.timers,s=i?i.length:0;for(n.finish=!0,_.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),_.each(["toggle","show","hide"],function(e,t){var n=_.fn[t];_.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(rt(t,!0),e,i,r)}}),_.each({slideDown:rt("show"),slideUp:rt("hide"),slideToggle:rt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){_.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(Qe=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),Qe=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){Ze||(Ze=!0,nt())},_.fx.stop=function(){Ze=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,n){return t=_.fx&&_.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=i.createElement("input"),t=i.createElement("select").appendChild(i.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=i.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var at,lt=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return q(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})}}),_.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?_.prop(e,t,n):(1===o&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?at:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=_.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&S(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(R);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),at={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||_.find.attr;lt[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=lt[s],lt[s]=r,r=null!=n(e,t,i)?s:null,lt[s]=o),r}});var ut=/^(?:input|select|textarea|button)$/i,ct=/^(?:a|area)$/i;function dt(e){return(e.match(R)||[]).join(" ")}function ht(e){return e.getAttribute&&e.getAttribute("class")||""}function ft(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}_.fn.extend({prop:function(e,t){return q(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[_.propFix[e]||e]})}}),_.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(e)||(t=_.propFix[t]||t,r=_.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(g(e))return this.each(function(t){_(this).addClass(e.call(this,t,ht(this)))});if((t=ft(e)).length)for(;n=this[l++];)if(r=ht(n),i=1===n.nodeType&&" "+dt(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=dt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(g(e))return this.each(function(t){_(this).removeClass(e.call(this,t,ht(this)))});if(!arguments.length)return this.attr("class","");if((t=ft(e)).length)for(;n=this[l++];)if(r=ht(n),i=1===n.nodeType&&" "+dt(r)+" "){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=dt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){_(this).toggleClass(e.call(this,n,ht(this),t),t)}):this.each(function(){var t,r,o,s;if(i)for(r=0,o=_(this),s=ft(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=ht(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+dt(ht(n))+" ").indexOf(t)>-1)return!0;return!1}});var pt=/\r/g;_.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=g(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,_(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,function(e){return null==e?"":e+""})),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(pt,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:dt(_.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,"optgroup"))){if(t=_(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=_.makeArray(t),s=r.length;s--;)((i=r[s]).selected=_.inArray(_.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},p.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),p.focusin="onfocusin"in e;var gt=/^(?:focusinfocus|focusoutblur)$/,mt=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(t,n,r,o){var s,a,l,u,c,h,f,p,v=[r||i],b=d.call(t,"type")?t.type:t,y=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=l=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!gt.test(b+_.event.triggered)&&(b.indexOf(".")>-1&&(b=(y=b.split(".")).shift(),y.sort()),c=b.indexOf(":")<0&&"on"+b,(t=t[_.expando]?t:new _.Event(b,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:_.makeArray(n,[t]),f=_.event.special[b]||{},o||!f.trigger||!1!==f.trigger.apply(r,n))){if(!o&&!f.noBubble&&!m(r)){for(u=f.delegateType||b,gt.test(u+b)||(a=a.parentNode);a;a=a.parentNode)v.push(a),l=a;l===(r.ownerDocument||i)&&v.push(l.defaultView||l.parentWindow||e)}for(s=0;(a=v[s++])&&!t.isPropagationStopped();)p=a,t.type=s>1?u:f.bindType||b,(h=(X.get(a,"events")||{})[t.type]&&X.get(a,"handle"))&&h.apply(a,n),(h=c&&a[c])&&h.apply&&Y(a)&&(t.result=h.apply(a,n),!1===t.result&&t.preventDefault());return t.type=b,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!Y(r)||c&&g(r[b])&&!m(r)&&((l=r[c])&&(r[c]=null),_.event.triggered=b,t.isPropagationStopped()&&p.addEventListener(b,mt),r[b](),t.isPropagationStopped()&&p.removeEventListener(b,mt),_.event.triggered=void 0,l&&(r[c]=l)),t.result}},simulate:function(e,t,n){var i=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(i,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),p.focusin||_.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=X.access(i,t);r||i.addEventListener(e,n,!0),X.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=X.access(i,t)-1;r?X.access(i,t,r):(i.removeEventListener(e,n,!0),X.remove(i,t))}}});var vt=e.location,bt=Date.now(),yt=/\?/;_.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+t),n};var _t=/\[\]$/,wt=/\r?\n/g,xt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;function kt(e,t,n,i){var r;if(Array.isArray(t))_.each(t,function(t,r){n||_t.test(e)?i(e,r):kt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==y(t))i(e,t);else for(r in t)kt(e+"["+r+"]",t[r],n,i)}_.param=function(e,t){var n,i=[],r=function(e,t){var n=g(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){r(this.name,this.value)});else for(n in e)kt(n,e[n],t,r);return i.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&Ct.test(this.nodeName)&&!xt.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:n.replace(wt,"\r\n")}}).get()}});var Tt=/%20/g,Et=/#.*$/,St=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Dt=/^(?:GET|HEAD)$/,At=/^\/\//,It={},Pt={},Ot="*/".concat("*"),Mt=i.createElement("a");function Rt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(R)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Bt(e,t,n,i){var r={},o=e===Pt;function s(a){var l;return r[a]=!0,_.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Lt(e,t){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&_.extend(!0,e,i),e}Mt.href=vt.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(vt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Lt(Lt(e,_.ajaxSettings),t):Lt(_.ajaxSettings,e)},ajaxPrefilter:Rt(It),ajaxTransport:Rt(Pt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,s,a,l,u,c,d,h,f,p=_.ajaxSetup({},n),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?_(g):_.event,v=_.Deferred(),b=_.Callbacks("once memory"),y=p.statusCode||{},w={},x={},C="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Nt.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||C;return r&&r.abort(t),T(0,t),this}};if(v.promise(k),p.url=((t||p.url||vt.href)+"").replace(At,vt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(R)||[""],null==p.crossDomain){u=i.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Mt.protocol+"//"+Mt.host!=u.protocol+"//"+u.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_.param(p.data,p.traditional)),Bt(It,p,n,k),c)return k;for(h in(d=_.event&&p.global)&&0==_.active++&&_.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Dt.test(p.type),o=p.url.replace(Et,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Tt,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(yt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(St,"$1"),f=(yt.test(o)?"&":"?")+"_="+bt+++f),p.url=o+f),p.ifModified&&(_.lastModified[o]&&k.setRequestHeader("If-Modified-Since",_.lastModified[o]),_.etag[o]&&k.setRequestHeader("If-None-Match",_.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ot+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(g,k,p)||c))return k.abort();if(C="abort",b.add(p.complete),k.done(p.success),k.fail(p.error),r=Bt(Pt,p,n,k)){if(k.readyState=1,d&&m.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},p.timeout));try{c=!1,r.send(w,T)}catch(e){if(c)throw e;T(-1,e)}}else T(-1,"No Transport");function T(t,n,i,a){var u,h,f,w,x,C=n;c||(c=!0,l&&e.clearTimeout(l),r=void 0,s=a||"",k.readyState=t>0?4:0,u=t>=200&&t<300||304===t,i&&(w=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,k,i)),w=function(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,k,u),u?(p.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(_.lastModified[o]=x),(x=k.getResponseHeader("etag"))&&(_.etag[o]=x)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,h=w.data,u=!(f=w.error))):(f=C,!t&&C||(C="error",t<0&&(t=0))),k.status=t,k.statusText=(n||C)+"",u?v.resolveWith(g,[h,C,k]):v.rejectWith(g,[k,C,f]),k.statusCode(y),y=void 0,d&&m.trigger(u?"ajaxSuccess":"ajaxError",[k,p,u?h:f]),b.fireWith(g,[k,C]),d&&(m.trigger("ajaxComplete",[k,p]),--_.active||_.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],function(e,t){_[t]=function(e,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),_.ajax(_.extend({url:e,type:t,dataType:r,data:n,success:i},_.isPlainObject(e)&&e))}}),_._evalUrl=function(e){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){_(this).wrapInner(e.call(this,t))}):this.each(function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){_(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},Ht=_.ajaxSettings.xhr();p.cors=!!Ht&&"withCredentials"in Ht,p.ajax=Ht=!!Ht,_.ajaxTransport(function(t){var n,i;if(p.cors||Ht&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ft[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),_.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,o){t=_("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}});var jt=[],zt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||_.expando+"_"+bt++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=!1!==t.jsonp&&(zt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(zt,"$1"+r):!1!==t.jsonp&&(t.url+=(yt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||_.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){void 0===o?_(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,jt.push(r)),s&&g(o)&&o(s[0]),s=o=void 0}),"script"}),p.createHTMLDocument=function(){var e=i.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),_.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((r=(t=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,t.head.appendChild(r)):t=i),o=N.exec(e),s=!n&&[],o?[t.createElement(o[1])]:(o=me([e],t,s),s&&s.length&&_(s).remove(),_.merge([],o.childNodes)));var r,o,s},_.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=dt(e.slice(a)),e=e.slice(0,a)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&_.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?_("<div>").append(_.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_.expr.pseudos.animated=function(e){return _.grep(_.timers,function(t){return e===t.elem}).length},_.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u=_.css(e,"position"),c=_(e),d={};"static"===u&&(e.style.position="relative"),a=c.offset(),o=_.css(e,"top"),l=_.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),g(t)&&(t=t.call(e,n,_.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):c.css(d)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){_.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===_.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),r.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-_.css(i,"marginTop",!0),left:t.left-r.left-_.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||ve})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;_.fn[e]=function(i){return q(this,function(e,i,r){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),_.each(["top","left"],function(e,t){_.cssHooks[t]=je(p.pixelPosition,function(e,n){if(n)return n=He(e,t),Be.test(n)?_(e).position()[t]+"px":n})}),_.each({Height:"height",Width:"width"},function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){_.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return q(this,function(t,n,r){var o;return m(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?_.css(t,n,a):_.style(t,n,r,a)},t,s?r:void 0,s)}})}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){_.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),_.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),_.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return i=o.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(o.call(arguments)))}).guid=e.guid=e.guid||_.guid++,r},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=S,_.isFunction=g,_.isWindow=m,_.camelCase=V,_.type=y,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var qt=e.jQuery,Wt=e.$;return _.noConflict=function(t){return e.$===_&&(e.$=Wt),t&&e.jQuery===_&&(e.jQuery=qt),_},t||(e.jQuery=e.$=_),_}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=n(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,i)}function i(){e.datepicker._isDisabledDatepicker(h.inline?h.dpDiv.parent()[0]:h.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,n){for(var i in e.extend(t,n),n)null==n[i]&&(t[i]=n[i]);return t}function o(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.ui.version="1.12.1";var s=0,a=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,o,s,a={},l=t.split(".")[0],u=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][u.toLowerCase()]=function(t){return!!e.data(t,u)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,function(t,i){return e.isFunction(i)?void(a[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(a[t]=i)}),o.prototype=e.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:u}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,i,r=a.call(arguments,1),o=0,s=r.length;s>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t[n]=e.isPlainObject(i)?e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,s=a.call(arguments,1),l=this;return o?this.length||"instance"!==r?this.each(function(){var n,o=e.data(this,i);return"instance"===r?(l=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):l=void 0:(s.length&&(r=e.widget.extend.apply(null,[r].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new n(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(i=t.split(".")).shift(),i.length){for(r=s[t]=e.widget.extend({},this.options[t]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,r;for(n in t)r=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&r&&r.length&&(i=e(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,o){var s,a;for(a=0;n.length>a;a++)s=r.classesElementLookup[n[a]]||e(),s=t.add?e(e.unique(s.get().concat(t.element.get()))):e(s.not(t.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&t.classes[n[a]]&&i.push(t.classes[n[a]])}var i=[],r=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,r){-1!==e.inArray(t.target,r)&&(n.classesElementLookup[i]=e(r.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){return t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.widget,function(){function t(e,t,n){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}var i,r=Math.max,o=Math.abs,s=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return e("body").append(r),t=o.offsetWidth,r.css("overflow","scroll"),t===(n=o.offsetWidth)&&(n=r[0].clientWidth),r.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:!i&&!r?e(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return d.apply(this,arguments);i=e.extend({},i);var c,h,f,p,g,m,v=e(i.of),b=e.position.getWithinInfo(i.within),y=e.position.getScrollInfo(b),_=(i.collision||"flip").split(" "),w={};return m=function(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(v),v[0].preventDefault&&(i.at="left top"),h=m.width,f=m.height,p=m.offset,g=e.extend({},p),e.each(["my","at"],function(){var e,t,n=(i[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",e=l.exec(n[0]),t=l.exec(n[1]),w[this]=[e?e[0]:0,t?t[0]:0],i[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===i.at[0]?g.left+=h:"center"===i.at[0]&&(g.left+=h/2),"bottom"===i.at[1]?g.top+=f:"center"===i.at[1]&&(g.top+=f/2),c=t(w.at,h,f),g.left+=c[0],g.top+=c[1],this.each(function(){var s,a,l=e(this),u=l.outerWidth(),d=l.outerHeight(),m=n(this,"marginLeft"),x=n(this,"marginTop"),C=u+m+n(this,"marginRight")+y.width,k=d+x+n(this,"marginBottom")+y.height,T=e.extend({},g),E=t(w.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?T.left-=u:"center"===i.my[0]&&(T.left-=u/2),"bottom"===i.my[1]?T.top-=d:"center"===i.my[1]&&(T.top-=d/2),T.left+=E[0],T.top+=E[1],s={marginLeft:m,marginTop:x},e.each(["left","top"],function(t,n){e.ui.position[_[t]]&&e.ui.position[_[t]][n](T,{targetWidth:h,targetHeight:f,elemWidth:u,elemHeight:d,collisionPosition:s,collisionWidth:C,collisionHeight:k,offset:[c[0]+E[0],c[1]+E[1]],my:i.my,at:i.at,within:b,elem:l})}),i.using&&(a=function(e){var t=p.left-T.left,n=t+h-u,s=p.top-T.top,a=s+f-d,c={target:{element:v,left:p.left,top:p.top,width:h,height:f},element:{element:l,left:T.left,top:T.top,width:u,height:d},horizontal:0>n?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};u>h&&h>o(t+n)&&(c.horizontal="center"),d>f&&f>o(s+a)&&(c.vertical="middle"),c.important=r(o(t),o(n))>r(o(s),o(a))?"horizontal":"vertical",i.using.call(this,e,c)}),l.offset(e.extend(T,{using:a}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,u=a+t.collisionWidth-s-o;t.collisionWidth>s?l>0&&0>=u?(n=e.left+l+t.collisionWidth-s-o,e.left+=l-n):e.left=u>0&&0>=l?o:l>u?o+s-t.collisionWidth:o:l>0?e.left+=l:u>0?e.left-=u:e.left=r(e.left-a,e.left)},top:function(e,t){var n,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,u=a+t.collisionHeight-s-o;t.collisionHeight>s?l>0&&0>=u?(n=e.top+l+t.collisionHeight-s-o,e.top+=l-n):e.top=u>0&&0>=l?o:l>u?o+s-t.collisionHeight:o:l>0?e.top+=l:u>0?e.top-=u:e.top=r(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,s=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,d=u+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>c?(0>(n=e.left+h+f+p+t.collisionWidth-a-s)||o(c)>n)&&(e.left+=h+f+p):d>0&&(((i=e.left-t.collisionPosition.marginLeft+h+f+p-l)>0||d>o(i))&&(e.left+=h+f+p))},top:function(e,t){var n,i,r=t.within,s=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,d=u+t.collisionHeight-a-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];0>c?(0>(i=e.top+h+f+p+t.collisionHeight-a-s)||o(c)>i)&&(e.top+=h+f+p):d>0&&(((n=e.top-t.collisionPosition.marginTop+h+f+p-l)>0||d>o(n))&&(e.top+=h+f+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}}),e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var l="ui-effects-",u="ui-effects-style",c="ui-effects-animated",d=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var i=c[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:e>i.max?i.max:e)}function i(n){var i=l(),r=i._rgba=[];return n=n.toLowerCase(),f(a,function(e,o){var s,a=o.re.exec(n),l=a&&o.parse(a),c=o.space||"rgba";return l?(s=i[c](l),i[u[c].cache]=s[u[c].cache],r=i._rgba=s._rgba,!1):t}),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),i):o[n]}function r(e,t,n){return 1>6*(n=(n+1)%1)?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var o,s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},h=e("<p>")[0],f=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=h.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(r,s,a,c){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(s),s=t);var d=this,h=e.type(r),p=this._rgba=[];return s!==t&&(r=[r,s,a,c],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(u.rgba.props,function(e,t){p[t.idx]=n(r[t.idx],t)}),this):"object"===h?(f(u,r instanceof l?function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}:function(t,i){var o=i.cache;f(i.props,function(e,t){if(!d[o]&&i.to){if("alpha"===e||null==r[e])return;d[o]=i.to(d._rgba)}d[o][t.idx]=n(r[e],t,!0)}),d[o]&&0>e.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):t},is:function(e){var n=l(e),i=!0,r=this;return f(u,function(e,o){var s,a=n[o.cache];return a&&(s=r[o.cache]||o.to&&o.to(r._rgba)||[],f(o.props,function(e,n){return null!=a[n.idx]?i=a[n.idx]===s[n.idx]:t})),i}),i},_space:function(){var e=[],t=this;return f(u,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=l(e),r=i._space(),o=u[r],s=0===this.alpha()?l("transparent"):this,a=s[o.cache]||o.to(s._rgba),d=a.slice();return i=i[o.cache],f(o.props,function(e,r){var o=r.idx,s=a[o],l=i[o],u=c[r.type]||{};null!==l&&(null===s?d[o]=l:(u.mod&&(l-s>u.mod/2?s+=u.mod:s-l>u.mod/2&&(s-=u.mod)),d[o]=n((l-s)*t+s,r)))}),this[r](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(t)._rgba;return l(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,s=e[3],a=Math.max(i,r,o),l=Math.min(i,r,o),u=a-l,c=a+l,d=.5*c;return t=l===a?0:i===a?60*(r-o)/u+360:r===a?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(t)%360,n,d,null==s?1:s]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,t+1/3)),Math.round(255*r(a,s,t)),Math.round(255*r(a,s,t-1/3)),o]},f(u,function(i,r){var o=r.props,a=r.cache,u=r.to,c=r.from;l.fn[i]=function(i){if(u&&!this[a]&&(this[a]=u(this._rgba)),i===t)return this[a].slice();var r,s=e.type(i),d="array"===s||"object"===s?i:arguments,h=this[a].slice();return f(o,function(e,t){var i=d["object"===s?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),c?((r=l(c(h)))[a]=h,r):l(h)},f(o,function(t,n){l.fn[t]||(l.fn[t]=function(r){var o,a=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=e.type(r)),null==r&&n.empty?this:("string"===a&&((o=s.exec(r))&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),l.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,s,a="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=l(o||r),!d.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?t.parentNode:t;(""===a||"transparent"===a)&&s&&s.style;)try{a=e.css(s,"backgroundColor"),s=s.parentNode}catch(e){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(d),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(t,n){var i,o,s={};for(i in n)o=n[i],t[i]!==o&&(r[i]||(e.fx.step[i]||!isNaN(parseFloat(o)))&&(s[i]=o));return s}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(d.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,o,s,a){var l=e.speed(o,s,a);return this.queue(function(){var o,s=e(this),a=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map(function(){return{el:e(this),start:t(this)}}),(o=function(){e.each(i,function(e,t){r[t]&&s[t+"Class"](r[t])})})(),u=u.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),u=u.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,u.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(s[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,o)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}function i(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(c)||t(n)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var n=0,i=t.length;i>n;n++)null!==t[n]&&e.data(l+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0,r=t.length;r>i;i++)null!==t[i]&&(n=e.data(l+t[i]),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(e){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).trigger("focus"),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.1",define:function(t,n,i){return i||(i=n,n="effect"),e.effects.effect[t]=i,e.effects.effect[t].mode=n,i},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,r="vertical"!==n?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data(u,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(u)||"",e.removeData(u)},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(t){var n,i=t.css("position"),r=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(l+"placeholder",n)),t.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(e){var t=l+"placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(l)&&l.call(s[0]),e.isFunction(t)&&t()}var s=e(this);i.mode=d.shift(),!1===e.uiBackCompat||o?"none"===i.mode?(s[u](),n()):r.call(s[0],i,function(){s.removeData(c),e.effects.cleanUp(s),"hide"===i.mode&&s.hide(),n()}):(s.is(":hidden")?"hide"===u:"show"===u)?(s[u](),n()):r.call(s[0],i,n)}var i=t.apply(this,arguments),r=e.effects.effect[i.effect],o=r.mode,s=i.queue,a=s||"fx",l=i.complete,u=i.mode,d=[],h=function(t){var n=e(this),i=e.effects.mode(n,u)||o;n.data(c,!0),d.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||e.effects.saveStyle(n),e.isFunction(t)&&t()};return e.fx.off||!r?u?this[u](i.duration,l):this.each(function(){l&&l.call(this)}):!1===s?this.each(h).each(n):this.queue(a,h).queue(a,n)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):i(this.css("clip"),this)},transfer:function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),s=e("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=r.offset(),c={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){h.remove(),e.isFunction(n)&&n()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=i(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}();e.effects;e.effects.define("blind","hide",function(t,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=e(this),o=t.direction||"up",s=r.cssClip(),a={clip:e.extend({},s)},l=e.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===t.mode&&(r.cssClip(a.clip),l&&l.css(e.effects.clipToBox(a)),a.clip=s),l&&l.animate(e.effects.clipToBox(a),t.duration,t.easing),r.animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("bounce",function(t,n){var i,r,o,s=e(this),a=t.mode,l="hide"===a,u="show"===a,c=t.direction||"up",d=t.distance,h=t.times||5,f=2*h+(u||l?1:0),p=t.duration/f,g=t.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,b=0,y=s.queue().length;for(e.effects.createPlaceholder(s),o=s.css(m),d||(d=s["top"===m?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[m]=o,s.css("opacity",0).css(m,v?2*-d:2*d).animate(r,p,g)),l&&(d/=Math.pow(2,h-1)),(r={})[m]=o;h>b;b++)(i={})[m]=(v?"-=":"+=")+d,s.animate(i,p,g).animate(r,p,g),d=l?2*d:d/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+d,s.animate(i,p,g)),s.queue(n),e.effects.unshift(s,y,f+1)}),e.effects.define("clip","hide",function(t,n){var i,r={},o=e(this),s=t.direction||"vertical",a="both"===s,l=a||"horizontal"===s,u=a||"vertical"===s;i=o.cssClip(),r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},e.effects.createPlaceholder(o),"show"===t.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("drop","hide",function(t,n){var i,r=e(this),o="show"===t.mode,s=t.direction||"left",a="up"===s||"down"===s?"top":"left",l="up"===s||"left"===s?"-=":"+=",u="+="===l?"-=":"+=",c={opacity:0};e.effects.createPlaceholder(r),i=t.distance||r["top"===a?"outerHeight":"outerWidth"](!0)/2,c[a]=l+i,o&&(r.css(c),c[a]=u+i,c.opacity=1),r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("explode","hide",function(t,n){function i(){v.push(this),v.length===c*d&&(h.css({visibility:"visible"}),e(v).remove(),n())}var r,o,s,a,l,u,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=c,h=e(this),f="show"===t.mode,p=h.show().css("visibility","hidden").offset(),g=Math.ceil(h.outerWidth()/d),m=Math.ceil(h.outerHeight()/c),v=[];for(r=0;c>r;r++)for(a=p.top+r*m,u=r-(c-1)/2,o=0;d>o;o++)s=p.left+o*g,l=o-(d-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:s+(f?l*g:0),top:a+(f?u*m:0),opacity:f?0:1}).animate({left:s+(f?0:l*g),top:a+(f?0:u*m),opacity:f?1:0},t.duration||500,t.easing,i)}),e.effects.define("fade","toggle",function(t,n){var i="show"===t.mode;e(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("fold","hide",function(t,n){var i=e(this),r=t.mode,o="show"===r,s="hide"===r,a=t.size||15,l=/([0-9]+)%/.exec(a),u=!!t.horizFirst?["right","bottom"]:["bottom","right"],c=t.duration/2,d=e.effects.createPlaceholder(i),h=i.cssClip(),f={clip:e.extend({},h)},p={clip:e.extend({},h)},g=[h[u[0]],h[u[1]]],m=i.queue().length;l&&(a=parseInt(l[1],10)/100*g[s?0:1]),f.clip[u[0]]=a,p.clip[u[0]]=a,p.clip[u[1]]=0,o&&(i.cssClip(p.clip),d&&d.css(e.effects.clipToBox(p)),p.clip=h),i.queue(function(n){d&&d.animate(e.effects.clipToBox(f),c,t.easing).animate(e.effects.clipToBox(p),c,t.easing),n()}).animate(f,c,t.easing).animate(p,c,t.easing).queue(n),e.effects.unshift(i,m,4)}),e.effects.define("highlight","show",function(t,n){var i=e(this),r={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(r.opacity=0),e.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("size",function(t,n){var i,r,o,s=e(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=t.mode,d="effect"!==c,h=t.scale||"both",f=t.origin||["middle","center"],p=s.css("position"),g=s.position(),m=e.effects.scaledDimensions(s),v=t.from||m,b=t.to||e.effects.scaledDimensions(s,0);e.effects.createPlaceholder(s),"show"===c&&(o=v,v=b,b=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},("box"===h||"both"===h)&&(r.from.y!==r.to.y&&(v=e.effects.setTransition(s,l,r.from.y,v),b=e.effects.setTransition(s,l,r.to.y,b)),r.from.x!==r.to.x&&(v=e.effects.setTransition(s,u,r.from.x,v),b=e.effects.setTransition(s,u,r.to.x,b))),("content"===h||"both"===h)&&r.from.y!==r.to.y&&(v=e.effects.setTransition(s,a,r.from.y,v),b=e.effects.setTransition(s,a,r.to.y,b)),f&&(i=e.effects.getBaseline(f,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,b.top=(m.outerHeight-b.outerHeight)*i.y+g.top,b.left=(m.outerWidth-b.outerWidth)*i.x+g.left),s.css(v),("content"===h||"both"===h)&&(l=l.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=e(this),i=e.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=e.effects.setTransition(n,l,r.from.y,o),s=e.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=e.effects.setTransition(n,u,r.from.x,o),s=e.effects.setTransition(n,u,r.to.x,s)),d&&e.effects.saveStyle(n),n.css(o),n.animate(s,t.duration,t.easing,function(){d&&e.effects.restoreStyle(n)})})),s.animate(b,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=s.offset();0===b.opacity&&s.css("opacity",v.opacity),d||(s.css("position","static"===p?"relative":p).offset(t),e.effects.saveStyle(s)),n()}})}),e.effects.define("scale",function(t,n){var i=e(this),r=t.mode,o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==r?0:100),s=e.extend(!0,{from:e.effects.scaledDimensions(i),to:e.effects.scaledDimensions(i,o,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(s.from.opacity=1,s.to.opacity=0),e.effects.effect.size.call(this,s,n)}),e.effects.define("puff","hide",function(t,n){var i=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,i,n)}),e.effects.define("pulsate","show",function(t,n){var i=e(this),r=t.mode,o="show"===r,s=o||"hide"===r,a=2*(t.times||5)+(s?1:0),l=t.duration/a,u=0,c=1,d=i.queue().length;for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),u=1);a>c;c++)i.animate({opacity:u},l,t.easing),u=1-u;i.animate({opacity:u},l,t.easing),i.queue(n),e.effects.unshift(i,d,a+1)}),e.effects.define("shake",function(t,n){var i=1,r=e(this),o=t.direction||"left",s=t.distance||20,a=t.times||3,l=2*a+1,u=Math.round(t.duration/l),c="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,h={},f={},p={},g=r.queue().length;for(e.effects.createPlaceholder(r),h[c]=(d?"-=":"+=")+s,f[c]=(d?"+=":"-=")+2*s,p[c]=(d?"-=":"+=")+2*s,r.animate(h,u,t.easing);a>i;i++)r.animate(f,u,t.easing).animate(p,u,t.easing);r.animate(f,u,t.easing).animate(h,u/2,t.easing).queue(n),e.effects.unshift(r,g,l+1)}),e.effects.define("slide","show",function(t,n){var i,r,o=e(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d=t.distance||o["top"===u?"outerHeight":"outerWidth"](!0),h={};e.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[u],h[u]=(c?-1:1)*d+r,h.clip=o.cssClip(),h.clip[s[l][1]]=h.clip[s[l][0]],"show"===a&&(o.cssClip(h.clip),o.css(u,h[u]),h.clip=i,h[u]=r),o.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),!1!==e.uiBackCompat&&e.effects.define("transfer",function(t,n){e(this).transfer(t,n)}),e.ui.focusable=function(t,n){var i,r,o,s,a,l=t.nodeName.toLowerCase();return"area"===l?(r=(i=t.parentNode).name,!(!t.href||!r||"map"!==i.nodeName.toLowerCase())&&((o=e("img[usemap='#"+r+"']")).length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(s=!t.disabled)&&((a=e(t).closest("fieldset")[0])&&(s=!a.disabled)):s="a"===l&&t.href||n,s&&e(t).is(":visible")&&function(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"hidden"!==t}(e(t)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable,e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var n=t.data("ui-form-reset-instances");e.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],function(t,n){function i(t,n,i,o){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(o,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,r)+"px")})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}(),e.fn.labels=function(){var t,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),n="label[for='"+e.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),i=null!=n;return(!i||n>=0)&&e.ui.focusable(t,i)}}),e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,n,i=this.options.icons;i&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),void("icons"===e&&(this._destroyIcons(),t&&this._createIcons())))},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),e(o).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=r.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){var n=e(this).is(":visible");n||e(this).show(),t=Math.max(t,e(this).css("height","").height()),n||e(this).hide()}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n,i,r=this.options,o=this.active,s=e(t.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,u=l?e():s.next(),c={oldHeader:o,oldPanel:o.next(),newHeader:l?e():s,newPanel:u};t.preventDefault(),a&&!r.collapsible||!1===this._trigger("beforeActivate",t,c)||(r.active=!l&&this.headers.index(s),this.active=a?e():s,this._toggle(c),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,o,s=this,a=0,l=e.css("box-sizing"),u=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},d=u&&c.down||c,h=function(){s._toggleComplete(n)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||c.easing,o=o||d.duration||c.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,o,r,h):e.animate(this.showProps,o,r,h)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target),i=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var n,i,r,o,s=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,i=this.previousFilter||"",o=!1,r=t.keyCode>=96&&105>=t.keyCode?""+(t.keyCode-96):String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,i,r,o=this,s=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(t=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=e(this);o._isDivider(t)&&o._addClass(t,"ui-menu-divider","ui-widget-content")}),r=(i=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e+""),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=t.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return 0>(n=e(this)).offset().top-i-r}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}}),e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),void((i=n.item.attr("aria-label")||r.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(t,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!i)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var h,f=/ui-corner-([a-z]){2,6}/g;e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,n=[];e.each(this.options.items,function(i,r){var o,s={};return r?"controlgroupLabel"===i?((o=t.element.find(r)).each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(e.fn[i]&&(s=t["_"+i+"Options"]?t["_"+i+"Options"]("middle"):{classes:{}},t.element.find(r).each(function(){var r=e(this),o=r[i]("instance"),a=e.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=t._resolveClassesValues(a.classes,o)),r[i](a);var l=r[i]("widget");e.data(l[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(l[0])}}))):void 0}),this.childWidgets=e(e.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var n=e(this).data("ui-controlgroup-data");n&&n[t]&&n[t]()})},_updateCornerClass:function(e,t){var n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,n){var i={};return e.each(t,function(r){var o=n.options.classes[r]||"";o=e.trim(o.replace(f,"")),i[r]=(o+" "+t[r]).replace(/\s+/g," ")}),i},_setOption:function(e,t){return"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"===e?void this._callChildMethod(t?"disable":"enable"):void this.refresh()},refresh:function(){var t,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,i){var r=t[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===t.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(t[i](),i)}),this._callChildMethod("refresh"))}}),e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=e(n[n.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(r.disabled=t),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,n="input[name='"+e.ui.escapeSelector(t)+"']";return t?(this.form.length?e(this.form[0].elements).filter(n):e(n).filter(function(){return 0===e(this).form().length})).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){return"label"!==e||t?(this._super(e,t),"disabled"===e?(this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t)):void this.refresh()):void 0},_updateIcon:function(t){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio,e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,n){var i="iconPosition"!==t,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){return"text"===e?void this._super("showLabel",t):("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.12.1"}}),e.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,o;r="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(e(t),r)).settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,i){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[a?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(i=this._get(n,"showOn"))||"both"===i)&&t.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[a?"before":"after"](n.trigger),n.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;e.length>r;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,o,s){var a,l,u,c,d,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],"datepicker",h)),r(h.settings,o||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),h===r&&(h=null))},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=t.nodeName.toLowerCase())?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var o,s,a,l,u=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(o=n||{},"string"==typeof n&&((o={})[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),r(u.settings,o),null!==a&&void 0!==o.dateFormat&&void 0===o.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return(r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),(n=e.datepicker._get(o,"onSelect"))?(i=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,i,o,s,a,l,u;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(o=(i=e.datepicker._get(n,"beforeShow"))?i.apply(t,[t,n]):{})&&(r(n.settings,o),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return!(s|="fixed"===e(this).css("position"))}),a={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),a=e.datepicker._checkOffset(n,a,s),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),n.inline||(l=e.datepicker._get(n,"showAnim"),u=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),u):n.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,h=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,r=this._getNumberOfMonths(t),o=r[1],s=t.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&i.apply(s.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),t.dpDiv[(1!==r[0]||1!==r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-s:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+a?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+a):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,i,r,o,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[n]||e.effects[n])?s.dpDiv.hide(n,e.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,s=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(o).val(r))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?""+n:n+""))return null;var r,o,s,a,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,_=function(e){var n=t.length>r+1&&t.charAt(r+1)===e;return n&&r++,n},w=function(e){var t=_(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r=RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),o=n.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(t,i,r){var o=-1,s=e.map(_(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=t[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},C=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;t.length>r;r++)if(y)"'"!==t.charAt(r)||_("'")?C():y=!1;else switch(t.charAt(r)){case"d":v=w("d");break;case"D":x("D",d,h);break;case"o":b=w("o");break;case"m":m=w("m");break;case"M":m=x("M",f,p);break;case"y":g=w("y");break;case"@":g=(a=new Date(w("@"))).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":g=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?C():y=!0;break;default:C()}if(n.length>l&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),b>-1)for(m=1,v=b;!((o=this._getDaysInMonth(g,m-1))>=v);)m++,v-=o;if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=e.length>i+1&&e.charAt(i+1)===t;return n&&i++,n},u=function(e,t,n){var i=""+t;if(l(e))for(;n>i.length;)i="0"+i;return i},c=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;e.length>i;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=u("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),r,o);break;case"o":d+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),s,a);break;case"y":d+=l("y")?t.getFullYear():(10>t.getFullYear()%100?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=e.length>t+1&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;e.length>t;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,s=this._getFormatConfig(e);try{o=this.parseDate(n,i,s)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(r,o))}l=a.exec(n)}return new Date(r,o,s)}(n):"number"==typeof n?isNaN(n)?i:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return(r=r&&"Invalid Date"==""+r?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,s,a,l,u,c,d,h,f,p,g,m,v,b,y,_,w,x,C,k,T,E,S,N,D,A,I,P,O,M,R,B,L,F,H,j=new Date,z=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),q=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),$=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),X=1!==V[0]||1!==V[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-Y,ee=e.drawYear;if(0>Z&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-V[0]*V[1]+1,Q.getDate())),t=J&&J>t?J:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)0>--Z&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=$?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-K,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=$?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z+K,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>",s=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?G:z,s=$?this.formatDate(s,a,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(q?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),_="",x=0;V[0]>x;x++){for(C="",this.maxRows=4,k=0;V[1]>k;k++){if(T=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),E=" ui-corner-all",S="",X){if(S+="<div class='ui-datepicker-group",V[1]>1)switch(k){case 0:S+=" ui-datepicker-group-first",E=" ui-corner-"+(q?"right":"left");break;case V[1]-1:S+=" ui-datepicker-group-last",E=" ui-corner-"+(q?"left":"right");break;default:S+=" ui-datepicker-group-middle",E=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+E+"'>"+(/all|left/.test(E)&&0===x?q?o:i:"")+(/all|right/.test(E)&&0===x?q?i:o:"")+this._generateMonthYearHeader(e,Z,ee,J,Q,x>0||k>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",N=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)D=(w+c)%7,N+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[D]+"'>"+f[D]+"</span></th>";for(S+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),I=(this._getFirstDayOfMonth(ee,Z)-c+7)%7,P=Math.ceil((I+A)/7),O=X&&this.maxRows>P?this.maxRows:P,this.maxRows=O,M=this._daylightSavingAdjust(new Date(ee,Z,1-I)),R=0;O>R;R++){for(S+="<tr>",B=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(M)+"</td>":"",w=0;7>w;w++)L=m?m.apply(e.input?e.input[0]:null,[M]):[!0,""],H=(F=M.getMonth()!==Z)&&!b||!L[0]||J&&J>M||Q&&M>Q,B+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(M.getTime()===T.getTime()&&Z===e.selectedMonth&&e._keyEvent||y.getTime()===M.getTime()&&y.getTime()===T.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+L[1]+(M.getTime()===G.getTime()?" "+this._currentClass:"")+(M.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+M.getMonth()+"' data-year='"+M.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+M.getDate()+"</span>":"<a class='ui-state-default"+(M.getTime()===z.getTime()?" ui-state-highlight":"")+(M.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+M.getDate()+"</a>")+"</td>",M.setDate(M.getDate()+1),M=this._daylightSavingAdjust(M);S+=B+"</tr>"}++Z>11&&(Z=0,ee++),C+=S+="</tbody></table>"+(X?"</div>"+(V[0]>0&&k===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=C}return _+=u,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,n,i,r,o,s,a){var l,u,c,d,h,f,p,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(o||!m)_+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||r.getMonth()>=c)&&(_+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+a[c]+"</option>");_+="</select>"}if(b||(y+=_+(!o&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=(f=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t})(d[0]),g=Math.max(p,f(d[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!o&&m&&v?"":"&#xa0;")+_),y+"</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),r=e.selectedMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,a=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!a||a>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new t,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var p=!1;e(document).on("mouseup",function(){p=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!p){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),p=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,p=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")},e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),void((i=(n=e(r.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,n,i){e.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-t.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-t.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(a).scrollTop()<r.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<r.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(a).scrollLeft()<r.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<r.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,o,s,a,l,u,c,d,h,f,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)u=(l=i.snapElements[h].left-i.margins.left)+i.snapElements[h].width,d=(c=i.snapElements[h].top-i.margins.top)+i.snapElements[h].height,l-g>v||m>u+g||c-g>y||b>d+g||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(r=g>=Math.abs(c-y),o=g>=Math.abs(d-b),s=g>=Math.abs(l-v),a=g>=Math.abs(u-m),r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),f=r||o||s||a,"outer"!==p.snapMode&&(r=g>=Math.abs(c-b),o=g>=Math.abs(d-y),s=g>=Math.abs(l-m),a=g>=Math.abs(u-v),r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||s||a||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||s||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;i.length>n;n++)r="ui-resizable-"+(t=e.trim(i[n])),o=e("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(o);this._renderAxis=function(t){var n,i,r,o;for(n in t=t||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,s=t.pageX-r.left||0,a=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,s,a,l,u=this.options,c=this;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-r},a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&u&&(e.left=a-t.minWidth),i&&u&&(e.left=a-t.maxWidth),s&&c&&(e.top=l-t.minHeight),r&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(r[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,s,a,l=e(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,h=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:o,a=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:s,height:a}))},resize:function(t){var n,i,r,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||t.shiftKey,d={top:0,left:0},h=s.containerElement,f=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),c&&(s.size.height=s.size.width/s.aspectRatio,f=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,f=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,f=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,f=!1)),f||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,u=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:u}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance").options;e(t.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,d=Math.round((r.width-o.width)/u)*u,h=Math.round((r.height-o.height)/c)*c,f=o.width+d,p=o.height+h,g=i.maxWidth&&f>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,v=i.minWidth&&i.minWidth>f,b=i.minHeight&&i.minHeight>p;i.grid=l,v&&(f+=u),b&&(p+=c),g&&(f-=u),m&&(p-=c),/^(se|s|e)$/.test(a)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.top=s.top-h):/^(sw)$/.test(a)?(n.size.width=f,n.size.height=p,n.position.left=s.left-d):((0>=p-c||0>=f-u)&&(t=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=s.top-h):(p=c-t.height,n.size.height=p,n.position.top=s.top+o.height-p),f-u>0?(n.size.width=f,n.position.left=s.left-d):(f=u-t.width,n.size.width=f,n.position.left=s.left+o.width-f))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function n(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(n,function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,e("<button></button>",i).button(o).appendTo(t.uiButtonSet).on("click",function(){r.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(e(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,o){var s=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},n._removeClass(e(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){n._addClass(e(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,o){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(e(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,n){var i,r,o=this.uiDialog;"disabled"!==t&&(this._super(t,n),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog,e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&g(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var g=e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,i,r){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=s+t.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,h=c+n.proportions().height;switch(i){case"fit":return o>=u&&d>=a&&s>=c&&h>=l;case"intersect":return o+t.helperProportions.width/2>u&&d>a-t.helperProportions.width/2&&s+t.helperProportions.height/2>c&&h>l-t.helperProportions.height/2;case"pointer":return e(r.pageY,c,n.proportions().height)&&e(r.pageX,u,n.proportions().width);case"touch":return(s>=c&&h>=s||l>=c&&h>=l||c>s&&l>h)&&(o>=u&&d>=o||a>=u&&d>=a||u>o&&a>d);default:return!1}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(r=0;a.length>r;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue e}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&g(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=g(t,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r})).length&&((i=e(o[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable,e.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=e("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var n=e(this),i=n.offset(),r={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");return r?(i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=t.pageX,l=t.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),u=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?u=!(c.left>a||o>c.right||c.top>l||s>c.bottom):"fit"===r.tolerance&&(u=c.left>o&&a>c.right&&c.top>s&&l>c.bottom),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=e("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var n=e("<span>");return this._setText(n,t.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(n,o){var s;o.optgroup!==r&&(s=e("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(t),r=o.optgroup),i._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>"),r=e("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;return!1===e?void this.button.css("width",""):(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(e))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(t){var n=this,i=[];t.each(function(t,r){i.push(n._parseOption(e(r),t))}),this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;n>t;t++)o.push("<span tabindex='0'></span>");this.handles=r.add(e(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===t.range||"max"===t.range)&&this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,s,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-u.values(t));(r>n||r===n&&(t===u._lastChangedValue||u.values(t)===c.min))&&(r=n,o=e(this),s=t)}),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-o.width()/2,top:t.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),o[t]=n),n!==r&&(!1!==this._trigger("slide",e,this._uiHash(t,n,o))&&(this._hasMultipleValues()?this.values(t,n):this.value(n)))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),this._super(t,n),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(t){var n,i,r,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>a&&l>i+u,h="y"===this.options.axis||t+c>o&&s>t+c,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:t+this.helperProportions.width/2>o&&s>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!!(i&&r)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&t)for(i=u.length-1;i>=0;i--)for(r=(o=e(u[i],this.document[0])).length-1;r>=0;r--)(s=e.data(o[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(r=e(h[n],this.document[0])).length-1;i>=0;i--)(o=e.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],i=0,u=(a=d[n][0]).length;u>i;i++)(l=e(a[i])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){var n,i=(t=t||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]);return t._addClass(r,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,o,s,a,l,u,c,d,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,s=(c=h.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",d=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,t[d]-l>this.items[i][a]/2&&(u=!0),r>Math.abs(t[d]-l)&&(r=Math.abs(t[d]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),n=this.element;return e.each(["min","max","step"],function(e,i){var r=n.attr(i);null!=r&&r.length&&(t[i]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return n=e-(t=null!==i.min?i.min:0),e=t+(n=Math.round(n/i.step)*i.step),e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&i.min>e?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n,i,r;return"culture"===e||"numberFormat"===e?(n=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(n))):(("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),void this._super(e,t))},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:o(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&(null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:o(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:o(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:o(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:o(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void o(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),e.ui.spinner,e.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;n=t.href.replace(e,""),i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(n,r){return e(r).attr("aria-controls")===i?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=!!this.tabs.length&&0)),!1!==t&&(-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0)),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(e.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){for(var i=this.tabs.length-1;-1!==e.inArray((t>i&&(t=0),0>t&&(t=i),t),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){return"active"===e?void this._activate(t):(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each(function(n,i){var r,o,s,a=e(i).uniqueId().attr("id"),l=e(i).closest("li"),u=l.attr("aria-controls");t._isLocal(i)?(s=(r=i.hash).substring(1),o=t.element.find(t._sanitizeSelector(r))):(r="#"+(s=l.attr("aria-controls")||e({}).uniqueId()[0].id),(o=t.element.find(r)).length||(o=t._createPanel(s)).insertAfter(t.panels[n-1]||t.tablist),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var n,i,r;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;i=this.tabs[r];r++)n=e(i),!0===t||-1!==e.inArray(r,t)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget).closest("li"),o=r[0]===i[0],s=o&&n.collapsible,a=s?e():this._getPanelForTab(r),l=i.length?this._getPanelForTab(i):e(),u={oldTab:i,oldPanel:l,newTab:s?e():r,newPanel:a};t.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",t,u)||(n.active=!s&&this.tabs.index(r),this.active=o?e():r,this.xhr&&this.xhr.abort(),l.length||a.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),t),this._toggle(t,u))},_toggle:function(t,n){function i(){o.running=!1,o._trigger("activate",t,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setOptionDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setOptionDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(e,t){"abort"===t&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,r){setTimeout(function(){s.html(e),i._trigger("load",n,a),l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),e.ui.tabs,e.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),(i=e.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,n){var i=this;this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0],t.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);return t.is("[title]")?t.data("ui-tooltip-title",t.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=e([])},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&((t=e.Event("blur")).target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,o=t?t.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(t,e,i):void((n=i.call(e[0],function(n){r._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,n))})}))&&this._open(t,e,n))},_open:function(t,n,i){function r(e){u.of=e,s.is(":hidden")||s.position(u)}var o,s,a,l,u=e.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),s=o.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(l=e("<div>").html(s.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):s.position(e.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(u.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:s})}},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),i=e("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(t)),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],t.close(r,!0),e("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),e.ui.tooltip}),function(exports,global){var origDefine=global.define,get=function(e){var t,n=e.split("."),i=global;for(t=0;t<n.length&&i;t++)i=i[n[t]];return i},modules=global.define&&global.define.modules||global._define&&global._define.modules||{},ourDefine=global.define=function(e,t,n){var i;"function"==typeof t&&(n=t,t=[]);var r,o=[];for(r=0;r<t.length;r++)o.push(exports[t[r]]?get(exports[t[r]]):modules[t[r]]||get(t[r]));if(!t.length&&n.length){i={exports:{}};o.push(function(e){return exports[e]?get(exports[e]):modules[e]},i.exports,i)}else o[0]||"exports"!==t[0]?o[0]||"module"!==t[0]||(o[0]={id:e}):(i={exports:{}},o[0]=i.exports,"module"===t[1]&&(o[1]=i));global.define=origDefine;var s=n?n.apply(null,o):void 0;global.define=ourDefine,modules[e]=i&&i.exports?i.exports:s};global.define.orig=origDefine,global.define.modules=modules,global.define.amd=!0,ourDefine("@loader",[],function(){var noop=function(){};return{get:function(){return{prepareGlobal:noop,retrieveGlobal:noop}},global:global,__exec:function(__load){eval("(function() { "+__load.source+" \n }).call(global);")}}})}({},window),define("can/util/can",[],function(){var e="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global,t={};("undefined"==typeof GLOBALCAN||!1!==GLOBALCAN)&&(e.can=t),t.global=e,t.k=function(){},t.isDeferred=function(e){return t.dev&&t.dev.warn("can.isDeferred: this function is deprecated and will be removed in a future release. can.isPromise replaces the functionality of can.isDeferred."),e&&"function"==typeof e.then&&"function"==typeof e.pipe},t.isPromise=function(e){return!!e&&(window.Promise&&e instanceof Promise||t.isFunction(e.then)&&(void 0===t.List||!(e instanceof t.List)))},t.isMapLike=function(e){return t.Map&&(e instanceof t.Map||e&&e.___get)};var n=0;t.cid=function(e,t){return e._cid||(n++,e._cid=(t||"")+n),e._cid},t.VERSION="@EDGE",t.simpleExtend=function(e,t){for(var n in t)e[n]=t[n];return e},t.last=function(e){return e&&e[e.length-1]},t.isDOM=function(e){return(e.ownerDocument||e)===t.global.document},t.childNodes=function(e){var t=e.childNodes;if("length"in t)return t;for(var n=e.firstChild,i=[];n;)i.push(n),n=n.nextSibling;return i};var i=Function.prototype.bind;t.proxy=i?function(e,t){return i.call(e,t)}:function(e,t){return function(){return e.apply(t,arguments)}},t.frag=function(e,n){var i,r=n||t.document||t.global.document;return e&&"string"!=typeof e?11===e.nodeType?e:"number"==typeof e.nodeType?((i=r.createDocumentFragment()).appendChild(e),i):"number"==typeof e.length?(i=r.createDocumentFragment(),t.each(e,function(e){i.appendChild(t.frag(e))}),t.childNodes(i).length||i.appendChild(r.createTextNode("")),i):(i=t.buildFragment(""+e,r),t.childNodes(i).length||i.appendChild(r.createTextNode("")),i):((i=t.buildFragment(null==e?"":""+e,r)).childNodes.length||i.appendChild(r.createTextNode("")),i)},t.scope=t.viewModel=function(e,n,i){e=t.$(e);var r=t.data(e,"scope")||t.data(e,"viewModel");switch(r||(r=new t.Map,t.data(e,"scope",r),t.data(e,"viewModel",r)),arguments.length){case 0:case 1:return r;case 2:return r.attr(n);default:return r.attr(n,i),e}};var r=function(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null};return t.joinURIs=function(e,t){return t=r(t||""),e=r(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null},t.import=function(e,n){var i=new t.Deferred;return"object"==typeof window.System&&t.isFunction(window.System.import)?window.System.import(e,{name:n}).then(t.proxy(i.resolve,i),t.proxy(i.reject,i)):window.define&&window.define.amd?window.require([e],function(e){i.resolve(e)}):window.steal?steal.steal(e,function(e){i.resolve(e)}):window.require?i.resolve(window.require(e)):i.resolve(),i.promise()},t.__observe=function(){},t.isNode="object"==typeof process&&"[object process]"==={}.toString.call(process),t.isBrowserWindow="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"==typeof SimpleDOM,t.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,t}),define("can/util/attr/attr",["can/util/can"],function(e){var t=e.global.setImmediate||function(e){return setTimeout(e,0)},n={input:!0,textarea:!0,select:!0},i=function(t,i){return i in t||e.document&&n[t.nodeName.toLowerCase()]},r={MutationObserver:e.global.MutationObserver||e.global.WebKitMutationObserver||e.global.MozMutationObserver,map:{class:function(e,t){return t=t||"","http://www.w3.org/2000/svg"===e.namespaceURI?e.setAttribute("class",t):e.className=t,t},value:"value",innertext:"innerText",innerhtml:"innerHTML",textcontent:"textContent",for:"htmlFor",checked:!0,disabled:!0,readonly:function(e,t){return e.readOnly=!(!t&&"string"!=typeof t),t},required:!0,src:function(e,t){return null==t||""===t?(e.removeAttribute("src"),null):(e.setAttribute("src",t),t)},style:function(){var t=e.global.document&&document.createElement("div");return t&&t.style&&"cssText"in t.style?function(e,t){return e.style.cssText=t||""}:function(e,t){return e.setAttribute("style",t)}}()},defaultValue:["input","textarea"],setAttrOrProp:function(e,t,n){t=t.toLowerCase(),!0!==r.map[t]||n?this.set(e,t,n):this.remove(e,t)},setSelectValue:function(e,t){if(null!=t)for(var n=e.getElementsByTagName("option"),i=0;i<n.length;i++)if(t==n[i].value)return void(n[i].selected=!0);e.selectedIndex=-1},set:function(t,n,o){var s,a=e.isDOM(t)&&r.MutationObserver;n=n.toLowerCase(),a||(s=r.get(t,n));var l,u=r.map[n];"function"==typeof u?l=u(t,o):!0===u&&i(t,n)?(l=t[n]=!0,"checked"===n&&"radio"===t.type&&e.inArray((t.nodeName+"").toLowerCase(),r.defaultValue)>=0&&(t.defaultChecked=!0)):"string"==typeof u&&i(t,u)?(l=o,(t[u]!==o||"OPTION"===t.nodeName.toUpperCase())&&(t[u]=o),"value"===u&&e.inArray((t.nodeName+"").toLowerCase(),r.defaultValue)>=0&&(t.defaultValue=o)):r.setAttribute(t,n,o),a||l===s||r.trigger(t,n,s)},setAttribute:function(){var t=e.global.document;if(t&&document.createAttribute)try{t.createAttribute("{}")}catch(e){var n={},i=document.createElement("div");return function(e,t,r){var o,s,a=t.charAt(0);"{"!==a&&"("!==a&&"*"!==a||!e.setAttributeNode?e.setAttribute(t,r):((o=n[t])||(i.innerHTML="<div "+t+'=""></div>',o=n[t]=i.childNodes[0].attributes[0]),(s=o.cloneNode()).value=r,e.setAttributeNode(s))}}return function(e,t,n){e.setAttribute(t,n)}}(),trigger:function(n,i,r){return e.data(e.$(n),"canHasAttributesBindings")?(i=i.toLowerCase(),t(function(){e.trigger(n,{type:"attributes",attributeName:i,target:n,oldValue:r,bubbles:!1},[])})):void 0},get:function(e,t){t=t.toLowerCase();var n=r.map[t];return"string"==typeof n&&i(e,n)?e[n]:!0===n&&i(e,t)?e[t]:e.getAttribute(t)},remove:function(e,t){var n;t=t.toLowerCase(),r.MutationObserver||(n=r.get(e,t));var o=r.map[t];"function"==typeof o&&o(e,void 0),!0===o&&i(e,t)?e[t]=!1:"string"==typeof o&&i(e,o)?e[o]="":e.removeAttribute(t),r.MutationObserver||null==n||r.trigger(e,t,n)},has:function(){var t=e.global.document&&document.createElement("div");return t&&t.hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){return null!==e.getAttribute(t)}}()};return r}),define("can/event/event",["can/util/can"],function(e){return e.addEvent=function(e,t){var n=this.__bindEvents||(this.__bindEvents={});return(n[e]||(n[e]=[])).push({handler:t,name:e}),this},e.listenTo=function(t,n,i){var r=this.__listenToEvents;r||(r=this.__listenToEvents={});var o=e.cid(t),s=r[o];s||(s=r[o]={obj:t,events:{}});var a=s.events[n];a||(a=s.events[n]=[]),a.push(i),e.bind.call(t,n,i)},e.stopListening=function(t,n,i){var r=this.__listenToEvents,o=r,s=0;if(!r)return this;if(t){var a=e.cid(t);if((o={})[a]=r[a],!r[a])return this}for(var l in o){var u,c=o[l];for(var d in t=r[l].obj,n?(u={})[n]=c.events[n]:u=c.events,u){var h=u[d]||[];for(s=0;s<h.length;)i&&i===h[s]||!i?(e.unbind.call(t,d,h[s]),h.splice(s,1)):s++;h.length||delete c.events[d]}e.isEmptyObject(c.events)&&delete r[l]}return this},e.removeEvent=function(e,t,n){if(!this.__bindEvents)return this;for(var i,r=this.__bindEvents[e]||[],o=0,s="function"==typeof t;o<r.length;)i=r[o],(n?n(i,e,t):s&&i.handler===t||!s&&(i.cid===t||!t))?r.splice(o,1):o++;return this},e.dispatch=function(e,t){var n=this.__bindEvents;if(n){var i;"string"==typeof e?(i=e,e={type:e}):i=e.type;var r=n[i];if(r){r=r.slice(0);var o=[e];t&&o.push.apply(o,t);for(var s=0,a=r.length;a>s;s++)r[s].handler.apply(this,o);return e}}},e.one=function(t,n){var i=function(){return e.unbind.call(this,t,i),n.apply(this,arguments)};return e.bind.call(this,t,i),this},e.event={on:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.on.call(this):e.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&e.Control&&this instanceof e.Control?e.Control.prototype.off.call(this):e.removeEvent.apply(this,arguments)},bind:e.addEvent,unbind:e.removeEvent,delegate:function(t,n,i){return e.addEvent.call(this,n,i)},undelegate:function(t,n,i){return e.removeEvent.call(this,n,i)},trigger:e.dispatch,one:e.one,addEvent:e.addEvent,removeEvent:e.removeEvent,listenTo:e.listenTo,stopListening:e.stopListening,dispatch:e.dispatch},e.event}),define("can/util/fragment",["can/util/can"],function(e){var t=/^\s*<(\w+)[^>]*>/,n={}.toString,i=function(i,r,o){void 0===r&&(r=t.test(i)&&RegExp.$1),i&&"[object Function]"===n.call(i.replace)&&(i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var s=o.createElement("div"),a=o.createElement("div");"tbody"===r||"tfoot"===r||"thead"===r||"colgroup"===r?(a.innerHTML="<table>"+i+"</table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild):"col"===r?(a.innerHTML="<table><colgroup>"+i+"</colgroup></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild):"tr"===r?(a.innerHTML="<table><tbody>"+i+"</tbody></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild):"td"===r||"th"===r?(a.innerHTML="<table><tbody><tr>"+i+"</tr></tbody></table>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild.firstChild.firstChild):"option"===r?(a.innerHTML="<select>"+i+"</select>",s=3===a.firstChild.nodeType?a.lastChild:a.firstChild):s.innerHTML=""+i;var l={},u=e.childNodes(s);l.length=u.length;for(var c=0;c<u.length;c++)l[c]=u[c];return[].slice.call(l)};return e.buildFragment=function(e,t){if(e&&11===e.nodeType)return e;t?t.length&&(t=t[0]):t=document;for(var n=i(e,void 0,t),r=(t||document).createDocumentFragment(),o=0,s=n.length;s>o;o++)r.appendChild(n[o]);return r},function(){var t="<-\n>";if(t!==e.buildFragment(t,document).firstChild.nodeValue){var n=e.buildFragment;e.buildFragment=function(e,t){var i=n(e,t);return 1===i.childNodes.length&&3===i.childNodes[0].nodeType&&(i.childNodes[0].nodeValue=e),i}}}(),e}),define("can/util/array/isArrayLike",["can/util/can"],function(e){e.isArrayLike=function(e){var t=e&&"boolean"!=typeof e&&"number"!=typeof e&&"length"in e&&e.length;return"function"!=typeof arr&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}}),define("can/util/array/each",["can/util/can","can/util/array/isArrayLike"],function(e){return e.each=function(t,n,i){var r,o,s,a=0;if(t)if(e.isArrayLike(t))if(e.List&&t instanceof e.List)for(o=t.attr("length");o>a&&(s=t.attr(a),!1!==n.call(i||s,s,a,t));a++);else for(o=t.length;o>a&&(s=t[a],!1!==n.call(i||s,s,a,t));a++);else if("object"==typeof t)if(e.Map&&t instanceof e.Map||t===e.route){var l=e.Map.keys(t);for(a=0,o=l.length;o>a&&(r=l[a],s=t.attr(r),!1!==n.call(i||s,s,r,t));a++);}else for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&!1===n.call(i||t[r],t[r],r,t))break;return t},e}),define("can/util/inserted/inserted",["can/util/can"],function(e){e.inserted=function(t,n){if(t.length){t=e.makeArray(t);for(var i,r,o=n||t[0].ownerDocument||t[0],s=!1,a=e.$(o.contains?o:o.body),l=0;void 0!==(r=t[l]);l++){if(!s){if(!r.getElementsByTagName)continue;if(!e.has(a,r).length)return;s=!0}if(s&&r.getElementsByTagName){i=e.makeArray(r.getElementsByTagName("*")),e.trigger(r,"inserted",[],!1);for(var u,c=0;void 0!==(u=i[c]);c++)e.trigger(u,"inserted",[],!1)}}}},e.appendChild=function(t,n,i){var r;r=11===n.nodeType?e.makeArray(e.childNodes(n)):[n],t.appendChild(n),e.inserted(r,i)},e.insertBefore=function(t,n,i,r){var o;o=11===n.nodeType?e.makeArray(e.childNodes(n)):[n],t.insertBefore(n,i),e.inserted(o,r)}}),define("can/util/jquery/jquery",["jquery/dist/jquery","can/util/can","can/util/attr/attr","can/event/event","can/util/fragment","can/util/array/each","can/util/inserted/inserted"],function(e,t,n,i){var r=function(e){return e.nodeName&&(1===e.nodeType||9===e.nodeType)||e==window||e.addEventListener};(e=e||window.jQuery).extend(t,e,{trigger:function(n,i,o,s){r(n)?e.event.trigger(i,o,n,!s):n.trigger?n.trigger(i,o):("string"==typeof i&&(i={type:i}),i.target=i.target||n,o&&(o.length&&"string"==typeof o?o=[o]:o.length||(o=[o])),o||(o=[]),t.dispatch.call(n,i,o))},event:t.event,addEvent:t.addEvent,removeEvent:t.removeEvent,buildFragment:t.buildFragment,$:e,each:t.each,bind:function(n,i){return this.bind&&this.bind!==t.bind?this.bind(n,i):r(this)?e.event.add(this,n,i):t.addEvent.call(this,n,i),this},unbind:function(n,i){return this.unbind&&this.unbind!==t.unbind?this.unbind(n,i):r(this)?e.event.remove(this,n,i):t.removeEvent.call(this,n,i),this},delegate:function(n,i,o){return this.delegate?this.delegate(n,i,o):r(this)?e(this).delegate(n,i,o):t.bind.call(this,i,o),this},undelegate:function(n,i,o){return this.undelegate?this.undelegate(n,i,o):r(this)?e(this).undelegate(n,i,o):t.unbind.call(this,i,o),this},proxy:t.proxy,attr:n}),t.on=t.bind,t.off=t.unbind,e.each(["append","filter","addClass","remove","data","get","has"],function(e,n){t[n]=function(e){return e[n].apply(e,t.makeArray(arguments).slice(1))}});var o=e.cleanData;e.cleanData=function(n){e.each(n,function(e,n){n&&t.trigger(n,"removed",[],!1)}),o(n)};var s,a=e.fn.domManip;e.fn.domManip=function(e,t,n){for(var i=1;i<arguments.length;i++)if("function"==typeof arguments[i]){s=i;break}return a.apply(this,arguments)},e(document.createElement("div")).append(document.createElement("div"));void 0===s?(e.fn.domManip=a,t.each(["after","prepend","before","append","replaceWith"],function(n){var i=e.fn[n];e.fn[n]=function(){var e=[],n=t.makeArray(arguments);null!=n[0]&&("string"==typeof n[0]&&(n[0]=t.buildFragment(n[0])),e=11===n[0].nodeType?function(e){var n=e.childNodes;if("length"in n)return t.makeArray(n);for(var i=e.firstChild,r=[];i;)r.push(i),i=i.nextSibling;return r}(n[0]):t.isArrayLike(n[0])?t.makeArray(n[0]):[n[0]]);var r=i.apply(this,n);return t.inserted(e),r}})):e.fn.domManip=2===s?function(e,n,i){return a.call(this,e,n,function(e){var n;11===e.nodeType&&(n=t.makeArray(t.childNodes(e)));var r=i.apply(this,arguments);return t.inserted(n||[e]),r})}:function(e,n){return a.call(this,e,function(e){var i;11===e.nodeType&&(i=t.makeArray(t.childNodes(e)));var r=n.apply(this,arguments);return t.inserted(i||[e]),r})};var l=e.attr;e.attr=function(e,n){if(t.isDOM(e)&&t.attr.MutationObserver)return l.apply(this,arguments);var i,r;arguments.length>=3&&(i=l.call(this,e,n));var o=l.apply(this,arguments);return arguments.length>=3&&(r=l.call(this,e,n)),r!==i&&t.attr.trigger(e,n,i),o};var u=e.removeAttr;return e.removeAttr=function(e,n){if(t.isDOM(e)&&t.attr.MutationObserver)return u.apply(this,arguments);var i=l.call(this,e,n),r=u.apply(this,arguments);return null!=i&&t.attr.trigger(e,n,i),r},e.event.special.attributes={setup:function(){if(t.isDOM(this)&&t.attr.MutationObserver){var e=this,n=new t.attr.MutationObserver(function(n){n.forEach(function(n){var i=t.simpleExtend({},n);t.trigger(e,i,[])})});n.observe(this,{attributes:!0,attributeOldValue:!0}),t.data(t.$(this),"canAttributesObserver",n)}else t.data(t.$(this),"canHasAttributesBindings",!0)},teardown:function(){t.isDOM(this)&&t.attr.MutationObserver?(t.data(t.$(this),"canAttributesObserver").disconnect(),e.removeData(this,"canAttributesObserver")):e.removeData(this,"canHasAttributesBindings")}},e.event.special.inserted={},e.event.special.removed={},t}),define("can/util/util",["can/util/jquery/jquery"],function(e){return e}),define("can/util/string/string",["can/util/util"],function(e){var t=/\=\=/,n=/([A-Z]+)([A-Z][a-z])/g,i=/([a-z\d])([A-Z])/g,r=/([a-z\d])([A-Z])/g,o=/\{([^\}]+)\}/g,s=/"/g,a=/'/g,l=/-+(.)?/g,u=/[a-z][A-Z]/g,c=function(e,t,n){var i=e[t];return void 0===i&&!0===n&&(i=e[t]={}),i},d=function(e){return/^f|^o/.test(typeof e)},h=function(e){return""+(null===e||void 0===e||isNaN(e)&&""+e=="NaN"?"":e)};return e.extend(e,{esc:function(e){return h(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(s,"&#34;").replace(a,"&#39;")},getObject:function(t,n,i){var r,o,s,a,l=t?t.split("."):[],u=l.length,h=0;if(a=(n=e.isArray(n)?n:[n||window]).length,!u)return n[0];for(;a>h;h++){for(r=n[h],s=void 0,o=0;u>o&&d(r);o++)r=c(s=r,l[o]);if(void 0!==s&&void 0!==r)break}if(!1===i&&void 0!==r&&delete s[l[o-1]],!0===i&&void 0===r)for(r=n[0],o=0;u>o&&d(r);o++)r=c(r,l[o],!0);return r},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return h(e).replace(l,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return h(e).replace(u,function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(t,"/").replace(n,"$1_$2").replace(i,"$1_$2").replace(r,"_").toLowerCase()},sub:function(t,n,i){var r=[];return t=t||"",r.push(t.replace(o,function(t,o){var s=e.getObject(o,n,!0!==i&&void 0);return void 0===s||null===s?(r=null,""):d(s)&&r?(r.push(s),""):""+s})),null===r?r:r.length<=1?r[0]:r},replacer:o,undHash:/_|-/}),e}),define("can/construct/construct",["can/util/string/string"],function(e){var t,n=0;try{Object.getOwnPropertyDescriptor({}),t=!0}catch(e){t=!1}var i=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return n&&(n.get||n.set)?n:null};return e.Construct=function(){return arguments.length?e.Construct.extend.apply(e.Construct,arguments):void 0},e.extend(e.Construct,{constructorExtends:!0,newInstance:function(){var e,t=this.instance();return t.setup&&(t.__inSetup=!0,e=t.setup.apply(t,arguments),delete t.__inSetup),t.init&&t.init.apply(t,e||arguments),t},_inherit:t?function(t,n,r){var o;for(var s in r=r||t,t)(o=i(t,s))?this._defineProperty(r,n,s,o):e.Construct._overwrite(r,n,s,t[s])}:function(t,n,i){for(var r in i=i||t,t)e.Construct._overwrite(i,n,r,t[r])},_defineProperty:function(e,t,n,i){Object.defineProperty(e,n,i)},_overwrite:function(e,t,n,i){e[n]=i},setup:function(t,n){this.defaults=e.extend(!0,{},t.defaults,this.defaults)},instance:function(){n=1;var e=new this;return n=0,e},extend:function(t,i,r){var o=t,s=i,a=r;"string"!=typeof o&&(a=s,s=o,o=null),a||(a=s,s=null),a=a||{};var l,u,c,d,h,f,p,g,m,v=this,b=this.prototype;for(f in m=this.instance(),e.Construct._inherit(a,b,m),o?p=(u=o.split(".")).pop():s&&s.shortName?p=s.shortName:this.shortName&&(p=this.shortName),"undefined"==typeof constructorName&&(l=function(){return function(){return n?void 0:this.constructor!==l&&arguments.length&&l.constructorExtends?l.extend.apply(l,arguments):l.newInstance.apply(l,arguments)}.apply(this,arguments)}),v)v.hasOwnProperty(f)&&(l[f]=v[f]);e.Construct._inherit(s,v,l),o&&(g=c=e.getObject(u.join("."),window,!0),d=e.underscore(o.replace(/\./g,"_")),h=e.underscore(p),c[p]=l),e.extend(l,{constructor:l,prototype:m,namespace:g,_shortName:h,fullName:o,_fullName:d}),void 0!==p&&(l.shortName=p),l.prototype.constructor=l;var y=[v].concat(e.makeArray(arguments)),_=l.setup.apply(l,y);return l.init&&l.init.apply(l,_||y),l}}),e.Construct.prototype.setup=function(){},e.Construct.prototype.init=function(){},e.Construct}),define("can/util/bind/bind",["can/util/util"],function(e){return e.bindAndSetup=function(){return e.addEvent.apply(this,arguments),this.__inSetup||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},e.unbindAndTeardown=function(t,n){if(!this.__bindEvents)return this;var i=this.__bindEvents[t]||[],r=i.length;return e.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings=this._bindings-(r-i.length),!this._bindings&&this._bindteardown&&this._bindteardown(),this},e}),define("can/map/bubble",["can/util/util"],function(e){var t=e.bubble={bind:function(e,n){if(!e.__inSetup){var i,r=t.events(e,n),o=r.length;e._bubbleBindings||(e._bubbleBindings={});for(var s=0;o>s;s++)i=r[s],e._bubbleBindings[i]?e._bubbleBindings[i]++:(e._bubbleBindings[i]=1,t.childrenOf(e,i))}},unbind:function(n,i){for(var r,o=t.events(n,i),s=o.length,a=0;s>a;a++)r=o[a],n._bubbleBindings&&n._bubbleBindings[r]--,n._bubbleBindings&&!n._bubbleBindings[r]&&(delete n._bubbleBindings[r],t.teardownChildrenFrom(n,r),e.isEmptyObject(n._bubbleBindings)&&delete n._bubbleBindings)},add:function(n,i,r){if(i instanceof e.Map&&n._bubbleBindings)for(var o in n._bubbleBindings)n._bubbleBindings[o]&&(t.teardownFromParent(n,i,o),t.toParent(i,n,r,o))},addMany:function(e,n){for(var i=0,r=n.length;r>i;i++)t.add(e,n[i],i)},remove:function(n,i){if(i instanceof e.Map&&n._bubbleBindings)for(var r in n._bubbleBindings)n._bubbleBindings[r]&&t.teardownFromParent(n,i,r)},removeMany:function(e,n){for(var i=0,r=n.length;r>i;i++)t.remove(e,n[i])},set:function(n,i,r,o){return e.isMapLike(r)&&t.add(n,r,i),e.isMapLike(o)&&t.remove(n,o),r},events:function(e,t){return e.constructor._bubbleRule(t,e)},toParent:function(t,n,i,r){e.listenTo.call(n,t,r,function(){var o=e.makeArray(arguments),s=o.shift();o[0]=(e.List&&n instanceof e.List?n.indexOf(t):i)+(o[0]?"."+o[0]:""),s.triggeredNS=s.triggeredNS||{},s.triggeredNS[n._cid]||(s.triggeredNS[n._cid]=!0,e.trigger(n,s,o),"change"===r&&e.trigger(n,o[0],[o[2],o[3]]))})},childrenOf:function(e,n){e._each(function(i,r){i&&i.bind&&t.toParent(i,e,r,n)})},teardownFromParent:function(t,n,i){n&&n.unbind&&e.stopListening.call(t,n,i)},teardownChildrenFrom:function(e,n){e._each(function(i){t.teardownFromParent(e,i,n)})},isBubbling:function(e,t){return e._bubbleBindings&&e._bubbleBindings[t]}};return t}),define("can/util/object/isplain/isplain",["can/util/can"],function(e){var t=Object.prototype.hasOwnProperty;return e.isPlainObject=function(e){if(!e||"object"!=typeof e||e.nodeType||function(e){return null!==e&&e==e.window}(e))return!1;try{if(e.constructor&&!t.call(e,"constructor")&&!t.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in e);return void 0===n||t.call(e,n)},e}),define("can/map/map_helpers",["can/util/util","can/util/object/isplain/isplain"],function(e){var t={attrParts:function(e,t){return t?[e]:"object"==typeof e?e:(""+e).split(".")},canMakeObserve:function(t){return t&&!e.isPromise(t)&&(e.isArray(t)||e.isPlainObject(t))},serialize:function(){var n=null;return function(i,r,o){var s=e.cid(i),a=!1;return n||(a=!0,n={attr:{},serialize:{}}),n[r][s]=o,i.each(function(s,a){var l,u=e.isMapLike(s)&&n[r][e.cid(s)];void 0!==(l=u||(i["___"+r]?i["___"+r](a,s):t.getValue(i,a,s,r)))&&(o[a]=l)}),a&&(n=null),o}}(),getValue:function(t,n,i,r){return e.isMapLike(i)?i[r]():i},define:null,addComputedAttr:function(e,t,n){e._computedAttrs[t]={compute:n,count:0,handler:function(n,i,r){e._triggerChange(t,"set",i,r,n.batchNum)}}},addToMap:function(t,r){var o;n||(o=i,n={});var s=t._cid,a=e.cid(t);return n[a]||(n[a]={obj:t,instance:r,added:!s}),o},getMapFromObject:function(e){return n&&n[e._cid]&&n[e._cid].instance}},n=null,i=function(){for(var e in n)n[e].added&&delete n[e].obj._cid;n=null};return t}),define("can/util/batch/batch",["can/util/can"],function(e){var t=1,n=0,i=null,r=null,o=[],s=!1;e.batch={start:function(e){if(1===++n){var i={events:[],callbacks:[],number:t++};o.push(i),e&&i.callbacks.push(e),r=i}},stop:function(t,a){var l;if((t?n=0:n--,0===n)&&(r=null,!1===s)){s=!0;for(var u,c=[];l=o.shift();){var d,h=l.events;for(c.push.apply(c,l.callbacks),i=l,e.batch.batchNum=l.number,a&&e.batch.start(),u=0,d=h.length;d>u;u++)e.dispatch.apply(h[u][0],h[u][1]);e.batch._onDispatchedEvents(l.number),i=null,e.batch.batchNum=void 0}for(u=c.length-1;u>=0;u--)c[u]();s=!1}},_onDispatchedEvents:function(){},trigger:function(t,n,i){t.__inSetup||(n="string"==typeof n?{type:n}:n,r?(n.batchNum=r.number,r.events.push([t,[n,i]])):n.batchNum?e.dispatch.call(t,n,i):o.length?(e.batch.start(),n.batchNum=r.number,r.events.push([t,[n,i]]),e.batch.stop()):e.dispatch.call(t,n,i))},afterPreviousEvents:function(t){var n=e.last(o);if(n){var i={};e.bind.call(i,"ready",t),n.events.push([i,[{type:"ready"},[]]])}else t({})},after:function(e){var t=r||i;t?t.callbacks.push(e):e({})}}}),define("can/compute/get_value_and_bind",["can/util/util"],function(e){function t(t,n,i){this.newObserved={},this.oldObserved=null,this.func=t,this.context=n,this.compute=i,this.onDependencyChange=e.proxy(this.onDependencyChange,this),this.depth=null,this.childDepths={},this.ignore=0,this.inBatch=!1,this.ready=!1,i.observedInfo=this,this.setReady=e.proxy(this._setReady,this)}e.simpleExtend(t.prototype,{getPrimaryDepth:function(){return this.compute._primaryDepth},_setReady:function(){this.ready=!0},getDepth:function(){return null!==this.depth?this.depth:this.depth=this._getDepth()},_getDepth:function(){var e=0,t=this.childDepths;for(var n in t)t[n]>e&&(e=t[n]);return e+1},addEdge:function(e){e.obj.bind(e.event,this.onDependencyChange),e.obj.observedInfo&&(this.childDepths[e.obj._cid]=e.obj.observedInfo.getDepth(),this.depth=null)},removeEdge:function(e){e.obj.unbind(e.event,this.onDependencyChange),e.obj.observedInfo&&(delete this.childDepths[e.obj._cid],this.depth=null)},dependencyChange:function(e){this.bound&&this.ready&&(void 0!==e.batchNum?e.batchNum!==this.batchNum&&(t.registerUpdate(this),this.batchNum=e.batchNum):this.updateCompute(e.batchNum))},onDependencyChange:function(e,t,n){this.dependencyChange(e,t,n)},updateCompute:function(e){if(this.bound){var t=this.value;this.getValueAndBind(),this.compute.updater(this.value,t,e)}},getValueAndBind:function(){this.bound=!0,this.oldObserved=this.newObserved||{},this.ignore=0,this.newObserved={},this.ready=!1,s.push(this),this.value=this.func.call(this.context),s.pop(),this.updateBindings(),e.batch.afterPreviousEvents(this.setReady)},updateBindings:function(){var e,t,n=this.newObserved,i=this.oldObserved;for(e in n)t=n[e],i[e]?i[e]=null:this.addEdge(t);for(e in i)(t=i[e])&&this.removeEdge(t)},teardown:function(){for(var e in this.bound=!1,this.newObserved){var t=this.newObserved[e];this.removeEdge(t)}this.newObserved={}}});var n,i=[],r=1/0,o=0;t.registerUpdate=function(e,t){var n=e.getDepth()-1,s=e.getPrimaryDepth();r=Math.min(s,r),o=Math.max(s,o);var a=i[s]||(i[s]={observeInfos:[],current:1/0,max:0});(a.observeInfos[n]||(a.observeInfos[n]=[])).push(e),a.current=Math.min(n,a.current),a.max=Math.max(n,a.max)},t.updateUntil=function(e,t){for(var s;;){if(!(o>=r&&e>=r))return;var a=i[r];if(a&&a.current<=a.max){if(a.current>t)return;var l=a.observeInfos[a.current];l&&(s=l.pop())?s.updateCompute(n):a.current++}else r++}},t.batchEnd=function(e){var t;for(n=e;;){if(!(o>=r))return i=[],r=1/0,void(o=0);var s=i[r];if(s&&s.current<=s.max){var a=s.observeInfos[s.current];a&&(t=a.pop())?t.updateCompute(e):s.current++}else r++}};var s=[];return e.__observe=function(e,t){var n=s[s.length-1];if(n&&!n.ignore){var i=t+"",r=e._cid+"|"+i;n.traps?n.traps.push({obj:e,event:i,name:r}):n.newObserved[r]||(n.newObserved[r]={obj:e,event:i})}},e.__reading=e.__observe,e.__trapObserves=function(){if(s.length){var e=s[s.length-1],t=e.traps=[];return function(){return e.traps=null,t}}return function(){return[]}},e.__observes=function(e){var t=s[s.length-1];if(t)for(var n=0,i=e.length;i>n;n++){var r=e[n],o=r.name;t.newObserved[o]||(t.newObserved[o]=r)}},e.__isRecordingObserves=function(){var e=s.length,t=s[e-1];return e&&0===t.ignore&&t},e.__notObserve=function(e){return function(){if(s.length){var t=s[s.length-1];t.ignore++;var n=e.apply(this,arguments);return t.ignore--,n}return e.apply(this,arguments)}},e.batch._onDispatchedEvents=t.batchEnd,t}),define("can/map/map",["can/util/util","can/util/bind/bind","can/map/bubble","can/map/map_helpers","can/construct/construct","can/util/batch/batch","can/compute/get_value_and_bind"],function(e,t,n,i){var r={constructor:!0},o=e.Map=e.Construct.extend({setup:function(){if(e.Construct.setup.apply(this,arguments),this._computedPropertyNames=[],e.Map){for(var t in this.defaults||(this.defaults={}),this.prototype)"define"!==t&&"constructor"!==t&&("function"!=typeof this.prototype[t]||this.prototype[t].prototype instanceof e.Construct)?this.defaults[t]=this.prototype[t]:this.prototype[t].isComputed&&this._computedPropertyNames.push(t);i.define&&i.define(this)}!e.List||this.prototype instanceof e.List||(this.List=o.List.extend({Map:this},{}))},shortName:"Map",_bubbleRule:function(e){return"change"===e||e.indexOf(".")>=0?["change"]:[]},bind:e.bindAndSetup,unbind:e.unbindAndTeardown,id:"id",keys:function(t){var n=[];for(var i in e.__observe(t,"__keys"),t._data)n.push(i);return n}},{setup:function(t){t instanceof e.Map&&(t=t.serialize()),this._data={},e.cid(this,".map"),this._setupComputedProperties();var n=t&&i.addToMap(t,this),r=this._setupDefaults(t),o=e.extend(e.extend(!0,{},r),t);this.attr(o),n&&n()},_setupComputedProperties:function(){this._computedAttrs={};for(var e=this.constructor._computedPropertyNames,t=0,n=e.length;n>t;t++){var r=e[t];i.addComputedAttr(this,r,this[r].clone(this))}},_setupDefaults:function(){return this.constructor.defaults||{}},attr:function(e,t){var n=typeof e;return void 0===e?this._getAttrs():"string"!==n&&"number"!==n?this._setAttrs(e,t):1===arguments.length?this._get(e+""):(this._set(e+"",t),this)},_get:function(t){var n=t.indexOf(".");if(n>=0){var i=this.___get(t);if(void 0!==i)return e.__observe(this,t),i;var r=t.substr(0,n),o=t.substr(n+1),s=this.__get(r);return s&&s._get?s._get(o):void 0}return this.__get(t)},__get:function(t){return r[t]||this._computedAttrs[t]||e.__observe(this,t),this.___get(t)},___get:function(e){if(void 0!==e){var t=this._computedAttrs[e];return t&&t.compute?t.compute():this._data.hasOwnProperty(e)?this._data[e]:void 0}return this._data},_set:function(t,n,i){var r,o=t.indexOf(".");if(o>=0&&!i){var s=t.substr(0,o),a=t.substr(o+1);if(r=this.__inSetup?void 0:this.___get(s),!e.isMapLike(r))throw new Error("can.Map: Object does not exist");r._set(a,n)}else r=this.__inSetup?void 0:this.___get(t),this.__convert&&(n=this.__convert(t,n)),this.__set(t,this.__type(n,t),r)},__type:function(t,n){if("object"==typeof t&&!(t instanceof e.Map)&&i.canMakeObserve(t)){var r=i.getMapFromObject(t);return r||(e.isArray(t)?new(0,e.List)(t):new(this.constructor.Map||e.Map)(t))}return t},__set:function(e,t,i){if(t!==i){var r=this._computedAttrs[e],o=r||void 0!==i||this.___get().hasOwnProperty(e)?"set":"add";this.___set(e,"object"==typeof t?n.set(this,e,t,i):t),r&&r.count||this._triggerChange(e,o,t,i),"object"==typeof i&&n.teardownFromParent(this,i)}},___set:function(e,t){var n=this._computedAttrs[e];n&&n.compute?n.compute(t):this._data[e]=t,"function"==typeof this.constructor.prototype[e]||n||(this[e]=t)},removeAttr:function(e){return this._remove(e)},_remove:function(e){var t=i.attrParts(e),n=t.shift(),r=this.___get(n);return t.length&&r?r.removeAttr(t):("string"==typeof e&&~e.indexOf(".")&&(n=e),this.__remove(n,r),r)},__remove:function(e,t){e in this._data&&(this.___remove(e),this._triggerChange(e,"remove",void 0,t))},___remove:function(e){delete this._data[e],e in this.constructor.prototype||delete this[e]},___serialize:function(e,t){return i.getValue(this,e,t,"serialize")},_getAttrs:function(){return i.serialize(this,"attr",{})},_setAttrs:function(t,n){t=e.simpleExtend({},t);var r,o,s=this;for(r in e.batch.start(),this._each(function(r,a){if("_cid"!==a){if(void 0===(o=t[a]))return void(n&&s.removeAttr(a));s.__convert&&(o=s.__convert(a,o)),e.isMapLike(r)&&i.canMakeObserve(o)?r.attr(o,n):r!==o&&s.__set(a,s.__type(o,a),r),delete t[a]}}),t)"_cid"!==r&&(o=t[r],this._set(r,o,!0));return e.batch.stop(),this},serialize:function(){return i.serialize(this,"serialize",{})},_triggerChange:function(t,i,r,o,s){n.isBubbling(this,"change")&&e.batch.trigger(this,{type:"change",target:this,batchNum:s},[t,i,r,o]),e.batch.trigger(this,{type:t,target:this,batchNum:s},[r,o]),("remove"===i||"add"===i)&&e.batch.trigger(this,{type:"__keys",target:this,batchNum:s})},_bindsetup:function(){},_bindteardown:function(){},one:e.one,bind:function(t,i){var r=this._computedAttrs&&this._computedAttrs[t];return r&&r.compute&&(r.count?r.count++:(r.count=1,r.compute.bind("change",r.handler))),n.bind(this,t),e.bindAndSetup.apply(this,arguments)},unbind:function(t,i){var r=this._computedAttrs&&this._computedAttrs[t];return r&&(1===r.count?(r.count=0,r.compute.unbind("change",r.handler)):r.count--),n.unbind(this,t),e.unbindAndTeardown.apply(this,arguments)},compute:function(t){if(e.isFunction(this.constructor.prototype[t]))return e.compute(this[t],this);var n=e.compute.read.reads(t),i=n.length-1;return e.compute(function(t){return arguments.length?void e.compute.read(this,n.slice(0,i)).value.attr(n[i].key,t):e.compute.read(this,n,{args:[]}).value},this)},each:function(){return e.each.apply(void 0,[this].concat(e.makeArray(arguments)))},_each:function(e){var t=this.___get();for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},dispatch:e.dispatch});return o.prototype.on=o.prototype.bind,o.prototype.off=o.prototype.unbind,o.on=o.bind,o.off=o.unbind,o}),define("can/list/list",["can/util/util","can/map/map","can/map/bubble","can/map/map_helpers"],function(e,t,n,i){var r=[].splice,o=function(){var e={0:"a",length:1};return r.call(e,0,1),!e[0]}(),s=t.extend({Map:t},{setup:function(t,n){var r;this.length=0,e.cid(this,".map"),this._setupComputedProperties(),t=t||[],e.isPromise(t)?this.replace(t):(r=t.length&&i.addToMap(t,this),this.push.apply(this,e.makeArray(t||[]))),r&&r(),e.simpleExtend(this,n)},_triggerChange:function(n,i,r,o){t.prototype._triggerChange.apply(this,arguments);var s=+n;~(""+n).indexOf(".")||isNaN(s)||("add"===i?(e.batch.trigger(this,i,[r,s]),e.batch.trigger(this,"length",[this.length])):"remove"===i?(e.batch.trigger(this,i,[o,s]),e.batch.trigger(this,"length",[this.length])):e.batch.trigger(this,i,[r,s]))},___get:function(e){if(e){var t=this._computedAttrs[e];return t&&t.compute?t.compute():this[e]}return this},__set:function(t,n,i){if("number"==typeof(t=isNaN(+t)||t%1?t:+t)&&t>this.length-1){var r=new Array(t+1-this.length);return r[r.length-1]=n,this.push.apply(this,r),r}return e.Map.prototype.__set.call(this,""+t,n,i)},___set:function(e,t){this[e]=t,+e>=this.length&&(this.length=+e+1)},__remove:function(e,t){isNaN(+e)?(delete this[e],this._triggerChange(e,"remove",void 0,t)):this.splice(e,1)},_each:function(e){for(var t=this.___get(),n=0;n<t.length;n++)e(t[n],n)},serialize:function(){return i.serialize(this,"serialize",[])},splice:function(t,i){var s,a,l,u=e.makeArray(arguments),c=[],d=u.length>2;for(t=t||0,s=0,a=u.length-2;a>s;s++)u[l=s+2]=this.__type(u[l],l),c.push(u[l]),this[s+t]!==u[l]&&(d=!1);if(d&&this.length<=c.length)return c;void 0===i&&(i=u[1]=this.length-t);var h=r.apply(this,u);if(!o)for(s=this.length;s<h.length+this.length;s++)delete this[s];return e.batch.start(),i>0&&(n.removeMany(this,h),this._triggerChange(""+t,"remove",void 0,h)),u.length>2&&(n.addMany(this,c),this._triggerChange(""+t,"add",c,h)),e.batch.stop(),h},_getAttrs:function(){return i.serialize(this,"attr",[])},_setAttrs:function(t,n){t=e.makeArray(t),e.batch.start(),this._updateAttrs(t,n),e.batch.stop()},_updateAttrs:function(t,n){for(var r=Math.min(t.length,this.length),o=0;r>o;o++){var s=this[o],a=t[o];e.isMapLike(s)&&i.canMakeObserve(a)?s.attr(a,n):s!==a&&this._set(o+"",a)}t.length>this.length?this.push.apply(this,t.slice(this.length)):t.length<this.length&&n&&this.splice(t.length)}});return e.each({push:"length",unshift:0},function(t,i){var r=[][i];s.prototype[i]=function(){e.batch.start();for(var i,o,s=[],a=t?this.length:0,l=arguments.length;l--;)o=arguments[l],s[l]=n.set(this,l,this.__type(o,l));return i=r.apply(this,s),(!this.comparator||s.length)&&this._triggerChange(""+a,"add",s,void 0),e.batch.stop(),i}}),e.each({pop:"length",shift:0},function(t,i){s.prototype[i]=function(){if(this.length){var r=function(t){return t[0]&&e.isArray(t[0])?t[0]:e.makeArray(t)}(arguments),o=t&&this.length?this.length-1:0,s=[][i].apply(this,r);return e.batch.start(),this._triggerChange(""+o,"remove",void 0,[s]),s&&s.unbind&&n.remove(this,s),e.batch.stop(),s}}}),e.extend(s.prototype,{indexOf:function(t,n){return e.__observe(this,"length"),e.inArray(t,this,n)},join:function(){return e.__observe(this,"length"),[].join.apply(this,arguments)},reverse:function(){var t=[].reverse.call(e.makeArray(this));return this.replace(t)},slice:function(){e.__observe(this,"length");var t=Array.prototype.slice.apply(this,arguments);return new this.constructor(t)},concat:function(){var t=[];return e.each(e.makeArray(arguments),function(n,i){t[i]=n instanceof e.List?n.serialize():n}),new this.constructor(Array.prototype.concat.apply(this.serialize(),t))},forEach:function(t,n){return e.each(this,t,n||this)},replace:function(t){if(e.isPromise(t)){this._promise&&(this._promise.__isCurrentPromise=!1);var n=this._promise=t;n.__isCurrentPromise=!0;var i=this;t.then(function(e){n.__isCurrentPromise&&i.replace(e)})}else this.splice.apply(this,[0,this.length].concat(e.makeArray(t||[])));return this},filter:function(e,t){var n=new this.constructor,i=this;return this.each(function(r,o,s){e.call(t|i,r,o,i)&&n.push(r)}),n},map:function(t,n){var i=new e.List,r=this;return this.each(function(e,o,s){var a=t.call(n|r,e,o,r);i.push(a)}),i}}),e.List=t.List=s,e.List}),define("can/compute/read",["can/util/util"],function(e){var t=function(e,n,r){for(var o,s,a={foundObservable:!1},l=i(e,0,n,r=r||{},a),u=n.length,c=0;u>c;){s=l;for(var d=0,h=t.propertyReaders.length;h>d;d++){var f=t.propertyReaders[d];if(f.test(l)){l=f.read(l,n[c],c,r,a);break}}if(o=typeof(l=i(l,c+=1,n,r,a,s)),c<n.length&&(null===l||"function"!==o&&"object"!==o))return r.earlyExit&&r.earlyExit(s,c-1,l),{value:void 0,parent:s}}return void 0===l&&r.earlyExit&&r.earlyExit(s,c-1),{value:l,parent:s}},n=function(e,t){var n=t[e-1];return n&&n.at},i=function(e,n,i,r,o,s){var a;do{a=!1;for(var l=0,u=t.valueReaders.length;u>l;l++)t.valueReaders[l].test(e,n,i,r)&&(e=t.valueReaders[l].read(e,n,i,r,o,s))}while(a);return e};t.valueReaders=[{name:"compute",test:function(e,t,i,r){return e&&e.isComputed&&!n(t,i)},read:function(t,n,i,r,o){return!1===r.readCompute&&n===i.length?t:(!o.foundObservable&&r.foundObservable&&(r.foundObservable(t,n),o.foundObservable=!0),t instanceof e.Compute?t.get():t())}},{name:"function",test:function(t,n,i,r){return!("function"!==typeof t||t.isComputed||e.Construct&&t.prototype instanceof e.Construct||e.route&&t===e.route)},read:function(t,i,r,o,s,a){return n(i,r)?i===r.length?e.proxy(t,a):t:o.callMethodsOnObservables&&e.isMapLike(a)?t.apply(a,o.args||[]):o.isArgument&&i===r.length?!1!==o.proxyMethods?e.proxy(t,a):t:t.apply(a,o.args||[])}}],t.propertyReaders=[{name:"map",test:e.isMapLike,read:function(e,t,n,i,r){!r.foundObservable&&i.foundObservable&&(i.foundObservable(e,n),r.foundObservable=!0);var o=e.attr(t.key);return void 0!==o?o:e[t.key]}},{name:"promise",test:function(t){return e.isPromise(t)},read:function(t,n,i,r,o){!o.foundObservable&&r.foundObservable&&(r.foundObservable(t,i),o.foundObservable=!0);var s=t.__observeData;return t.__observeData||(s=t.__observeData={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0},e.cid(s),e.simpleExtend(s,e.event),t.then(function(e){s.isPending=!1,s.isResolved=!0,s.value=e,s.state="resolved",s.dispatch("state",["resolved","pending"])},function(e){s.isPending=!1,s.isRejected=!0,s.reason=e,s.state="rejected",s.dispatch("state",["rejected","pending"])})),e.__observe(s,"state"),n.key in s?s[n.key]:t[n.key]}},{name:"object",test:function(){return!0},read:function(e,t){return null==e?void 0:t.key in e?e[t.key]:t.at&&r[t.key]&&"@"+t.key in e?(t.at=!1,e["@"+t.key]):void 0}}];var r={index:!0,key:!0,event:!0,element:!0,viewModel:!0};return t.write=function(t,n,i,r){return r=r||{},e.isMapLike(t)?!r.isArgument&&t._data&&t._data[n]&&t._data[n].isComputed?t._data[n](i):t.attr(n,i):t[n]&&t[n].isComputed?t[n](i):void("object"==typeof t&&(t[n]=i))},t.reads=function(e){var t=[],n=0,i=!1;"@"===e.charAt(0)&&(n=1,i=!0);for(var r="",o=n;o<e.length;o++){var s=e.charAt(o);"."===s||"@"===s?"\\"!==e.charAt(o-1)?(t.push({key:r,at:i}),i="@"===s,r=""):r=r.substr(0,r.length-1)+".":r+=s}return t.push({key:r,at:i}),t},t}),define("can/compute/proto_compute",["can/util/util","can/util/bind/bind","can/compute/read","can/compute/get_value_and_bind","can/util/batch/batch"],function(e,t,n,i){e.Compute=function(t,n,i,r){e.cid(this,"compute");for(var o=[],s=0,a=arguments.length;a>s;s++)o[s]=arguments[s];var l=typeof o[1];"function"==typeof o[0]?this._setupGetterSetterFn(o[0],o[1],o[2],o[3]):o[1]?"string"===l?this._setupProperty(o[0],o[1],o[2]):"function"===l?this._setupSetter(o[0],o[1],o[2]):o[1]&&o[1].fn?this._setupAsyncCompute(o[0],o[1]):this._setupSettings(o[0],o[1]):this._setupSimpleValue(o[0]),this._args=o,this._primaryDepth=0,this.isComputed=!0},e.simpleExtend(e.Compute.prototype,{setPrimaryDepth:function(e){this._primaryDepth=e},_setupGetterSetterFn:function(t,n,i){this._set=n?e.proxy(t,n):t,this._get=n?e.proxy(t,n):t,this._canObserve=!1!==i;var r=o(this,t,n||this);e.simpleExtend(this,r)},_setupProperty:function(t,n,i){var r,o=this;e.isMapLike(t)?(r=function(e,t,n){o.updater(t,n,e.batchNum)},this.hasDependencies=!0,this._get=function(){return t.attr(n)},this._set=function(e){t.attr(n,e)}):(r=function(){o.updater(o._get(),o.value)},this._get=function(){return e.getObject(n,[t])},this._set=function(i){var r=n.split("."),o=r.pop();e.getObject(r.join("."),[t])[o]=i}),this._on=function(o){e.bind.call(t,i||n,r),this.value=this._get()},this._off=function(){return e.unbind.call(t,i||n,r)}},_setupSetter:function(t,n,i){this.value=t,this._set=n,e.simpleExtend(this,i)},_setupSettings:function(e,t){if(this.value=e,this._set=t.set||this._set,this._get=t.get||this._get,!t.__selfUpdater){var n=this,i=this.updater;this.updater=function(){i.call(n,n._get(),n.value)}}this._on=t.on?t.on:this._on,this._off=t.off?t.off:this._off},_setupAsyncCompute:function(t,n){var i=this;this.value=t,this._setUpdates=!0,this.lastSetValue=new e.Compute(t),this._set=function(e){return e===i.lastSetValue.get()?this.value:i.lastSetValue.set(e)},this._get=function(){return s.call(n.context,i.lastSetValue.get())};var r,s=n.fn;if(0===s.length)r=o(this,s,n.context);else if(1===s.length)r=o(this,function(){return s.call(n.context,i.lastSetValue.get())},n);else{var a=this.updater,l=function(e){a.call(i,e,i.value)};this.updater=function(e){a.call(i,e,i.value)},r=o(this,function(){var e=s.call(n.context,i.lastSetValue.get(),l);return void 0!==e?e:this.value},this)}e.simpleExtend(this,r)},_setupSimpleValue:function(e){this.value=e},_bindsetup:e.__notObserve(function(){this.bound=!0,this._on(this.updater)}),_bindteardown:function(){this._off(this.updater),this.bound=!1},bind:e.bindAndSetup,unbind:e.unbindAndTeardown,clone:function(t){return t&&"function"==typeof this._args[0]?this._args[1]=t:t&&(this._args[2]=t),new e.Compute(this._args[0],this._args[1],this._args[2],this._args[3])},_on:e.k,_off:e.k,get:function(){var t=e.__isRecordingObserves();return t&&!1!==this._canObserve&&(e.__observe(this,"change"),this.bound||e.Compute.temporarilyBind(this)),this.bound?(t&&this.getDepth&&this.getDepth()>=t.getDepth()&&i.updateUntil(this.getPrimaryDepth(),this.getDepth()),this.value):this._get()},_get:function(){return this.value},set:function(e){var t=this.value,n=this._set(e,t);return this._setUpdates?this.value:this.hasDependencies?this._get():(this.value=void 0===n?this._get():n,r(this,this.value,t),this.value)},_set:function(e){return this.value=e},updater:function(e,t,n){this.value=e,r(this,e,t,n)},toFunction:function(){return e.proxy(this._computeFn,this)},_computeFn:function(e){return arguments.length?this.set(e):this.get()}});var r=function(t,n,i,r){n!==i&&!(n!=n&&i!=i)&&e.batch.trigger(t,{type:"change",batchNum:r},[n,i])},o=function(t,n,r){var o=new i(n,r,t);return{readInfo:o,_on:function(){o.getValueAndBind(),t.value=o.value,t.hasDependencies=!e.isEmptyObject(o.newObserved)},_off:function(){o.teardown()},getDepth:function(){return o.getDepth()},getPrimaryDepth:function(){return o.getPrimaryDepth()}}};e.Compute.temporarilyBind=function(t){var n=t.computeInstance||t;n.bind("change",e.k),s||(s=[],setTimeout(a,10)),s.push(n)};var s,a=function(){for(var t=0,n=s.length;n>t;t++)s[t].unbind("change",e.k);s=null};return e.Compute.async=function(t,n,i){return new e.Compute(t,{fn:n,context:i})},e.Compute.truthy=function(t){return new e.Compute(function(){var e=t.get();return"function"==typeof e&&(e=e.get()),!!e})},e.Compute.read=n,e.Compute.set=n.write,e.Compute}),define("can/compute/compute",["can/util/util","can/util/bind/bind","can/util/batch/batch","can/compute/proto_compute"],function(e,t){return e.compute=function(t,n,i,r){var o=new e.Compute(t,n,i,r),s=o.bind,a=o.unbind,l=function(e){return arguments.length?o.set(e):o.get()},u="__handler"+e.cid(l,"compute");return l.bind=function(e,t){var n=t&&t[u];return t&&!n&&(n=t[u]=function(){t.apply(l,arguments)}),s.call(o,e,n)},l.unbind=function(e,t){var n=t&&t[u];return n?(delete t[u],o.unbind(e,n)):a.apply(o,arguments)},l.isComputed=o.isComputed,l.clone=function(i){return"function"==typeof t&&(n=i),e.compute(t,n,i,r)},l.computeInstance=o,l},e.compute.truthy=function(t){return e.compute(function(){var e=t();return"function"==typeof e&&(e=e()),!!e})},e.compute.async=function(t,n,i){return e.compute(t,{fn:n,context:i})},e.compute.read=e.Compute.read,e.compute.set=e.Compute.set,e.compute.temporarilyBind=e.Compute.temporarilyBind,e.compute}),define("can/model/model",["can/util/util","can/map/map","can/list/list"],function(e){var t=function(t,n,i){var r=new e.Deferred;return t.then(function(){var t=e.makeArray(arguments),o=!0;try{t[0]=i.apply(n,t)}catch(e){o=!1,r.rejectWith(r,[e].concat(t))}o&&r.resolveWith(r,t)},function(){r.rejectWith(this,arguments)}),"function"==typeof t.abort&&(r.abort=function(){return t.abort()}),r},n=0,i=function(t){return e.__observe(t,t.constructor.id),t.___get(t.constructor.id)},r=function(t,n,i,r,o,s){var a={};if("string"==typeof t){var l=t.split(/\s+/);a.url=l.pop(),l.length&&(a.type=l.pop())}else e.extend(a,t);return a.data="object"!=typeof n||e.isArray(n)?n:e.extend(a.data||{},n),a.url=e.sub(a.url,a.data,!0),e.ajax(e.extend({type:i||"post",dataType:r||"json",success:o,error:s},a))},o=function(n,r,o,s,a){var l;e.isArray(n)?(l=n[1],n=n[0]):l=n.serialize(),l=[l];var u,c,d=n.constructor;return("update"===r||"destroy"===r)&&l.unshift(i(n)),c=d[r].apply(d,l),u=t(c,n,function(e){return n[a||r+"d"](e,c),n}),c.abort&&(u.abort=function(){c.abort()}),u.then(o,s),u},s={models:function(t,n,i){if(e.Model._reqs++,t){if(t instanceof this.List)return t;var r=this,o=[],s=r.List||f,a=n instanceof e.List?n:new s,l=t instanceof f?t.serialize():t;if((l=r.parseModels(l,i)).data&&(t=l,l=l.data),void 0===l||!e.isArray(l))throw new Error("Could not get any raw data while converting using .models");return a.length&&a.splice(0),e.each(l,function(e){o.push(r.model(e,i))}),a.push.apply(a,o),e.isArray(t)||e.each(t,function(e,t){"data"!==t&&a.attr(t,e)}),setTimeout(e.proxy(this._clean,this),1),a}},model:function(t,n,i){if(t){var r=(t="function"==typeof t.serialize?t.serialize():this.parseModel(t,i))[this.id];return(r||0===r)&&this.store[r]&&(n=this.store[r]),n&&e.isFunction(n.attr)?n.attr(t,this.removeAttr||!1):new this(t)}}},a={parseModel:function(t){return function(n){return t?e.getObject(t,n):n}},parseModels:function(t){return function(n){if(e.isArray(n))return n;t=t||"data";var i=e.getObject(t,n);if(!e.isArray(i))throw new Error("Could not get any raw data while converting using .models");return i}}},l={create:{url:"_shortName",type:"post"},update:{data:function(t,n){n=n||{};var i=this.id;return n[i]&&n[i]!==t&&(n["new"+e.capitalize(t)]=n[i],delete n[i]),n[i]=t,n},type:"put"},destroy:{type:"delete",data:function(e,t){return(t=t||{}).id=t[this.id]=e,t}},findAll:{url:"_shortName"},findOne:{}},u=function(e,t){return function(n){return n=e.data?e.data.apply(this,arguments):n,r(t||this[e.url||"_url"],n,e.type||"get")}};e.Model=e.Map.extend({fullName:"can.Model",_reqs:0,setup:function(t,i,r,o){if("string"!=typeof i&&(o=r,r=i),o||(o=r),this.store={},e.Map.setup.apply(this,arguments),e.Model){r&&r.List?(this.List=r.List,this.List.Map=this):this.List=t.List.extend({Map:this},{});var c=this,d=e.proxy(this._clean,c);e.each(l,function(n,i){if(r&&r[i]&&("string"==typeof r[i]||"object"==typeof r[i])?c[i]=u(n,r[i]):r&&r.resource&&!e.isFunction(r[i])&&(c[i]=u(n,function(e,t){if(e.resource){var n=e.resource.replace(/\/+$/,"");return"findAll"===t||"create"===t?n:n+"/{"+e.id+"}"}}(c,i))),c["make"+e.capitalize(i)]){var o=c["make"+e.capitalize(i)](c[i]);e.Construct._overwrite(c,t,i,function(){e.Model._reqs++;var t=o.apply(this,arguments),n=t.then(d,d);return n.abort=t.abort,n})}});var h={};e.each(s,function(n,i){var o="parse"+e.capitalize(i),s=r&&r[i]||c[i];"string"==typeof s?(c[o]=s,e.Construct._overwrite(c,t,i,n)):r&&r[i]&&(h[o]=!0)}),e.each(a,function(n,i){var o=r&&r[i]||c[i];if("string"==typeof o)e.Construct._overwrite(c,t,i,n(o));else if(!(r&&e.isFunction(r[i])||c[i])){var s=n();s.useModelConverter=h[i],e.Construct._overwrite(c,t,i,s)}}),"can.Model"!==c.fullName&&c.fullName||(c.fullName="Model"+ ++n),e.Model._reqs=0,this._url=this._shortName+"/{"+this.id+"}"}},_ajax:u,_makeRequest:o,_clean:function(){if(e.Model._reqs--,!e.Model._reqs)for(var t in this.store)this.store[t]._bindings||delete this.store[t];return arguments[0]},models:s.models,model:s.model},{setup:function(t){var n=t&&t[this.constructor.id];e.Model._reqs&&null!=n&&(this.constructor.store[n]=this),e.Map.prototype.setup.apply(this,arguments)},isNew:function(){var e=i(this);return!(e||0===e)},save:function(e,t){return o(this,this.isNew()?"create":"update",e,t)},destroy:function(t,n){if(this.isNew()){var i=this,r=e.Deferred();return r.then(t,n),r.done(function(e){i.destroyed(e)}).resolve(i)}return o(this,"destroy",t,n,"destroyed")},_bindsetup:function(){var t=this.___get(this.constructor.id);return null!=t&&(this.constructor.store[t]=this),e.Map.prototype._bindsetup.apply(this,arguments)},_bindteardown:function(){return delete this.constructor.store[i(this)],e.Map.prototype._bindteardown.apply(this,arguments)},___set:function(t,n){e.Map.prototype.___set.call(this,t,n),t===this.constructor.id&&this._bindings&&(this.constructor.store[i(this)]=this)}});var c=function(e){return function(t,n,i){return this[e](t,null,i)}},d=function(e){return this.parseModel.useModelConverter?this.model(e):this.parseModel(e)},h={makeFindAll:c("models"),makeFindOne:c("model"),makeCreate:d,makeUpdate:d,makeDestroy:d};e.each(h,function(n,i){e.Model[i]=function(i){return function(){var r=e.makeArray(arguments),o=e.isFunction(r[1])?r.splice(0,1):r.splice(0,2),s=t(i.apply(this,o),this,n);return s.then(r[0],r[1]),s}}}),e.each(["created","updated","destroyed"],function(t){e.Model.prototype[t]=function(n){var i=this.constructor;n&&"object"==typeof n&&this.attr(e.isFunction(n.attr)?n.attr():n),e.dispatch.call(this,{type:t,target:this},[]),e.dispatch.call(i,t,[this])}});var f=e.Model.List=e.List.extend({_bubbleRule:function(t,n){var i=e.List._bubbleRule(t,n);return i.push("destroyed"),i}},{setup:function(t){e.isPlainObject(t)&&!e.isArray(t)?(e.List.prototype.setup.apply(this),this.replace(e.isPromise(t)?t:this.constructor.Map.findAll(t))):e.List.prototype.setup.apply(this,arguments),this.bind("destroyed",e.proxy(this._destroyed,this))},_destroyed:function(e,t){if(/\w+/.test(t))for(var n;(n=this.indexOf(e.target))>-1;)this.splice(n,1)}});return e.Model}),define("can/view/view",["can/util/util"],function(e){var t=e.isFunction,n=e.makeArray,i=1,r=function(e){var t=function(){return l.frag(e.apply(this,arguments))};return t.render=function(){return e.apply(e,arguments)},t},o=function(e,t){if(!e.length)throw new Error("can.view: No template or empty template:"+t)},s=function(n,i){if(t(n))return e.Deferred().resolve(n);var r,s,a,u="string"==typeof n?n:n.url,c=n.engine&&"."+n.engine||u.match(/\.[\w\d]+$/);if(u.match(/^#/)&&(u=u.substr(1)),(s=document.getElementById(u))&&(c="."+s.type.match(/\/(x\-)?(.+)/)[2]),c||l.cached[u]||(u+=c=l.ext),e.isArray(c)&&(c=c[0]),a=l.toId(u),u.match(/^\/\//)&&(u=u.substr(2),u=window.steal?steal.config().root.mapJoin(""+steal.id(u)):u),window.require&&require.toUrl&&(u=require.toUrl(u)),r=l.types[c],l.cached[a])return l.cached[a];if(s)return l.registerView(a,s.innerHTML,r);var d=new e.Deferred;return e.ajax({async:i,url:u,dataType:"text",error:function(e){o("",u),d.reject(e)},success:function(e){o(e,u),l.registerView(a,e,r,d)}}),d},a=function(t){return e.isArray(t)&&"success"===t[1]?t[0]:t},l=e.view=e.template=function(e,n,i,r){return t(i)&&(r=i,i=void 0),l.renderAs("fragment",e,n,i,r)};return e.extend(l,{frag:function(e,t){return l.hookup(l.fragment(e),t)},fragment:function(t){return e.frag(t,document)},toId:function(t){return e.map(t.toString().split(/\/|\./g),function(e){return e||void 0}).join("_")},toStr:function(e){return null==e?"":""+e},hookup:function(t,n){var i,r,o=[];return e.each(t.childNodes?e.makeArray(t.childNodes):t,function(t){1===t.nodeType&&(o.push(t),o.push.apply(o,e.makeArray(t.getElementsByTagName("*"))))}),e.each(o,function(e){e.getAttribute&&(i=e.getAttribute("data-view-id"))&&(r=l.hookups[i])&&(r(e,n,i),delete l.hookups[i],e.removeAttribute("data-view-id"))}),t},hookups:{},hook:function(e){return l.hookups[++i]=e," data-view-id='"+i+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(t){this.types["."+t.suffix]=t,e[t.suffix]=l[t.suffix]=function(e,n){var i,o;if(!n)return(o=function(){return i||(i=t.fragRenderer?t.fragRenderer(null,e):r(t.renderer(null,e))),i.apply(this,arguments)}).render=function(){var n=t.renderer(null,e);return n.apply(n,arguments)},o;var s=function(){return i||(i=t.fragRenderer?t.fragRenderer(e,n):t.renderer(e,n)),i.apply(this,arguments)};return t.fragRenderer?l.preload(e,s):l.preloadStringRenderer(e,s)}},types:{},ext:".ejs",registerScript:function(e,t,n){return"can.view.preloadStringRenderer('"+t+"',"+l.types["."+e].script(t,n)+");"},preload:function(t,n){return(l.cached[t]=(new e.Deferred).resolve(function(e,t){return n.call(e,e,t)})).__view_id=t,l.cachedRenderers[t]=n,n},preloadStringRenderer:function(e,t){return this.preload(e,r(t))},render:function(t,n,i,r,o){return e.view.renderAs("string",t,n,i,r,o)},renderTo:function(e,t,n,i,r){return("string"===e&&t.render?t.render:t)(n,i,r)},renderAs:function(i,r,o,u,c,d){void 0!==c&&"string"==typeof c.expression&&(d=c,c=void 0),t(u)&&(c=u,u=void 0);var h,f,p,g,m=function(t){var n=[];if(e.isPromise(t))return[t];for(var i in t)e.isPromise(t[i])&&n.push(t[i]);return n}(o);if(m.length)return h=new e.Deferred,f=e.extend({},o),m.push(s(r,!0)),e.when.apply(e,m).then(function(t){var r,s=n(arguments),l=s.pop();if(e.isPromise(o))f=a(t);else for(var p in o)e.isPromise(o[p])&&(f[p]=a(s.shift()));r=e.view.renderTo(i,l,f,u,d),h.resolve(r,f),c&&c(r,f)},function(){h.reject.apply(h,arguments)}),h;if(p=t(c),h=e.__notObserve(s)(r,p),p)g=h,h.then(function(t){c(o?e.view.renderTo(i,t,o,u,d):t)});else{if("resolved"===h.state()&&h.__view_id){var v=l.cachedRenderers[h.__view_id];return o?e.view.renderTo(i,v,o,u,d):v}h.then(function(t){g=o?e.view.renderTo(i,t,o,u,d):t})}return g},registerView:function(t,n,i,o){var s,a="object"==typeof i?i:l.types[i||l.ext];return s=a.fragRenderer?a.fragRenderer(t,n):r(a.renderer(t,n)),o=o||new e.Deferred,l.cache&&(l.cached[t]=o,o.__view_id=t,l.cachedRenderers[t]=s),o.resolve(s)},simpleHelper:function(t){return function(){var n=[],i=arguments;return e.each(i,function(e,t){if(t<=i.length){for(;e&&e.isComputed;)e=e();n.push(e)}}),t.apply(this,n)}}}),e}),define("can/view/scope/compute_data",["can/util/util","can/compute/compute","can/compute/get_value_and_bind"],function(e,t,n){var i=function(t,n,i,r,o){if(!(arguments.length>4)){if(r.root)return e.compute.read(r.root,r.reads,i).value;var s=t.read(n,i);return r.scope=s.scope,r.initialValue=s.value,r.reads=s.reads,r.root=s.rootObserve,r.setRoot=s.setRoot,s.value}var a=r.root||r.setRoot;if(a)if(a.isComputed)a(o);else if(r.reads.length){var l=r.reads.length-1,u=r.reads.length?e.compute.read(a,r.reads.slice(0,l)).value:a;e.compute.set(u,r.reads[l].key,o,i)}};return function(t,r,o){o=o||{args:[]};var s={},a=function(e){return arguments.length?i(t,r,o,s,e):i(t,r,o,s)},l=e.compute(void 0,{on:function(){var t;u.getValueAndBind(),(t=s).reads&&1===t.reads.length&&t.root instanceof e.Map&&!e.isFunction(t.root[t.reads[0].key])&&(u.dependencyChange=function(e,t){return"function"!=typeof t?this.newVal=t:(u.dependencyChange=n.prototype.dependencyChange,u.getValueAndBind=n.prototype.getValueAndBind),n.prototype.dependencyChange.call(this,e)},u.getValueAndBind=function(){this.value=this.newVal}),l.computeInstance.value=u.value,l.computeInstance.hasDependencies=!e.isEmptyObject(u.newObserved)},off:function(){u.dependencyChange=n.prototype.dependencyChange,u.getValueAndBind=n.prototype.getValueAndBind,u.teardown()},set:a,get:a,__selfUpdater:!0}),u=new n(a,null,l.computeInstance);return s.compute=l,s}}),define("can/view/scope/scope",["can/util/util","can/view/scope/compute_data","can/construct/construct","can/map/map","can/list/list","can/view/view","can/compute/compute"],function(e,t){function n(e,t,n){this._context=e,this._parent=t,this._meta=n||{},this.__cache={}}function i(e,t,i){e.helpers||e.partials||e.tags||(e={helpers:e}),n.call(this,e,t,i)}return e.simpleExtend(n,{read:e.compute.read,Refs:e.Map.extend({shortName:"ReferenceMap"},{}),refsScope:function(){return new e.view.Scope(new this.Refs)}}),e.simpleExtend(n.prototype,{add:function(e,t){return e!==this._context?new this.constructor(e,this,t):this},read:function(t,n){if("%root"===t)return{value:this.getRoot()};var i,r="./"===t.substr(0,2),o="../"===t.substr(0,3),s="."===t||"this"===t,a=".."===t;if((r||o||s||a)&&this._meta.notContext)return this._parent.read(t,n);if(r)i=!0,t=t.substr(2);else{if(o){for(var l=this._parent;l._meta.notContext;)l=l._parent;return l.read(t.substr(3)||".",n)}if(s)return{value:this._context};if(a)return{value:this._parent._context}}var u=e.compute.read.reads(t);return"*"===u[0].key.charAt(0)?this.getRefs()._read(u,n,!0):this._read(u,n,i)},_read:function(t,n,i){for(var r,o,s,a,l,u=this,c=[],d=-1,h=e.simpleExtend({foundObservable:function(e,n){o=e,s=t.slice(n)},earlyExit:function(e,t){t>d&&(l=o,a=s,d=t)}},n);u;){if(null!==(r=u._context)&&("object"==typeof r||"function"==typeof r)){var f=e.__trapObserves(),p=e.compute.read(r,t,h),g=f();if(void 0!==p.value)return e.__observes(g),{scope:u,rootObserve:o,value:p.value,reads:s};c.push.apply(c,g)}u=i?null:u._parent}return e.__observes(c),{setRoot:l,reads:a,value:void 0}},get:e.__notObserve(function(t,n){return n=e.simpleExtend({isArgument:!0},n),this.read(t,n).value}),getScope:function(e){for(var t=this;t;){if(e(t))return t;t=t._parent}},getContext:function(e){var t=this.getScope(e);return t&&t._context},getRefs:function(){return this.getScope(function(e){return e._context instanceof n.Refs})},getRoot:function(){for(var e=this,t=this;e._parent;)t=e,e=e._parent;return e._context instanceof n.Refs&&(e=t),e._context},set:function(t,n,i){var r,o,s=t.lastIndexOf("."),a=t.lastIndexOf("/");if(a>s?(r=t.substring(0,a),o=t.substring(a+1,t.length)):-1!==s?(r=t.substring(0,s),o=t.substring(s+1,t.length)):(r=".",o=t),"*"===t.charAt(0))e.compute.set(this.getRefs()._context,t,n,i);else{var l=this.read(r,i).value;e.compute.set(l,o,n,i)}},attr:e.__notObserve(function(t,n,i){return i=e.simpleExtend({isArgument:!0},i),2===arguments.length?this.set(t,n,i):this.get(t,i)}),computeData:function(e,n){return t(this,e,n)},compute:function(e,t){return this.computeData(e,t).compute},cloneFromRef:function(){for(var t,i,r=[],o=this;o;){if((t=o._context)instanceof n.Refs){i=o._parent;break}r.unshift(t),o=o._parent}return i?(e.each(r,function(e){i=i.add(e)}),i):this}}),e.view.Scope=n,i.prototype=new n,i.prototype.constructor=i,e.view.Options=i,n}),define("can/view/stache/utils",["can/util/util","can/view/scope/scope"],function(can){var Options=can.view.Options;return{isArrayLike:function(e){return e&&e.splice&&"number"==typeof e.length},isObserveLike:function(e){return e instanceof can.Map||e&&!!e._get},emptyHandler:function(){},jsonParse:function(str){return"'"===str[0]?str.substr(1,str.length-2):"undefined"===str?void 0:can.global.JSON?JSON.parse(str):eval("("+str+")")},mixins:{last:function(){return this.stack[this.stack.length-1]},add:function(e){this.last().add(e)},subSectionDepth:function(){return this.stack.length-1}},convertToScopes:function(e,t,n,i,r,o,s){r&&(e.fn=this.makeRendererConvertScopes(r,t,n,i,s)),o&&(e.inverse=this.makeRendererConvertScopes(o,t,n,i,s))},makeRendererConvertScopes:function(e,t,n,i,r){var o=function(n,i,r){return e(n||t,i,r)},s=function(e,r,s){return void 0===e||e instanceof can.view.Scope||(e=t.add(e)),void 0===r||r instanceof Options||(r=n.add(r)),o(e,r||n,s||i)};return r?s:can.__notObserve(s)},Options:Options}}),define("can/view/elements",["can/util/util","can/view/view"],function(e){var t="undefined"!=typeof document?document:null,n=t&&1===e.$(document.createComment("~")).length,i={tagToContentPropMap:{option:t&&"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:e.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:e.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},selfClosingTags:{col:!0},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},setAttr:e.attr.set,getAttr:e.attr.get,removeAttr:e.attr.remove,contentText:function(e){return"string"==typeof e?e:e||0===e?""+e:""},after:function(t,n){var i=t[t.length-1];i.nextSibling?e.insertBefore(i.parentNode,n,i.nextSibling,e.document):e.appendChild(i.parentNode,n,e.document)},replace:function(t,r){var o,s=t[0].parentNode;"SELECT"===s.nodeName.toUpperCase()&&s.selectedIndex>=0&&(o=s.value),i.after(t,r),e.remove(e.$(t)).length<t.length&&!n&&e.each(t,function(e){8===e.nodeType&&e.parentNode.removeChild(e)}),void 0!==o&&(s.value=o)}};return e.view.elements=i,i}),define("can/view/node_lists/node_lists",["can/util/util","can/view/elements"],function(e){var t=!0;try{document.createTextNode("")._=0}catch(e){t=!1}var n={},i={},r="ejs_"+Math.random(),o=0,s=function(e,n){var s=n||i,l=a(e,s);return l||(t||3!==e.nodeType?(++o,e[r]=(e.nodeName?"element_":"obj_")+o):(s["text_"+ ++o]=e,"text_"+o))},a=function(e,n){if(t||3!==e.nodeType)return e[r];for(var i in n)if(n[i]===e)return i},l=[].splice,u=[].push,c=function(e){for(var t=0,n=0,i=e.length;i>n;n++){var r=e[n];r.nodeType?t++:t+=c(r)}return t},d=function(e,t){for(var n={},i=0,r=e.length;r>i;i++){var o=h.first(e[i]);n[s(o,t)]=e[i]}return n},h={id:s,update:function(t,n){var i=h.unregisterChildren(t);n=e.makeArray(n);var r=t.length;return l.apply(t,[0,r].concat(n)),t.replacements?(h.nestReplacements(t),t.deepChildren=t.newDeepChildren,t.newDeepChildren=[]):h.nestList(t),i},nestReplacements:function(e){for(var t=0,n={},i=d(e.replacements,n),r=e.replacements.length,o={};t<e.length&&r;){var s=e[t],l=a(s,n),u=i[l];u&&(e.splice(t,c(u),u),o[l]=!0,r--),t++}r&&function(e,t,n){for(var i in t)n[i]||e.newDeepChildren.push(t[i])}(e,i,o),e.replacements=[]},nestList:function(e){for(var t=0;t<e.length;){var i=e[t],r=n[s(i)];r?r!==e&&e.splice(t,c(r),r):n[s(i)]=e,t++}},last:function(e){var t=e[e.length-1];return t.nodeType?t:h.last(t)},first:function(e){var t=e[0];return t.nodeType?t:h.first(t)},flatten:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i.nodeType?t.push(i):t.push.apply(t,h.flatten(i))}return t},register:function(t,n,i,r){return e.cid(t),t.unregistered=n,t.parentList=i,t.nesting=i&&void 0!==i.nesting?i.nesting+1:0,i?(t.deepChildren=[],t.newDeepChildren=[],t.replacements=[],!0!==i&&(r?i.replacements.push(t):i.newDeepChildren.push(t))):h.nestList(t),t},unregisterChildren:function(t){var i=[];return e.each(t,function(e){e.nodeType?(t.replacements||delete n[s(e)],i.push(e)):u.apply(i,h.unregister(e,!0))}),e.each(t.deepChildren,function(e){h.unregister(e,!0)}),i},unregister:function(e,t){var n=h.unregisterChildren(e,!0);if(e.unregistered){var i=e.unregistered;if(e.replacements=e.unregistered=null,!t){var r=e.parentList&&e.parentList.deepChildren;if(r){var o=r.indexOf(e);-1!==o&&r.splice(o,1)}}i()}return n},nodeMap:n};return e.view.nodeLists=h,h}),define("can/view/parser/parser",[],function(){function e(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function t(t){var n={};return e(t.split(","),function(e){n[e]=!0}),n}var n="A-Za-z0-9",i="-:_"+n,r=new RegExp("^<(["+n+"]["+i+"]*)((?:\\s*(?:(?:(?:[^=>\\s\\/]+)?(?:\\s*=\\s*(?:(?:\\{\\{[^\\}]\\}\\}\\}?)|(?:\\{[^\\}\\{]\\})|(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)|(?:\\{\\{[^\\}]*\\}\\}\\}?)+))*)\\s*(\\/?)>"),o=new RegExp("^<\\/(["+i+"]+)[^>]*>"),s=new RegExp("\\{\\{([^\\}]*)\\}\\}\\}?","g"),a=/<|\{\{/,l=/\s/,u=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),c=t("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),d=t("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),h=t("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),f=t("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),p=t("script"),g="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),m=function(){},v=function(t,n,i){function l(e,t,i,r){if(t=h[t]?t:t.toLowerCase(),c[t]&&!d[t])for(var o=T.last();o&&d[o]&&!c[o];)b("",o),o=T.last();f[t]&&T.last()===t&&b("",t),r=u[t]||!!r,n.start(t,r),r||T.push(t),v.parseAttrs(i,n),n.end(t,r)}function b(e,t){var i;if(t)for(t=h[t]?t:t.toLowerCase(),i=T.length-1;i>=0&&T[i]!==t;i--);else i=0;if(i>=0){for(var r=T.length-1;r>=i;r--)n.close&&n.close(T[r]);T.length=i}}function y(e,t){n.special&&n.special(t)}if("object"==typeof t)return function(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];t[r.tokenType].apply(t,r.args)}return e}(t,n);var _=[];n=n||{},i&&e(g,function(e){var t=n[e]||m;n[e]=function(){!1!==t.apply(this,arguments)&&_.push({tokenType:e,args:[].slice.call(arguments,0)})}});var w,x,C,k=function(){S&&n.chars&&n.chars(S),S=""},T=[],E=t,S="";for(T.last=function(){return this[this.length-1]};t;){if(x=!0,T.last()&&p[T.last()])t=t.replace(new RegExp("([\\s\\S]*?)</"+T.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),n.chars&&n.chars(t),""}),b(0,T.last());else if(0===t.indexOf("\x3c!--")?(w=t.indexOf("--\x3e"))>=0&&(k(),n.comment&&n.comment(t.substring(4,w)),t=t.substring(w+3),x=!1):0===t.indexOf("</")?(C=t.match(o))&&(k(),t=t.substring(C[0].length),C[0].replace(o,b),x=!1):0===t.indexOf("<")?(C=t.match(r))&&(k(),t=t.substring(C[0].length),C[0].replace(r,l),x=!1):0===t.indexOf("{{")&&((C=t.match(s))&&(k(),t=t.substring(C[0].length),C[0].replace(s,y))),x){0===(w=t.search(a))&&t===E&&(S+=t.charAt(0),w=(t=t.substr(1)).search(a));var N=0>w?t:t.substring(0,w);t=0>w?"":t.substring(w),N&&(S+=N)}if(t===E)throw new Error("Parse Error: "+t);E=t}return k(),b(),n.done(),_},b=function(e,t,n,i){e.attrStart=i.substring("number"==typeof e.nameStart?e.nameStart:t,t),n.attrStart(e.attrStart),e.inName=!1},y=function(e,t,n,i){void 0!==e.valueStart&&e.valueStart<t?n.attrValue(i.substring(e.valueStart,t)):e.inValue,n.attrEnd(e.attrStart),e.attrStart=void 0,e.valueStart=void 0,e.inValue=!1,e.inName=!1,e.lookingForEq=!1,e.inQuote=!1,e.lookingForName=!0};return v.parseAttrs=function(e,t){if(e){for(var n,i=0,r={inDoubleCurly:!1,inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};i<e.length;){n=i;var o=e.charAt(i),s=e.charAt(i+1),a=e.charAt(i+2);if(i++,"{"===o&&"{"===s)r.inValue&&n>r.valueStart?t.attrValue(e.substring(r.valueStart,n)):r.inName&&r.nameStart<n?(b(r,n,t,e),y(r,n,t,e)):r.lookingForValue?r.inValue=!0:r.lookingForEq&&r.attrStart&&y(r,n,t,e),r.inDoubleCurly=!0,r.doubleCurlyStart=n+2,i++;else if(r.inDoubleCurly){if("}"===o&&"}"===s){var u="}"===a?1:0;t.special(e.substring(r.doubleCurlyStart,n)),r.inDoubleCurly=!1,r.inValue&&(r.valueStart=n+2+u),i+=1+u}}else r.inValue?r.inQuote?o===r.inQuote&&y(r,n,t,e):l.test(o)&&y(r,n,t,e):"="===o&&(r.lookingForEq||r.lookingForName||r.inName)?(r.attrStart||b(r,n,t,e),r.lookingForValue=!0,r.lookingForEq=!1,r.lookingForName=!1):r.inName?l.test(o)&&(b(r,n,t,e),r.lookingForEq=!0):r.lookingForName?l.test(o)||(r.attrStart&&y(r,n,t,e),r.nameStart=n,r.inName=!0):r.lookingForValue&&(l.test(o)||(r.lookingForValue=!1,r.inValue=!0,"'"===o||'"'===o?(r.inQuote=o,r.valueStart=n+1):r.valueStart=n))}r.inName?(b(r,n+1,t,e),y(r,n+1,t,e)):r.lookingForEq?y(r,n+1,t,e):r.inValue&&y(r,n+1,t,e)}},v}),define("can/util/array/diff",[],function(){var e=[].slice;return function(t,n){for(var i=0,r=0,o=t.length,s=n.length,a=[];o>i&&s>r;){var l=t[i],u=n[r];if(l!==u)if(s>r+1&&n[r+1]===l)a.push({index:r,deleteCount:0,insert:[n[r]]}),i++,r+=2;else{if(!(o>i+1&&t[i+1]===u))return a.push({index:r,deleteCount:o-i,insert:e.call(n,r)}),a;a.push({index:r,deleteCount:1,insert:[]}),i+=2,r++}else i++,r++}return r===s&&i===o?a:(a.push({index:r,deleteCount:o-i,insert:e.call(n,r)}),a)}}),define("can/view/live/live",["can/util/util","can/view/elements","can/view/view","can/view/node_lists/node_lists","can/view/parser/parser","can/util/array/diff"],function(e,t,n,i,r,o){t=t||e.view.elements,i=i||e.view.NodeLists,r=r||e.view.parser;var s=function(t,n,i){var r=!1,o=function(){return r||(r=!0,i(s),e.unbind.call(t,"removed",o)),!0},s={teardownCheck:function(e){return!e&&o()}};return e.bind.call(t,"removed",o),n(s),s},a=function(e){var t=e.childNodes;if("length"in t)return t;for(var n=e.firstChild,i=[];n;)i.push(n),n=n.nextSibling;return i},l=function(e,t,n){return s(e,function(){t.computeInstance.bind("change",n)},function(e){t.computeInstance.unbind("change",n),e.nodeList&&i.unregister(e.nodeList)})},u=function(e){var t,n={};return r.parseAttrs(e,{attrStart:function(e){n[e]="",t=e},attrValue:function(e){n[t]+=e},attrEnd:function(){}}),n},c=[].splice,d=function(t,n,r,o,s){var l=[];n&&(i.register(l,null,!0,!0),l.parentList=n,l.expression="#each SUBEXPRESSION");var u=function(t){var n="string"==typeof t,i=e.frag(t);return n?e.view.hookup(i):i}(r.apply(o,s.concat([l]))),c=e.makeArray(a(u));return n?(i.update(l,c),t.push(l)):t.push(i.register(c)),u},h=function(t,n,r){var o=t.splice(n+1,r),s=[];return e.each(o,function(e){var t=i.unregister(e);[].push.apply(s,t)}),s},f=function(e,n,i,r){if(n&&0===e.length){var o=[],s=d(o,r,n,e,[e]);t.after([i[0]],s),i.push(o[0])}},p={},g={registerChildMutationCallback:function(e,t){return t?void(p[e]=t):p[e]},callChildMutationCallback:function(e){var t=e&&p[e.nodeName.toLowerCase()];t&&t(e)},list:function(n,r,a,l,u,p,m){var v,b=p||[n],y=[],_=!1,w=!1,x=function(n,r,o){if(_){var s=E.ownerDocument.createDocumentFragment(),u=[],f=[];e.each(r,function(t,n){var i=e.compute(n+o),r=d(u,p,a,l,[t,i]);s.appendChild(r),f.push(i)});var m=o+1;if(!y.length){var v=h(b,0,b.length-1);e.remove(e.$(v))}if(b[m]){var w=i.first(b[m]);e.insertBefore(w.parentNode,s,w)}else t.after(1===m?[E]:[i.last(b[m-1])],s);c.apply(b,[m,0].concat(u)),c.apply(y,[o,0].concat(f));for(var x=o+f.length,C=y.length;C>x;x++)y[x](x);!1!==n.callChildMutationCallback&&g.callChildMutationCallback(E.parentNode)}},C=function(e,t,n){k({},{length:1},n,!0),x({},[t],n)},k=function(t,n,r,o,s){if(_&&(o||!D.teardownCheck(E.parentNode))){0>r&&(r=y.length+r);var a=h(b,r,n.length);y.splice(r,n.length);for(var l=r,u=y.length;u>l;l++)y[l](l);s?i.unregister(b):(f(v,m,b,p),e.remove(e.$(a)),!1!==t.callChildMutationCallback&&g.callChildMutationCallback(E.parentNode))}},T=function(t,n,r,o){if(_){o+=1;var s,a=b[r+=1],l=e.frag(i.flatten(b[o]));s=r>o?i.last(a).nextSibling:i.first(a),b[0].parentNode.insertBefore(l,s);var u=b[o];[].splice.apply(b,[o,1]),[].splice.apply(b,[r,0,u]),r-=1;var c=y[o-=1];[].splice.apply(y,[o,1]),[].splice.apply(y,[r,0,c]);for(var d=Math.min(o,r),h=y.length;h>d;d++)y[d](d);!1!==t.callChildMutationCallback&&g.callChildMutationCallback(E.parentNode)}},E=n.ownerDocument.createTextNode(""),S=function(e){v&&v.unbind&&v.unbind("add",x).unbind("set",C).unbind("remove",k).unbind("move",T),k({callChildMutationCallback:!!e},{length:b.length-1},0,!0,e)},N=function(t,n,i){if(!w){if(_=!0,n&&i){v=n||[];var r=o(i,n);i.unbind&&i.unbind("add",x).unbind("set",C).unbind("remove",k).unbind("move",T);for(var s=0,a=r.length;a>s;s++){var l=r[s];l.deleteCount&&k({callChildMutationCallback:!1},{length:l.deleteCount},l.index,!0),l.insert.length&&x({callChildMutationCallback:!1},l.insert,l.index)}}else i&&S(),x({callChildMutationCallback:!1},v=n||[],0),f(v,m,b,p);g.callChildMutationCallback(E.parentNode),_=!1,v.bind&&v.bind("add",x).bind("set",C).bind("remove",k).bind("move",T),e.batch.afterPreviousEvents(function(){_=!0})}};u=t.getParentNode(n,u);var D=s(u,function(){e.isFunction(r)&&r.bind("change",N)},function(){e.isFunction(r)&&r.unbind("change",N),S(!0)});p?(t.replace(b,E),i.update(b,[E]),p.unregistered=function(){D.teardownCheck(),w=!0}):g.replace(b,E,D.teardownCheck),N(0,e.isFunction(r)?r():r)},html:function(n,r,o,s){var u;o=t.getParentNode(n,o),u=l(o,r,function(e,t,n){i.first(c).parentNode&&d(t);var r=i.first(c).parentNode;u.teardownCheck(r),g.callChildMutationCallback(r)});var c=s||[n],d=function(n){var r="function"==typeof n,s=function(e){return e&&e.nodeType}(n),l=e.frag(r?"":n),u=e.makeArray(c);(function(e){e.firstChild||e.appendChild(e.ownerDocument.createTextNode(""))})(l),s||r||(l=e.view.hookup(l,o)),u=i.update(c,a(l)),r&&n(l.firstChild),t.replace(u,l)};u.nodeList=c,s?s.unregistered=u.teardownCheck:i.register(c,u.teardownCheck),d(r())},replace:function(n,r,o){var s=n.slice(0),l=e.frag(r);return i.register(n,o),"string"==typeof r&&(l=e.view.hookup(l,n[0].parentNode)),i.update(n,a(l)),t.replace(s,l),n},text:function(n,r,o,s){var a=t.getParentNode(n,o),u=l(a,r,function(t,n,i){"unknown"!=typeof c.nodeValue&&(c.nodeValue=e.view.toStr(n)),u.teardownCheck(c.parentNode)}),c=n.ownerDocument.createTextNode(e.view.toStr(r()));s?(s.unregistered=u.teardownCheck,u.nodeList=s,i.update(s,[c]),t.replace([n],c)):u.nodeList=g.replace([n],c,u.teardownCheck)},setAttributes:function(t,n){var i=u(n);for(var r in i)e.attr.set(t,r,i[r])},attributes:function(n,i,r){var o={},s=function(i){var r,s=u(i);for(r in s){var a=s[r];a!==o[r]&&e.attr.set(n,r,a),delete o[r]}for(r in o)t.removeAttr(n,r);o=s};l(n,i,function(e,t){s(t)}),arguments.length>=3?o=u(r):s(i())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(n,i,r){l(n,r,function(e,r){t.setAttr(n,i,a.render())});var o,s=e.$(n);(o=e.data(s,"hooks"))||e.data(s,"hooks",o={});var a,u=String(t.getAttr(n,i)),c=u.split(g.attributePlaceholder),d=[];d.push(c.shift(),c.join(g.attributePlaceholder)),o[i]?o[i].computes.push(r):o[i]={render:function(){var e=0;return u?u.replace(g.attributeReplace,function(){return t.contentText(a.computes[e++]())}):t.contentText(a.computes[e++]())},computes:[r],batchNum:void 0},a=o[i],d.splice(1,0,r()),t.setAttr(n,i,d.join(""))},specialAttribute:function(e,n,i){l(e,i,function(i,r){t.setAttr(e,n,v(r))}),t.setAttr(e,n,v(i()))},simpleAttribute:function(e,n,i){l(e,i,function(i,r){t.setAttr(e,n,r)}),t.setAttr(e,n,i())}};g.attr=g.simpleAttribute,g.attrs=g.attributes,g.getAttributeParts=u;var m=/(\r|\n)+/g,v=function(e){return e=e.replace(t.attrReg,"").replace(m,""),/^["'].*["']$/.test(e)?e.substr(1,e.length-2):e};return e.view.live=g,g}),define("can/view/stache/mustache_helpers",["can/util/util","can/view/stache/utils","can/view/live/live"],function(e,t,n){n=n||e.view.live;var i=function(n){return t.isObserveLike(n)&&t.isArrayLike(n)&&n.attr("length")?n:e.isFunction(n)?n():n},r=function(e){var t={};for(var n in e){var i=e[n];i&&i.isComputed?t[n]=i():t[n]=i}return t},o=function(e){return e&&"function"==typeof e.fn&&"function"==typeof e.inverse},s={each:function(r,o){var s,a,l,u=i(r),c=[];if(u instanceof e.List&&!o.stringOnly)return function(t){var i=[t];i.expression="live.list",e.view.nodeLists.register(i,null,o.nodeList,!0),e.view.nodeLists.update(o.nodeList,[t]);n.list(t,r,function(e,t,n){return o.fn(o.scope.add({"%index":t,"@index":t},{notContext:!0}).add(e),o.options,n)},o.context,t.parentNode,i,function(e,t){return o.inverse(o.scope.add(e),o.options,t)})};var d=u;if(d&&t.isArrayLike(d)){var h=d instanceof e.List;for(l=0;l<(h?d.attr("length"):d.length);l++){var f=h?d.attr(l):d[l];c.push(o.fn(o.scope.add({"%index":l,"@index":l},{notContext:!0}).add(f)))}}else if(t.isObserveLike(d))for(s=e.Map.keys(d),l=0;l<s.length;l++)a=s[l],c.push(o.fn(o.scope.add({"%key":a,"@key":a},{notContext:!0}).add(d[a])));else if(d instanceof Object)for(a in d)c.push(o.fn(o.scope.add({"%key":a,"@key":a},{notContext:!0}).add(d[a])));return o.stringOnly?c.join(""):c},"@index":function(t,n){n||(n=t,t=0);var i=n.scope.attr("@index");return""+((e.isFunction(i)?i():i)+t)},if:function(t,n){return(e.isFunction(t)?e.compute.truthy(t)():!!i(t))?n.fn(n.scope||this):n.inverse(n.scope||this)},is:function(){var t,n,r=arguments[arguments.length-1];if(arguments.length-2<=0)return r.inverse();var o=arguments;return e.compute(function(){for(var r=0;r<o.length-1;r++){if(n=i(o[r]),n=e.isFunction(n)?n():n,r>0&&n!==t)return!1;t=n}return!0})()?r.fn():r.inverse()},eq:function(){return s.is.apply(this,arguments)},unless:function(t,n){return s.if.apply(this,[t,e.extend({},n,{fn:n.inverse,inverse:n.fn})])},with:function(e,t){var n=e;return(e=i(e))?t.fn(n):void 0},log:function(e,t){"undefined"!=typeof console&&console.log&&(t?console.log(e,t.context):console.log(e.context))},data:function(t){var n=2===arguments.length?this:arguments[1];return function(i){e.data(e.$(i),t,n||this.context)}},switch:function(e,t){i(e);var n=!1,r=t.helpers.add({case:function(t,r){return n||i(e)!==i(t)?void 0:(n=!0,r.fn(r.scope||this))},default:function(e){return n?void 0:e.fn(e.scope||this)}});return t.fn(t.scope,r)},joinBase:function(t){var n=[].slice.call(arguments),r=n.pop(),o=e.map(n,function(t){var n=i(t);return e.isFunction(n)?n():n}).join(""),s=r.helpers.attr("helpers.module"),a=s?s.uri:void 0;if("."===o[0]&&a)return e.joinURIs(a,o);var l=e.baseURL||"undefined"!=typeof System&&(System.renderingLoader&&System.renderingLoader.baseURL||System.baseURL)||location.pathname;return"/"!==o[0]&&"/"!==l[l.length-1]&&(l+="/"),e.joinURIs(l,o)},routeUrl:function(t,n){return t||(t={}),"function"==typeof t.fn&&"function"==typeof t.inverse&&(t=r(t.hash)),e.route.url(t,"boolean"==typeof n?n:void 0)},routeCurrent:function(t){var n=e.last(arguments),i=n&&o(n);return!n||!i||n.exprData instanceof e.expression.Call?e.route.current(o(t)?{}:t||{}):e.route.current(r(t.hash||{}))?t.fn():t.inverse()}};s.routeCurrent.callAsMethod=!0,s.eachOf=s.each;var a=function(e,t){s[e]=t};return{registerHelper:a,registerSimpleHelper:function(t,n){a(t,e.view.simpleHelper(n))},getHelper:function(e,t){var n=t&&t.get("helpers."+e,{proxyMethods:!1});return n||(n=s[e]),n?{fn:n}:void 0}}}),define("can/view/stache/expression",["can/util/util","can/view/stache/utils","can/view/stache/mustache_helpers","can/view/scope/scope"],function(e,t,n,i){var r=function(t,n,i){var r=n.computeData(t,i);return e.compute.temporarilyBind(r.compute),r},o=function(e,t,n,i){var o=r(e,t,i);return o.compute.computeInstance.hasDependencies?{value:o.compute,computeData:o}:{value:o.initialValue,computeData:o}},s=function(e,t,i,r){var s=o(e,t,0,r);if(void 0===s.computeData.initialValue){"@"===e.charAt(0)&&"@index"!==e&&(e=e.substr(1));var a=n.getHelper(e,i);s.helper=a&&a.fn}return s},a=function(e){return e instanceof d||e instanceof l||e instanceof h?e:new d(e)},l=function(e){this._value=e};l.prototype.value=function(){return this._value};var u=function(e,t){this.key=e,this.rootExpr=t};u.prototype.value=function(e,t){var n=s(this.key,e,t);return this.isHelper=n.helper&&!n.helper.callAsMethod,n.helper||n.value};var c=function(e,t){u.apply(this,arguments)};c.prototype.value=function(e,t){return o(this.key,e).value};var d=function(e,t){this.expr=e,this.modifiers=t||{},this.isCompute=!1};d.prototype.value=function(){return this.expr.value.apply(this.expr,arguments)};var h=function(e){this.hashExprs=e};h.prototype.value=function(){var t={};for(var n in this.hashExprs){var i=this.hashExprs[n],r=i.value.apply(i,arguments);t[n]={call:r&&r.isComputed&&(!i.modifiers||!i.modifiers.compute),value:r}}return e.compute(function(){var e={};for(var n in t)e[n]=t[n].call?t[n].value():t[n].value;return e})};var f=function(t,n,i){i&&!e.isEmptyObject(i)&&n.push(new h(i)),this.methodExpr=t,this.argExprs=e.map(n,a)};f.prototype.args=function(e,t){for(var n=[],i=0,r=this.argExprs.length;r>i;i++){var o=this.argExprs[i],s=o.value.apply(o,arguments);n.push({call:s&&s.isComputed&&(!o.modifiers||!o.modifiers.compute),value:s})}return function(){for(var e=[],t=0,i=n.length;i>t;t++)e[t]=n[t].call?n[t].value():n[t].value;return e}},f.prototype.value=function(t,n,i){var r=this.methodExpr.value(t,n);this.isHelper=this.methodExpr.isHelper;var o=this.args(t,n);return e.compute(function(e){var t=r;if(t&&t.isComputed&&(t=t()),"function"==typeof t){var n=o();return i&&n.push(i),arguments.length&&n.unshift(new S.SetIdentifier(e)),t.apply(null,n)}})};var p=function(){u.apply(this,arguments)};p.prototype.value=function(e,t){var n=s(this.key,e,t,{isArgument:!0,args:[e.attr("."),e]});return n.helper||n.value};var g=function(){u.apply(this,arguments)};g.prototype.value=function(e,t){return o(this.key,e,0,{callMethodsOnObservables:!0,isArgument:!0,args:[e.attr("."),e]}).value};var m=function(e,t,n){this.methodExpr=e,this.argExprs=t,this.hashExprs=n,this.mode=null};m.prototype.args=function(e,t){for(var n=[],i=0,r=this.argExprs.length;r>i;i++){var o=this.argExprs[i];n.push(o.value.apply(o,arguments))}return n},m.prototype.hash=function(e,t){var n={};for(var i in this.hashExprs){var r=this.hashExprs[i];n[i]=r.value.apply(r,arguments)}return n},m.prototype.helperAndValue=function(t,i){var o,s,a,u,c=this.argExprs.length||!e.isEmptyObject(this.hashExprs),d=this.methodExpr instanceof l?""+this.methodExpr._value:this.methodExpr.key;if(c){o=n.getHelper(d,i);var h=t.attr(".");o||"function"!=typeof h[d]||(o={fn:h[d]})}if(!o){u=this.args(t,i);var f=r(d,t,{isArgument:!1,args:u&&u.length?u:[t.attr("."),t]}),p=f.compute;a=f.initialValue,s=f.compute.computeInstance.hasDependencies?p:a,c||void 0!==a||(o=n.getHelper(d,i))}return{value:s,args:u,helper:o&&o.fn}},m.prototype.evaluator=function(n,i,r,o,s,a,l,u){var c={fn:function(){},inverse:function(){},stringOnly:u},d=i.attr("."),h=this.args(i,r,s,a,l,u),f=this.hash(i,r,s,a,l,u);return t.convertToScopes(c,i,r,s,a,l,u),e.simpleExtend(c,{context:d,scope:i,contexts:i,hash:f,nodeList:s,exprData:this,helperOptions:r,helpers:r}),h.push(c),function(){return n.apply(d,h)}},m.prototype.value=function(t,n,i,r,o,s){var a=this.helperAndValue(t,n),l=a.helper;if(!l)return a.value;var u=this.evaluator(l,t,n,i,r,o,s),c=e.compute(u);return e.compute.temporarilyBind(c),c.computeInstance.hasDependencies?c:c()};var v=/[\w\.\\\-_@\/\&%]+/,b=/('.*?'|".*?"|=|[\w\.\\\-_@\/*%\$:]+|[\(\)]|,|\~)/g,y=/^('.*?'|".*?"|[0-9]+\.?[0-9]*|true|false|null|undefined)$/,_=/^[\.@]\w/,w=function(e){return function(e){return v.test(e)}(e)&&_.test(e)},x=function(e){return e.children||(e.children=[]),e},C=function(){this.root={children:[],type:"Root"},this.current=this.root,this.stack=[this.root]};e.simpleExtend(C.prototype,{top:function(){return e.last(this.stack)},isRootTop:function(){return this.top()===this.root},popTo:function(e){this.popUntil(e),this.isRootTop()||this.stack.pop()},firstParent:function(t){for(var n=this.stack.length-2;n>0&&-1===e.inArray(this.stack[n].type,t);)n--;return this.stack[n]},popUntil:function(t){for(;-1===e.inArray(this.top().type,t)&&!this.isRootTop();)this.stack.pop();return this.top()},addTo:function(e,t){var n=this.popUntil(e);x(n).children.push(t)},addToAndPush:function(e,t){this.addTo(e,t),this.stack.push(t)},topLastChild:function(){return e.last(this.top().children)},replaceTopLastChild:function(e){var t=x(this.top()).children;return t.pop(),t.push(e),e},replaceTopLastChildAndPush:function(e){this.replaceTopLastChild(e),this.stack.push(e)},replaceTopAndPush:function(e){var t;return this.top()===this.root?t=x(this.top()).children:(this.stack.pop(),t=x(this.top()).children),t.pop(),t.push(e),this.stack.push(e),e}});var k=function(e){var t=e.lastIndexOf("./"),n=e.lastIndexOf(".");if(n>t)return e.substr(0,n)+"@"+e.substr(n+1);var i=-1===t?0:t+2,r=e.charAt(i);return"."===r||"@"===r?e.substr(0,i)+"@"+e.substr(i+1):e.substr(0,i)+"@"+e.substr(i)},T=function(e){return"Lookup"===e.type&&(e.key=k(e.key)),e},E=function(e){var t=e.top();if(t&&"Lookup"===t.type){var n=e.stack[e.stack.length-2];"Helper"!==n.type&&n&&e.replaceTopAndPush({type:"Helper",method:t})}},S={convertKeyToLookup:k,Literal:l,Lookup:u,ScopeLookup:c,Arg:d,Hashes:h,Call:f,Helper:m,HelperLookup:p,HelperScopeLookup:g,SetIdentifier:function(e){this.value=e},tokenize:function(t){var n=[];return(e.trim(t)+" ").replace(b,function(e,t){n.push(t)}),n},lookupRules:{default:function(e,t,n){var i=("Helper"!==t||e.root?"":"Helper")+(n?"Scope":"")+"Lookup";return S[i]},method:function(e,t,n){return c}},methodRules:{default:function(e){return"Call"===e.type?f:m},call:function(e){return f}},parse:function(e,t){t=t||{};var n=this.ast(e);return t.lookupRule||(t.lookupRule="default"),"string"==typeof t.lookupRule&&(t.lookupRule=S.lookupRules[t.lookupRule]),t.methodRule||(t.methodRule="default"),"string"==typeof t.methodRule&&(t.methodRule=S.methodRules[t.methodRule]),this.hydrateAst(n,t,t.baseMethodType||"Helper")},hydrateAst:function(t,n,i,r){var o,s=this;if("Lookup"===t.type)return new(n.lookupRule(t,i,r))(t.key,t.root&&this.hydrateAst(t.root,n,i));if("Literal"===t.type)return new l(t.value);if("Arg"===t.type)return new d(this.hydrateAst(t.children[0],n,i,r),{compute:!0});if("Hashes"===t.type)return o={},e.each(t.children,function(e){o[e.prop]=s.hydrateAst(e.children[0],n,t.type,!0)}),new h(o);if("Hash"===t.type)throw new Error("");if("Call"===t.type||"Helper"===t.type){var a=[];return o={},e.each(t.children,function(e){"Hash"===e.type?o[e.prop]=s.hydrateAst(e.children[0],n,t.type,!0):a.push(s.hydrateAst(e,n,t.type,!0))}),new(n.methodRule(t))(this.hydrateAst(t.method,n,t.type),a,o)}},ast:function(e){var t=this.tokenize(e);return this.parseAst(t,{index:0})},parseAst:function(n,i){for(var r,o=new C;i.index<n.length;){var s=n[i.index],a=n[i.index+1];if(i.index++,y.test(s))E(o),o.addTo(["Helper","Call","Hash"],{type:"Literal",value:t.jsonParse(s)});else if("="===a){if((r=o.top())&&"Lookup"===r.type){var l=o.firstParent(["Call","Helper","Hash"]);("Call"===l.type||"Root"===l.type)&&(o.popUntil(["Call"]),r=o.top(),o.replaceTopAndPush({type:"Helper",method:"Root"===r.type?e.last(r.children):r}))}"Call"===(r=o.popUntil(["Helper","Call","Hashes"])).type&&o.addToAndPush(["Call"],{type:"Hashes"}),o.addToAndPush(["Helper","Hashes"],{type:"Hash",prop:s}),i.index++}else if(v.test(s)){var u=o.topLastChild();u&&"Call"===u.type&&w(s)?o.replaceTopLastChildAndPush({type:"Lookup",root:u,key:s}):(E(o),o.addToAndPush(["Helper","Call","Hash","Arg"],{type:"Lookup",key:s}))}else if("~"===s)E(o),o.addToAndPush(["Helper","Call","Hash"],{type:"Arg",key:s});else if("("===s){if("Lookup"!==(r=o.top()).type)throw new Error("Unable to understand expression "+n.join(""));o.replaceTopAndPush({type:"Call",method:T(r)})}else")"===s?o.popTo(["Call"]):","===s&&o.popUntil(["Call"])}return o.root.children[0]}};return e.expression=S,S}),define("can/view/callbacks/callbacks",["can/util/util","can/view/view"],function(e){var t=e.view.attr=function(e,t){if(!t){var r=n[e];if(!r)for(var o=0,s=i.length;s>o;o++){var a=i[o];if(a.match.test(e)){r=a.handler;break}}return r}"string"==typeof e?n[e]=t:i.push({match:e,handler:t})},n={},i=[],r=/[-\:]/,o=e.view.tag=function(t,n){if(!n){var i=s[t.toLowerCase()];return!i&&r.test(t)&&(i=function(){}),i}e.global.html5&&(e.global.html5.elements+=" "+t,e.global.html5.shivDocument()),s[t.toLowerCase()]=n},s={};return e.view.callbacks={_tags:s,_attributes:n,_regExpAttributes:i,tag:o,attr:t,tagHandler:function(t,n,i){var r,o=i.options.get("tags."+n,{proxyMethods:!1})||s[n],a=i.scope;if((r=o?e.__notObserve(o)(t,i):a)&&i.subtemplate){a!==r&&(a=a.add(r));var l=i.subtemplate(a,i.options),u="string"==typeof l?e.view.frag(l):l;e.appendChild(t,u)}}},e.view.callbacks}),define("can/view/href/href",["can/util/util","can/view/stache/expression","can/view/callbacks/callbacks","can/view/scope/scope"],function(e,t){e.view.attr("can-href",function(n,i){var r=t.parse("tmp("+function(e){return"{"===e[0]&&"}"===e[e.length-1]?e.substr(1,e.length-2):e}(n.getAttribute("can-href"))+")",{baseMethodType:"Call"}).argExprs[0].value(i.scope,null),o=e.compute(function(){return e.route.url(r())});n.setAttribute("href",o());var s=function(e,t){n.setAttribute("href",t)};o.bind("change",s),e.bind.call(n,"removed",function(){o.unbind("change",s)})})}),define("can/control/control",["can/util/util","can/construct/construct"],function(e){var t,n=e.isFunction,i=e.extend,r=e.each,o=[].slice,s=/\{([^\}]+)\}/g,a=e.getObject("$.event.special",[e])||{},l=function(t,n,i,r){return r?function(t,n,i,r){return e.delegate.call(t,n,i,r),function(){e.undelegate.call(t,n,i,r)}}(t,e.trim(r),n,i):function(t,n,i){return e.bind.call(t,n,i),function(){e.unbind.call(t,n,i)}}(t,n,i)},u=e.Control=e.Construct({setup:function(){if(e.Construct.setup.apply(this,arguments),e.Control){var t,n=this;for(t in n.actions={},n.prototype)n._isAction(t)&&(n.actions[t]=n._action(t))}},_shifter:function(t,i){var r="string"==typeof i?t[i]:i;return n(r)||(r=t[r]),function(){return t.called=i,r.apply(t,[this.nodeName?e.$(this):this].concat(o.call(arguments,0)))}},_isAction:function(e){var t=this.prototype[e],i=typeof t;return"constructor"!==e&&("function"===i||"string"===i&&n(this.prototype[t]))&&!!(a[e]||c[e]||/[^\w]/.test(e))},_action:function(n,i){if(s.lastIndex=0,i||!s.test(n)){var r=i?e.sub(n,this._lookup(i)):n;if(!r)return null;var o=e.isArray(r),a=o?r[1]:r,l=a.split(/\s+/g),u=l.pop();return{processor:c[u]||t,parts:[a,l.join(" "),u],delegate:o?r[0]:void 0}}},_lookup:function(e){return[e,window]},processors:{},defaults:{}},{setup:function(t,n){var r,o=this.constructor,s=o.pluginName||o._fullName;return this.element=e.$(t),s&&"can_control"!==s&&this.element.addClass(s),(r=e.data(this.element,"controls"))||(r=[],e.data(this.element,"controls",r)),r.push(this),this.options=i({},o.defaults,n),this.on(),[this.element,this.options]},on:function(t,n,i,r){if(!t){this.off();var o,s,a=this.constructor,u=this._bindings,c=a.actions,d=this.element,h=e.Control._shifter(this,"destroy");for(o in c)c.hasOwnProperty(o)&&((s=c[o]||a._action(o,this.options,this))&&(u.control[o]=s.processor(s.delegate||d,s.parts[2],s.parts[1],o,this)));return e.bind.call(d,"removed",h),u.user.push(function(t){e.unbind.call(t,"removed",h)}),u.user.length}return"string"==typeof t&&(r=i,i=n,n=t,t=this.element),void 0===r&&(r=i,i=n,n=null),"string"==typeof r&&(r=e.Control._shifter(this,r)),this._bindings.user.push(l(t,i,r,n)),this._bindings.user.length},off:function(){var e=this.element[0],t=this._bindings;t&&(r(t.user||[],function(t){t(e)}),r(t.control||{},function(t){t(e)})),this._bindings={user:[],control:{}}},destroy:function(){if(null!==this.element){var t,n=this.constructor,i=n.pluginName||n._fullName;this.off(),i&&"can_control"!==i&&this.element.removeClass(i),(t=e.data(this.element,"controls")).splice(e.inArray(this,t),1),e.trigger(this,"destroyed"),this.element=null}}}),c=e.Control.processors;return t=function(t,n,i,r,o){return l(t,n,e.Control._shifter(o,r),i)},r(["change","click","contextmenu","dblclick","keydown","keyup","keypress","mousedown","mousemove","mouseout","mouseover","mouseup","reset","resize","scroll","select","submit","focusin","focusout","mouseenter","mouseleave","touchstart","touchmove","touchcancel","touchend","touchleave","inserted","removed","dragstart","dragenter","dragover","dragleave","drag","drop","dragend"],function(e){c[e]=t}),u}),define("can/util/string/deparam/deparam",["can/util/util","can/util/string/string"],function(e){var t=/^\d+$/,n=/([^\[\]]+)|(\[\])/g,i=/([^?#]*)(#.*)?$/,r=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return e.extend(e,{deparam:function(o){var s,a,l={};return o&&i.test(o)&&(s=o.split("&"),e.each(s,function(e){var i=e.split("="),o=r(i.shift()),s=r(i.join("=")),u=l;if(o){for(var c=0,d=(i=o.match(n)).length-1;d>c;c++)u[i[c]]||(u[i[c]]=t.test(i[c+1])||"[]"===i[c+1]?[]:{}),u=u[i[c]];"[]"===(a=i.pop())?u.push(s):u[a]=s}})),l}}),e}),define("can/route/route",["can/util/util","can/map/map","can/list/list","can/util/string/deparam/deparam"],function(e){var t,n,i,r,o=/\:([\w\.]+)/g,s=function(e,t){var n=0,i=0,r={};for(var o in e.defaults)e.defaults[o]===t[o]&&(r[o]=1,n++);for(;i<e.names.length;i++){if(!t.hasOwnProperty(e.names[i]))return-1;r[e.names[i]]||n++}return n},a=window.location,l=e.each,u=e.extend,c=function(t){return t&&"object"==typeof t&&!function(e){return e.toString.toString()!==Object.prototype.toString.toString()}(t)?(t=t instanceof e.Map?t:e.isFunction(t.slice)?t.slice():e.extend({},t),e.each(t,function(e,n){t[n]=c(e)})):void 0!==t&&null!==t&&e.isFunction(t.toString)&&(t=t.toString()),t},d=function(e){return e.replace(/\\/g,"")},h=[],f=function(n,o,s,a){r=1,h.push(o),clearTimeout(t),t=setTimeout(function(){r=0;var t=e.route.data.serialize(),n=e.route.param(t,!0);e.route._call("setURL",n,h),e.batch.trigger(p,"__url",[n,i]),i=n,h=[]},10)},p=e.extend({},e.event),g=function(e){var t=e.attr;return e.attr=function(e,n){var i;return i=void 0===this.define||void 0===this.define[e]||!!this.define[e].serialize?c(Array.apply(null,arguments)):arguments,t.apply(this,i)},e};e.route=function(t,n){var i=e.route._call("root");i.lastIndexOf("/")===i.length-1&&0===t.indexOf("/")&&(t=t.substr(1)),n=n||{};for(var r,s=[],a="",l=o.lastIndex=0,u=e.route._call("querySeparator"),c=e.route._call("matchSlashes");r=o.exec(t);)s.push(r[1]),a+=d(t.substring(l,o.lastIndex-r[0].length)),a+="([^"+("\\"+(d(t.substr(o.lastIndex,1))||u+(c?"":"|/")))+"]"+(n[r[1]]?"*":"+")+")",l=o.lastIndex;return a+=t.substr(l).replace("\\",""),e.route.routes[t]={test:new RegExp("^"+a+"($|"+function(e){return(e+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")}(u)+")"),route:t,names:s,defaults:n,length:t.split("/").length},e.route},u(e.route,{param:function(t,n){var i,r,a=0,c=t.route,d=0;if(delete t.route,l(t,function(){d++}),l(e.route.routes,function(e,n){return(r=s(e,t))>a&&(i=e,a=r),!(r>=d)&&void 0}),e.route.routes[c]&&s(e.route.routes[c],t)===a&&(i=e.route.routes[c]),i){var h,f=u({},t),p=i.route.replace(o,function(e,n){return delete f[n],t[n]===i.defaults[n]?"":encodeURIComponent(t[n])}).replace("\\","");return l(i.defaults,function(e,t){f[t]===e&&delete f[t]}),h=e.param(f),n&&e.route.attr("route",i.route),p+(h?e.route._call("querySeparator")+h:"")}return e.isEmptyObject(t)?"":e.route._call("querySeparator")+e.param(t)},deparam:function(t){var n=e.route._call("root");n.lastIndexOf("/")===n.length-1&&0===t.indexOf("/")&&(t=t.substr(1));var i={length:-1},r=e.route._call("querySeparator"),o=e.route._call("paramsMatcher");if(l(e.route.routes,function(e,n){e.test.test(t)&&e.length>i.length&&(i=e)}),i.length>-1){var s=t.match(i.test),a=s.shift(),c=t.substr(a.length-(s[s.length-1]===r?1:0)),d=c&&o.test(c)?e.deparam(c.slice(1)):{};return d=u(!0,{},i.defaults,d),l(s,function(e,t){e&&e!==r&&(d[i.names[t]]=decodeURIComponent(e))}),d.route=i.route,d}return t.charAt(0)!==r&&(t=r+t),o.test(t)?e.deparam(t.slice(1)):{}},data:g(new e.Map({})),map:function(t){var n;n=t.prototype instanceof e.Map?new t:t,e.route.data=g(n)},routes:{},ready:function(t){return!0!==t&&(e.route._setup(),(e.isBrowserWindow||e.isWebWorker)&&e.route.setState()),e.route},url:function(t,n){return n&&(e.__observe(p,"__url"),t=e.extend({},e.route.deparam(e.route._call("matchingPartOfURL")),t)),e.route._call("root")+e.route.param(t)},link:function(t,n,i,r){return"<a "+function(t){var n=[];return e.each(t,function(t,i){n.push(("className"===i?"class":i)+'="'+("href"===i?t:e.esc(t))+'"')}),n.join(" ")}(u({href:e.route.url(n,r)},i))+">"+t+"</a>"},current:function(t){return e.__observe(p,"__url"),this._call("matchingPartOfURL")===e.route.param(t)},bindings:{hashchange:{paramsMatcher:/^(?:&[^=]+=[^&]*)+/,querySeparator:"&",matchSlashes:!1,bind:function(){e.bind.call(window,"hashchange",m)},unbind:function(){e.unbind.call(window,"hashchange",m)},matchingPartOfURL:function(){return(e.route.location||a).href.split(/#!?/)[1]||""},setURL:function(e){return a.hash!=="#"+e&&(a.hash="!"+e),e},root:"#!"}},defaultBinding:"hashchange",currentBinding:null,_setup:function(){e.route.currentBinding||(e.route._call("bind"),e.route.bind("change",f),e.route.currentBinding=e.route.defaultBinding)},_teardown:function(){e.route.currentBinding&&(e.route._call("unbind"),e.route.unbind("change",f),e.route.currentBinding=null),clearTimeout(t),r=0},_call:function(){var t=e.makeArray(arguments),n=t.shift(),i=e.route.bindings[e.route.currentBinding||e.route.defaultBinding],r=i[n];return r.apply?r.apply(i,t):r}}),l(["bind","unbind","on","off","delegate","undelegate","removeAttr","compute","_get","___get","each"],function(t){e.route[t]=function(){return e.route.data[t]?e.route.data[t].apply(e.route.data,arguments):void 0}}),e.route.attr=function(){return e.route.data.attr.apply(e.route.data,arguments)},e.route.batch=e.batch;var m=e.route.setState=function(){var t=e.route._call("matchingPartOfURL"),o=n;n=e.route.deparam(t),r&&t===i||(e.route.batch.start(),v(o,n,e.route.data),e.route.attr(n),e.route.batch.trigger(p,"__url",[t,i]),e.route.batch.stop())},v=function(e,t,n){for(var i in e)void 0===t[i]?n.removeAttr(i):"[object Object]"===Object.prototype.toString.call(e[i])&&v(e[i],t[i],n.attr(i))};return e.route}),define("can/control/route/route",["can/util/util","can/route/route","can/control/control"],function(e){return e.Control.processors.route=function(t,n,i,r,o){i=i||"",e.route.routes[i]||("/"===i[0]&&(i=i.substring(1)),e.route(i));var s,a=function(t,n,a){if(e.route.attr("route")===i&&(void 0===t.batchNum||t.batchNum!==s)){s=t.batchNum;var l=e.route.attr();delete l.route,e.isFunction(o[r])?o[r](l):o[o[r]](l)}};return e.route.bind("change",a),function(){e.route.unbind("change",a)}},e}),define("can/view/scanner",["can/view/view","can/view/elements","can/view/callbacks/callbacks"],function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(e){return e.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t")},getTag=function(e,t,n){if(e)return e;for(;n<t.length;){if("<"===t[n]&&!notEndTag.test(t[n+1]))return elements.reverseTagMap[t[n+1]]||"span";n++}return""},bracketNum=function(e){return--e.split("{").length- --e.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var e=beforeQuote.match(attrReg);return e&&e[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(e){return e[e.length-1]},Scanner;return can.view.Scanner=Scanner=function(e){can.extend(this,{text:{},tokens:[]},e),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var t,n=0;t=this.tokens[n];n++)t[2]?(this.tokenReg.push(t[2]),this.tokenComplex.push({abbr:t[1],re:new RegExp(t[2]),rescan:t[3]})):(this.tokenReg.push(t[1]),this.tokenSimple[t[1]]=t[0]),this.tokenMap[t[0]]=t[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(e,t){var n=[],i=0,r=this.tokenSimple,o=this.tokenComplex;e=e.replace(newLine,"\n"),this.transform&&(e=this.transform(e)),e.replace(this.tokenReg,function(t,s){var a=arguments[arguments.length-2];if(a>i&&n.push(e.substring(i,a)),r[t])n.push(t);else for(var l,u=0;l=o[u];u++)if(l.re.test(t)){n.push(l.abbr),l.rescan&&n.push(l.rescan(s));break}i=a+s.length}),i<e.length&&n.push(e.substr(i));var s,a,l,u,c="",d=[startTxt+(this.text.start||"")],h=function(e,t){d.push(put_cmd,'"',clean(e),'"'+(t||"")+");")},f=[],p=null,g=!1,m={attributeHookups:[],tagHookups:[],lastTagHookup:""},v=function(){m.lastTagHookup=m.tagHookups.pop()+m.tagHookups.length},b="",y=[],_=!1,w=!1,x=0,C=this.tokenMap;for(htmlTag=quote=beforeQuote=null;void 0!==(l=n[x++]);){if(null===p)switch(l){case C.left:case C.escapeLeft:case C.returnLeft:g=htmlTag&&1;case C.commentLeft:p=l,c.length&&h(c),c="";break;case C.escapeFull:g=htmlTag&&1,rescan=1,p=C.escapeLeft,c.length&&h(c),c=(rescan=n[x++]).content||rescan,rescan.before&&h(rescan.before),n.splice(x,0,C.right);break;case C.commentFull:break;case C.templateLeft:c+=C.left;break;case"<":0!==n[x].indexOf("!--")&&(htmlTag=1,g=0),c+=l;break;case">":htmlTag=0;var k="/"===c.substr(c.length-1)||"--"===c.substr(c.length-2),T="";if(m.attributeHookups.length&&(T="attrs: ['"+m.attributeHookups.join("','")+"'], ",m.attributeHookups=[]),b+m.tagHookups.length!==m.lastTagHookup&&b===top(m.tagHookups))k&&(c=c.substr(0,c.length-1)),d.push(put_cmd,'"',clean(c),'"',",can.view.pending({tagName:'"+b+"',"+T+"scope: "+(this.text.scope||"this")+this.text.options),k?(d.push("}));"),c="/>",v()):"<"===n[x]&&n[x+1]==="/"+b?(d.push("}));"),c=l,v()):(d.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),c="");else if(g||!_&&elements.tagToContentPropMap[y[y.length-1]]||T){var E=",can.view.pending({"+T+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';k?h(c.substr(0,c.length-1),E+'/>"'):h(c,E+'>"'),c="",g=0}else c+=l;(k||_)&&(y.pop(),b=y[y.length-1],_=!1),m.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===l){quote=null;var S=getAttrName();if(viewCallbacks.attr(S)&&m.attributeHookups.push(S),w){h(c+=l),d.push(finishTxt,"}));\n"),c="",w=!1;break}}else if(null===quote&&(quote=l,beforeQuote=s,u=getAttrName(),"img"===b&&"src"===u||"style"===u)){h(c.replace(attrReg,"")),c="",w=!0,d.push(insert_cmd,"can.view.txt(2,'"+getTag(b,n,x)+"',"+status()+",this,function(){",startTxt),h(u+"="+l);break}default:if("<"===s){var N,D=!1;0===(b="!--"===l.substr(0,3)?"!--":l.split(/\s/)[0]).indexOf("/")&&(D=!0,N=b.substr(1)),D?(top(y)===N&&(b=N,_=!0),top(m.tagHookups)===N&&(h(c.substr(0,c.length-1)),d.push(finishTxt+"}}) );"),c="><",v())):(b.lastIndexOf("/")===b.length-1&&(b=b.substr(0,b.length-1)),"!--"!==b&&viewCallbacks.tag(b)&&("content"===b&&elements.tagMap[top(y)]&&(l=l.replace("content",elements.tagMap[top(y)])),m.tagHookups.push(b)),y.push(b))}c+=l}else switch(l){case C.right:case C.returnRight:switch(p){case C.left:1===(a=bracketNum(c))?(d.push(insert_cmd,"can.view.txt(0,'"+getTag(b,n,x)+"',"+status()+",this,function(){",startTxt,c),f.push({before:"",after:finishTxt+"}));\n"})):((i=f.length&&-1===a?f.pop():{after:";"}).before&&d.push(i.before),d.push(c,";",i.after));break;case C.escapeLeft:case C.returnLeft:(a=bracketNum(c))&&f.push({before:finishTxt,after:"}));\n"});for(var A=p===C.escapeLeft?1:0,I={insert:insert_cmd,tagName:getTag(b,n,x),status:status(),specialAttribute:w},P=0;P<this.helpers.length;P++){var O=this.helpers[P];if(O.name.test(c)){c=O.fn(c,I),O.name.source===/^>[\s]*\w*/.source&&(A=0);break}}"object"==typeof c?c.startTxt&&c.end&&w?d.push(insert_cmd,"can.view.toStr( ",c.content,"() ) );"):(c.startTxt?d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=c.escaped?c.escaped:A))+",\n'"+b+"',\n"+status()+",\nthis,\n"):c.startOnlyTxt&&d.push(insert_cmd,"can.view.onlytxt(this,\n"),d.push(c.content),c.end&&d.push("));")):w?d.push(insert_cmd,c,");"):d.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||A)+",\n'"+b+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",c,a?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(h(rescan.after.length),rescan=null)}p=null,c="";break;case C.templateLeft:c+=C.left;break;default:c+=l}s=l}c.length&&h(c),d.push(";");var M=d.join(""),R={out:(this.text.outStart||"")+M+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(R,"this.fn = (function("+this.text.argNames+"){"+R.out+"});\r\n//# sourceURL="+t+".js"),R}},can.view.pending=function(e){var t=can.view.getHooks();return can.view.hook(function(n){can.each(t,function(e){e(n)}),e.templateType="legacy",e.tagName&&viewCallbacks.tagHandler(n,e.tagName,e),can.each(e&&e.attrs||[],function(t){e.attributeName=t;var i=viewCallbacks.attr(t);i&&i(n,e)})})},can.view.tag("content",function(e,t){return t.scope}),can.view.Scanner=Scanner,Scanner}),define("can/view/render",["can/view/view","can/view/elements","can/view/live/live","can/util/string/string"],function(e,t,n){var i,r=[],o=function(e){var n=t.tagMap[e]||"span";return"span"===n?"@@!!@@":"<"+n+">"+o(n)+"</"+n+">"},s=function(t,n){if("string"==typeof t)return t;if(!t&&0!==t)return"";var i=t.hookup&&function(e,n){t.hookup.call(t,e,n)}||"function"==typeof t&&t;return i?n?"<"+n+" "+e.view.hook(i)+"></"+n+">":(r.push(i),""):""+t},a=function(t,n){return"string"==typeof t||"number"==typeof t?e.esc(t):s(t,n)},l=!1,u=function(){};return e.extend(e.view,{live:n,setupLists:function(){var t,n=e.view.lists;return e.view.lists=function(e,n){return t={list:e,renderer:n},Math.random()},function(){return e.view.lists=n,t}},getHooks:function(){var e=r.slice(0);return i=e,r=[],e},onlytxt:function(e,t){return a(t.call(e))},txt:function(c,d,h,f,p){var g,m,v,b,y=t.tagMap[d]||"span",_=!1,w=u;if(l)g=p.call(f);else{("string"==typeof h||1===h)&&(l=!0);var x=e.view.setupLists();w=function(){v.unbind("change",u)},(v=e.compute(p,f,!1)).bind("change",u),m=x(),g=v(),l=!1,_=v.computeInstance.hasDependencies}if(m)return w(),"<"+y+e.view.hook(function(e,t){n.list(e,m.list,m.renderer,f,t)})+"></"+y+">";if(!_||"function"==typeof g)return w(),(l||2===c||!c?s:a)(g,0===h&&y);var C=t.tagToContentPropMap[d];if(0!==h||C)return 1===h?(r.push(function(e){n.attributes(e,v,v()),w()}),v()):2===c?(b=h,r.push(function(e){n.specialAttribute(e,b,v),w()}),v()):(b=0===h?C:h,(0===h?i:r).push(function(e){n.attribute(e,b,v),w()}),n.attributePlaceholder);var k=!!t.selfClosingTags[y];return"<"+y+e.view.hook(c&&"object"!=typeof g?function(e,t){n.text(e,v,t),w()}:function(e,t){n.html(e,v,t),w()})+(k?"/>":">"+o(y)+"</"+y+">")}}),e}),define("can/view/ejs/ejs",["can/util/util","can/view/view","can/util/string/string","can/compute/compute","can/view/scanner","can/view/render"],function(e){var t=e.extend,n=function(e){if(this.constructor!==n){var i=new n(e);return function(e,t){return i.render(e,t)}}return"function"==typeof e?void(this.template={fn:e}):(t(this,e),void(this.template=this.scanner.scan(this.text,this.name)))};return e.EJS=n,n.prototype.render=function(e,t){return e=e||{},this.template.fn.call(e,e,new n.Helpers(e,t||{}))},t(n.prototype,{scanner:new e.view.Scanner({text:{outStart:"with(_VIEW) { with (_CONTEXT) {",outEnd:"}}",argNames:"_CONTEXT,_VIEW",context:"this"},tokens:[["templateLeft","<%%"],["templateRight","%>"],["returnLeft","<%=="],["escapeLeft","<%="],["commentLeft","<%#"],["left","<%"],["right","%>"],["returnRight","%>"]],helpers:[{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(e){var t=e.match(/\s*\(([\$\w]+)\)\s*->([^\n]*)/);return"can.proxy(function(__){var "+t[1]+"=can.$(__);"+t[2]+"}, this);"}}],transform:function(e){return e.replace(/<%([\s\S]+?)%>/gm,function(e,t){var n,i,r=[];t.replace(/[{}]/gm,function(e,t){r.push([e,t])});do{for(n=!1,i=r.length-2;i>=0;i--)if("{"===r[i][0]&&"}"===r[i+1][0]){r.splice(i,2),n=!0;break}}while(n);if(r.length>=2){var o,s=["<%"],a=0;for(i=0;o=r[i];i++)s.push(t.substring(a,a=o[1])),"{"===o[0]&&i<r.length-1||"}"===o[0]&&i>0?s.push("{"===o[0]?"{ %><% ":" %><% }"):s.push(o[0]),++a;return s.push(t.substring(a),"%>"),s.join("")}return"<%"+t+"%>"})}})}),n.Helpers=function(e,n){this._data=e,this._extras=n,t(this,n)},n.Helpers.prototype={list:function(t,n){e.each(t,function(e,i){n(e,i,t)})},each:function(t,n){e.isArray(t)?this.list(t,n):e.view.lists(t,n)}},e.view.register({suffix:"ejs",script:function(e,t){return"can.EJS(function(_CONTEXT,_VIEW) { "+new n({text:t,name:e}).template.out+" })"},renderer:function(e,t){return n({text:t,name:e})}}),e.ejs.Helpers=n.Helpers,e}),define("can/construct/proxy/proxy",["can/util/util","can/construct/construct"],function(e,t){var n=(e.isFunction,e.isArray),i=e.makeArray,r=function(e){var t,r=i(arguments);return e=r.shift(),n(e)||(e=[e]),t=this,function(){for(var o,s=r.concat(i(arguments)),a=e.length,l=0;a>l;l++)(o=e[l])&&(s=("string"==typeof o?t[o]:o).apply(t,s||[]),a-1>l&&(s=!n(s)||s._use_call?[s]:s));return s}};e.Construct.proxy=e.Construct.prototype.proxy=r;for(var o=[e.Map,e.Control,e.Model],s=0;s<o.length;s++)o[s]&&(o[s].proxy=r);return e}),window._define=window.define,window.define=window.define.orig,window.Modernizr=function(e,t,n){var i,r,o={},s=t.documentElement,a="modernizr",l=t.createElement(a),u=l.style,c=t.createElement("input"),d=":)",h={}.toString,f=" -webkit- -moz- -o- -ms- ".split(" "),p="Webkit Moz O ms".split(" "),g="Webkit Moz O ms".toLowerCase().split(" "),m="http://www.w3.org/2000/svg",v={},b={},y={},_=[],w=_.slice,x=function(e,n,i,r){var o,l,u,c,d=t.createElement("div"),h=t.body,f=h||t.createElement("body");if(parseInt(i,10))for(;i--;)(u=t.createElement("div")).id=r?r[i]:a+(i+1),d.appendChild(u);return o=["&#173;",'<style id="s',a,'">',e,"</style>"].join(""),d.id=a,(h?d:f).innerHTML+=o,f.appendChild(d),h||(f.style.background="",f.style.overflow="hidden",c=s.style.overflow,s.style.overflow="hidden",s.appendChild(f)),l=n(d,e),h?d.parentNode.removeChild(d):(f.parentNode.removeChild(f),s.style.overflow=c),!!l},C=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(i,r){r=r||t.createElement(e[i]||"div");var o=(i="on"+i)in r;return o||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(i,""),o=E(r[i],"function"),E(r[i],"undefined")||(r[i]=n),r.removeAttribute(i))),r=null,o}}(),k={}.hasOwnProperty;function T(e){u.cssText=e}function E(e,t){return typeof e===t}function S(e,t){return!!~(""+e).indexOf(t)}function N(e,t){for(var i in e){var r=e[i];if(!S(r,"-")&&u[r]!==n)return"pfx"!=t||r}return!1}function D(e,t,i){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+p.join(r+" ")+r).split(" ");return E(t,"string")||E(t,"undefined")?N(o,t):function(e,t,i){for(var r in e){var o=t[e[r]];if(o!==n)return!1===i?e[r]:E(o,"function")?o.bind(i||t):o}return!1}(o=(e+" "+g.join(r+" ")+r).split(" "),t,i)}for(var A in r=E(k,"undefined")||E(k.call,"undefined")?function(e,t){return t in e&&E(e.constructor.prototype[t],"undefined")}:function(e,t){return k.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=w.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,s=t.apply(o,n.concat(w.call(arguments)));return Object(s)===s?s:o}return t.apply(e,n.concat(w.call(arguments)))};return i}),v.flexbox=function(){return D("flexWrap")},v.flexboxlegacy=function(){return D("boxDirection")},v.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},v.canvastext=function(){return!(!o.canvas||!E(t.createElement("canvas").getContext("2d").fillText,"function"))},v.webgl=function(){return!!e.WebGLRenderingContext},v.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:x(["@media (",f.join("touch-enabled),("),a,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},v.geolocation=function(){return"geolocation"in navigator},v.postmessage=function(){return!!e.postMessage},v.websqldatabase=function(){return!!e.openDatabase},v.indexedDB=function(){return!!D("indexedDB",e)},v.hashchange=function(){return C("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},v.history=function(){return!(!e.history||!history.pushState)},v.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},v.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},v.rgba=function(){return T("background-color:rgba(150,255,150,.5)"),S(u.backgroundColor,"rgba")},v.hsla=function(){return T("background-color:hsla(120,40%,100%,.5)"),S(u.backgroundColor,"rgba")||S(u.backgroundColor,"hsla")},v.multiplebgs=function(){return T("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(u.background)},v.backgroundsize=function(){return D("backgroundSize")},v.borderimage=function(){return D("borderImage")},v.borderradius=function(){return D("borderRadius")},v.boxshadow=function(){return D("boxShadow")},v.textshadow=function(){return""===t.createElement("div").style.textShadow},v.opacity=function(){var e,t;return e="opacity:.55",T(f.join(e+";")+(t||"")),/^0.55$/.test(u.opacity)},v.cssanimations=function(){return D("animationName")},v.csscolumns=function(){return D("columnCount")},v.cssgradients=function(){var e="background-image:";return T((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+f.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),S(u.backgroundImage,"gradient")},v.cssreflections=function(){return D("boxReflect")},v.csstransforms=function(){return!!D("transform")},v.csstransforms3d=function(){var e=!!D("perspective");return e&&"webkitPerspective"in s.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},v.csstransitions=function(){return D("transition")},v.fontface=function(){var e;return x('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=t.getElementById("smodernizr"),o=r.sheet||r.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(s)&&0===s.indexOf(i.split(" ")[0])}),e},v.generatedcontent=function(){var e;return x(["#",a,"{font:0/0 a}#",a,':after{content:"',d,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},v.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return n},v.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&((n=new Boolean(n)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return n},v.localstorage=function(){try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(e){return!1}},v.sessionstorage=function(){try{return sessionStorage.setItem(a,a),sessionStorage.removeItem(a),!0}catch(e){return!1}},v.webworkers=function(){return!!e.Worker},v.applicationcache=function(){return!!e.applicationCache},v.svg=function(){return!!t.createElementNS&&!!t.createElementNS(m,"svg").createSVGRect},v.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==m},v.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(m,"animate")))},v.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(m,"clipPath")))},v)r(v,A)&&(i=A.toLowerCase(),o[i]=v[A](),_.push((o[i]?"":"no-")+i));return o.input||(o.input=function(n){for(var i=0,r=n.length;i<r;i++)y[n[i]]=!!(n[i]in c);return y.list&&(y.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),y}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(e){for(var i,r,o,a=0,l=e.length;a<l;a++)c.setAttribute("type",r=e[a]),(i="text"!==c.type)&&(c.value=d,c.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&c.style.WebkitAppearance!==n?(s.appendChild(c),i=(o=t.defaultView).getComputedStyle&&"textfield"!==o.getComputedStyle(c,null).WebkitAppearance&&0!==c.offsetHeight,s.removeChild(c)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?c.checkValidity&&!1===c.checkValidity():c.value!=d)),b[e[a]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))),o.addTest=function(e,t){if("object"==typeof e)for(var i in e)r(e,i)&&o.addTest(i,e[i]);else{if(e=e.toLowerCase(),o[e]!==n)return o;t="function"==typeof t?t():t,s.className+=" "+(t?"":"no-")+e,o[e]=t}return o},T(""),l=c=null,function(e,t){var n,i,r=e.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,s=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,a="_html5shiv",l=0,u={};function c(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function d(e){var t=u[e[a]];return t||(t={},l++,e[a]=l,u[l]=t),t}function h(e,n,r){return n||(n=t),i?n.createElement(e):(r||(r=d(n)),(a=r.cache[e]?r.cache[e].cloneNode():s.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e)).canHaveChildren&&!o.test(e)?r.frag.appendChild(a):a);var a}function f(e){e||(e=t);var r=d(e);return!p.shivCSS||n||r.hasCSS||(r.hasCSS=!!function(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),i||function(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return p.shivMethods?h(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(p,t.frag)}(e,r),e}!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",n="hidden"in e,i=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){n=!0,i=!0}}();var p={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==r.shivCSS,supportsUnknownElements:i,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:f,createElement:h,createDocumentFragment:function(e,n){if(e||(e=t),i)return e.createDocumentFragment();for(var r=(n=n||d(e)).frag.cloneNode(),o=0,s=c(),a=s.length;o<a;o++)r.createElement(s[o]);return r}};e.html5=p,f(t)}(this,t),o._version="2.6.2",o._prefixes=f,o._domPrefixes=g,o._cssomPrefixes=p,o.mq=function(t){var n,i=e.matchMedia||e.msMatchMedia;return i?i(t).matches:(x("@media "+t+" { #"+a+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n)},o.hasEvent=C,o.testProp=function(e){return N([e])},o.testAllProps=D,o.testStyles=x,o.prefixed=function(e,t,n){return t?D(e,t,n):D(e,"pfx")},s.className=s.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+_.join(" "),o}(this,this.document),function(){"use strict";var e,t,n,i,r,o,s,a,l,u,c,d,h,f,p,g,m,v=function(e){return function(){return e}},b={noop:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},noarg:function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e()}},compose:function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t.apply(null,arguments))}},constant:v,identity:function(e){return e},tripleEquals:function(e,t){return e===t},curry:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=new Array(arguments.length-1),r=1;r<arguments.length;r++)i[r-1]=arguments[r];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var s=i.concat(r);return e.apply(null,s)}},not:function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,arguments)}},die:function(e){return function(){throw new Error(e)}},apply:function(e){return e()},call:function(e){e()},never:v(!1),always:v(!0)},y=b.never,_=b.always,w=function(){return x},x=(i={fold:function(e,t){return e()},is:y,isSome:y,isNone:_,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:w,ap:w,each:function(){},bind:w,flatten:w,exists:y,forall:_,filter:w,equals:e=function(e){return e.isNone()},equals_:e,toArray:function(){return[]},toString:b.constant("none()")},Object.freeze&&Object.freeze(i),i),C=function(e){var t=function(){return e},n=function(){return r},i=function(t){return t(e)},r={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:_,isNone:y,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:function(t){return C(t(e))},ap:function(t){return t.fold(w,function(t){return C(t(e))})},each:function(t){t(e)},bind:i,flatten:t,exists:i,forall:i,filter:function(t){return t(e)?r:x},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(y,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return r},k={some:C,none:w,from:function(e){return null===e||void 0===e?x:C(e)}},T=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t}(t)===e}},E={isString:T("string"),isObject:T("object"),isArray:T("array"),isNull:T("null"),isBoolean:T("boolean"),isUndefined:T("undefined"),isFunction:T("function"),isNumber:T("number")},S=void 0===(r=Array.prototype.indexOf)?function(e,t){return M(e,t)}:function(e,t){return r.call(e,t)},N=function(e,t){return-1<S(e,t)},D=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r,e)}return i},A=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n,e)},I=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n,e)},P=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i,e)&&n.push(o)}return n},O=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n,e))return k.some(n);return k.none()},M=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},R=Array.prototype.push,B=function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);R.apply(t,e[n])}return t},L=function(e,t){for(var n=0,i=e.length;n<i;++n)if(!0!==t(e[n],n,e))return!1;return!0},F=Array.prototype.slice,H=E.isFunction(Array.from)?Array.from:function(e){return F.call(e)},j={map:D,each:A,eachr:I,partition:function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var s=e[r];(t(s,r,e)?n:i).push(s)}return{pass:n,fail:i}},filter:P,groupBy:function(e,t){if(0===e.length)return[];for(var n=t(e[0]),i=[],r=[],o=0,s=e.length;o<s;o++){var a=e[o],l=t(a);l!==n&&(i.push(r),r=[]),n=l,r.push(a)}return 0!==r.length&&i.push(r),i},indexOf:function(e,t){var n=S(e,t);return-1===n?k.none():k.some(n)},foldr:function(e,t,n){return I(e,function(e){n=t(n,e)}),n},foldl:function(e,t,n){return A(e,function(e){n=t(n,e)}),n},find:function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n,e))return k.some(r)}return k.none()},findIndex:O,flatten:B,bind:function(e,t){var n=D(e,t);return B(n)},forall:L,exists:function(e,t){return O(e,t).isSome()},contains:N,equal:function(e,t){return e.length===t.length&&L(e,function(e,n){return e===t[n]})},reverse:function(e){var t=F.call(e,0);return t.reverse(),t},chunk:function(e,t){for(var n=[],i=0;i<e.length;i+=t){var r=e.slice(i,i+t);n.push(r)}return n},difference:function(e,t){return P(e,function(e){return!N(t,e)})},mapToObject:function(e,t){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];n[String(o)]=t(o,i)}return n},pure:function(e){return[e]},sort:function(e,t){var n=F.call(e,0);return n.sort(t),n},range:function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n},head:function(e){return 0===e.length?k.none():k.some(e[0])},last:function(e){return 0===e.length?k.none():k.some(e[e.length-1])},from:H},z="undefined"!=typeof window?window:Function("return this;")(),q=function(e,t){return function(e,t){for(var n=void 0!==t&&null!==t?t:z,i=0;i<e.length&&void 0!==n&&null!==n;++i)n=n[e[i]];return n}(e.split("."),t)},W={getOrDie:function(e,t){var n=q(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n}},U=function(){return W.getOrDie("URL")},$={createObjectURL:function(e){return U().createObjectURL(e)},revokeObjectURL:function(e){U().revokeObjectURL(e)}},V=navigator,Y=V.userAgent,K=function(e){return"matchMedia"in window&&matchMedia(e).matches};h=/Android/.test(Y),s=(s=!(o=/WebKit/.test(Y))&&/MSIE/gi.test(Y)&&/Explorer/gi.test(V.appName))&&/MSIE (\w+)\./.exec(Y)[1],a=-1!==Y.indexOf("Trident/")&&(-1!==Y.indexOf("rv:")||-1!==V.appName.indexOf("Netscape"))&&11,l=-1!==Y.indexOf("Edge/")&&!s&&!a&&12,s=s||a||l,u=!o&&!a&&/Gecko/.test(Y),c=-1!==Y.indexOf("Mac"),d=/(iPad|iPhone)/.test(Y),f="FormData"in window&&"FileReader"in window&&"URL"in window&&!!$.createObjectURL,p=K("only screen and (max-device-width: 480px)")&&(h||d),g=K("only screen and (min-width: 800px)")&&(h||d),m=-1!==Y.indexOf("Windows Phone"),l&&(o=!1);var X,G,J,Q,Z,ee,te,ne,ie,re,oe,se,ae,le,ue,ce,de,he,fe,pe={opera:!1,webkit:o,ie:s,gecko:u,mac:c,iOS:d,android:h,contentEditable:!d||f||534<=parseInt(Y.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==s,range:window.getSelection&&"Range"in window,documentMode:s&&!l?document.documentMode||7:10,fileApi:f,ceFalse:!1===s||8<s,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===s||11<s,desktop:!p&&!g,windowsPhone:m},ge=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,e(o,this),e(s,this))},i=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};function r(e){var t=this;null!==this._state?i(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void e.reject(t)}e.resolve(i)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function o(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void l(e(n,t),e(o,this),e(s,this))}this._state=!0,this._value=t,a.call(this)}catch(e){s.call(this,e)}}function s(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;e<t;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function l(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(e){if(i)return;i=!0,n(e)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var i=this;return new n(function(n,o){r.call(i,new function(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}(e,t,n,o))})},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments);return new n(function(t,n){if(0===e.length)return t([]);var i=e.length;function r(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){r(o,e)},n)}e[o]=s,0==--i&&t(e)}catch(e){n(e)}}for(var o=0;o<e.length;o++)r(o,e[o])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},n}(),me=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},ve=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},be=function(e,t){var n,i;return(i=function(){var i=arguments;clearTimeout(n),n=me(function(){e.apply(this,i)},t)}).stop=function(){clearTimeout(n)},i},ye={requestAnimationFrame:function(e,t){X?X.then(e):X=new ge(function(e){t||(t=document.body),function(e,t){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"];for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=function(e){window.setTimeout(e,0)}),i(e,t)}(e,t)}).then(e)},setTimeout:me,setInterval:ve,setEditorTimeout:function(e,t,n){return me(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var i;return i=ve(function(){e.removed?clearInterval(i):t()},n)},debounce:be,throttle:be,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},_e=/^(?:mouse|contextmenu)|click/,we={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},xe=function(){return!1},Ce=function(){return!0},ke=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Te=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Ee=function(e,t){var n,i,r,o,s,a=t||{};for(n in e)we[n]||(a[n]=e[n]);if(a.target||(a.target=a.srcElement||document),pe.experimentalShadowDom&&(a.target=(i=e,o=a.target,(r=i.path)&&0<r.length&&(o=r[0]),i.composedPath&&(r=i.composedPath())&&0<r.length&&(o=r[0]),o)),e&&_e.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var l=a.target.ownerDocument||document,u=l.documentElement,c=l.body;a.pageX=e.clientX+(u&&u.scrollLeft||c&&c.scrollLeft||0)-(u&&u.clientLeft||c&&c.clientLeft||0),a.pageY=e.clientY+(u&&u.scrollTop||c&&c.scrollTop||0)-(u&&u.clientTop||c&&c.clientTop||0)}return a.preventDefault=function(){a.isDefaultPrevented=Ce,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},a.stopPropagation=function(){a.isPropagationStopped=Ce,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=Ce,a.stopPropagation()})==((s=a).isDefaultPrevented===Ce||s.isDefaultPrevented===xe)&&(a.isDefaultPrevented=xe,a.isPropagationStopped=xe,a.isImmediatePropagationStopped=xe),void 0===a.metaKey&&(a.metaKey=!1),a},Se=function(e,t,n){var i=e.document,r={type:"ready"};if(n.domLoaded)t(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},s=function(){n.domLoaded||(n.domLoaded=!0,t(r))},a=function(){o()&&(Te(i,"readystatechange",a),s())},l=function(){try{i.documentElement.doScroll("left")}catch(e){return void ye.setTimeout(l)}s()};!i.addEventListener||pe.ie&&pe.ie<11?(ke(i,"readystatechange",a),i.documentElement.doScroll&&e.self===e.top&&l()):o()?s():ke(e,"DOMContentLoaded",s),ke(e,"load",s)}},Ne=function(){var e,t,n,i,r,o=this,s={};t="mce-data-"+(+new Date).toString(32),i="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,o.domLoaded=!1,o.events=s;var a=function(e,t){var n,i,r,o,a=s[t];if(n=a&&a[e.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return};o.bind=function(l,u,c,d){var h,f,p,g,m,v,b,y=window,_=function(e){a(Ee(e||y.event),h)};if(l&&3!==l.nodeType&&8!==l.nodeType){for(l[t]?h=l[t]:(h=e++,l[t]=h,s[h]={}),d=d||l,p=(u=u.split(" ")).length;p--;)v=_,m=b=!1,"DOMContentLoaded"===(g=u[p])&&(g="ready"),o.domLoaded&&"ready"===g&&"complete"===l.readyState?c.call(d,Ee({type:g})):(i||(m=r[g])&&(v=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Ee(e||y.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,a(e,h))}),n||"focusin"!==g&&"focusout"!==g||(b=!0,m="focusin"===g?"focus":"blur",v=function(e){(e=Ee(e||y.event)).type="focus"===e.type?"focusin":"focusout",a(e,h)}),(f=s[h][g])?"ready"===g&&o.domLoaded?c({type:g}):f.push({func:c,scope:d}):(s[h][g]=f=[{func:c,scope:d}],f.fakeName=m,f.capture=b,f.nativeHandler=v,"ready"===g?Se(l,v,o):ke(l,m||g,v,b)));return l=f=0,c}},o.unbind=function(e,n,i){var r,a,l,u,c,d;if(!e||3===e.nodeType||8===e.nodeType)return o;if(r=e[t]){if(d=s[r],n){for(l=(n=n.split(" ")).length;l--;)if(a=d[c=n[l]]){if(i)for(u=a.length;u--;)if(a[u].func===i){var h=a.nativeHandler,f=a.fakeName,p=a.capture;(a=a.slice(0,u).concat(a.slice(u+1))).nativeHandler=h,a.fakeName=f,a.capture=p,d[c]=a}i&&0!==a.length||(delete d[c],Te(e,a.fakeName||c,a.nativeHandler,a.capture))}}else{for(c in d)a=d[c],Te(e,a.fakeName||c,a.nativeHandler,a.capture);d={}}for(c in d)return o;delete s[r];try{delete e[t]}catch(n){e[t]=null}}return o},o.fire=function(e,n,i){var r;if(!e||3===e.nodeType||8===e.nodeType)return o;for((i=Ee(null,i)).type=n,i.target=e;(r=e[t])&&a(i,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!i.isPropagationStopped(););return o},o.clean=function(e){var n,i,r=o.unbind;if(!e||3===e.nodeType||8===e.nodeType)return o;if(e[t]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),n=(i=e.getElementsByTagName("*")).length;n--;)(e=i[n])[t]&&r(e);return o},o.destroy=function(){s={}},o.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};Ne.Event=new Ne,Ne.Event.bind(window,"ready",function(){});var De="sizzle"+-new Date,Ae=window.document,Ie=0,Pe=0,Oe=ht(),Me=ht(),Re=ht(),Be=function(e,t){return e===t&&(se=!0),0},Le="undefined",Fe=1<<31,He={}.hasOwnProperty,je=[],ze=je.pop,qe=je.push,We=je.push,Ue=je.slice,$e=je.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Ve="[\\x20\\t\\r\\n\\f]",Ye="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Ke="\\["+Ve+"*("+Ye+")(?:"+Ve+"*([*^$|!~]?=)"+Ve+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Ye+"))|)"+Ve+"*\\]",Xe=":("+Ye+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ke+")*)|.*)\\)|)",Ge=new RegExp("^"+Ve+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ve+"+$","g"),Je=new RegExp("^"+Ve+"*,"+Ve+"*"),Qe=new RegExp("^"+Ve+"*([>+~]|"+Ve+")"+Ve+"*"),Ze=new RegExp("="+Ve+"*([^\\]'\"]*?)"+Ve+"*\\]","g"),et=new RegExp(Xe),tt=new RegExp("^"+Ye+"$"),nt={ID:new RegExp("^#("+Ye+")"),CLASS:new RegExp("^\\.("+Ye+")"),TAG:new RegExp("^("+Ye+"|[*])"),ATTR:new RegExp("^"+Ke),PSEUDO:new RegExp("^"+Xe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ve+"*(even|odd|(([+-]|)(\\d*)n|)"+Ve+"*(?:([+-]|)"+Ve+"*(\\d+)|))"+Ve+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Ve+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ve+"*((?:-\\d)?\\d*)"+Ve+"*\\)|)(?=[^-]|$)","i")},it=/^(?:input|select|textarea|button)$/i,rt=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,st=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,at=/[+~]/,lt=/'|\\/g,ut=new RegExp("\\\\([\\da-f]{1,6}"+Ve+"?|("+Ve+")|.)","ig"),ct=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{We.apply(je=Ue.call(Ae.childNodes),Ae.childNodes),je[Ae.childNodes.length].nodeType}catch(e){We={apply:je.length?function(e,t){qe.apply(e,Ue.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}var dt=function(e,t,n,i){var r,o,s,a,l,u,c,d,h,f;if((t?t.ownerDocument||t:Ae)!==le&&ae(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=(t=t||le).nodeType)&&9!==a)return[];if(ce&&!i){if(r=st.exec(e))if(s=r[1]){if(9===a){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&fe(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return We.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&J.getElementsByClassName)return We.apply(n,t.getElementsByClassName(s)),n}if(J.qsa&&(!de||!de.test(e))){if(d=c=De,h=t,f=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=te(e),(c=t.getAttribute("id"))?d=c.replace(lt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+_t(u[l]);h=at.test(e)&&bt(t.parentNode)||t,f=u.join(",")}if(f)try{return We.apply(n,h.querySelectorAll(f)),n}catch(e){}finally{c||t.removeAttribute("id")}}}return ie(e.replace(Ge,"$1"),t,n,i)};function ht(){var e=[];return function t(n,i){return e.push(n+" ")>Q.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ft(e){return e[De]=!0,e}function pt(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Fe)-(~e.sourceIndex||Fe);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function gt(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function mt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function vt(e){return ft(function(t){return t=+t,ft(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function bt(e){return e&&typeof e.getElementsByTagName!==Le&&e}for(G in J=dt.support={},ee=dt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},ae=dt.setDocument=function(e){var t,n=e?e.ownerDocument||e:Ae,i=n.defaultView;return n!==le&&9===n.nodeType&&n.documentElement?(ue=(le=n).documentElement,ce=!ee(n),i&&i!==function(e){try{return e.top}catch(e){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){ae()},!1):i.attachEvent&&i.attachEvent("onunload",function(){ae()})),J.attributes=!0,J.getElementsByTagName=!0,J.getElementsByClassName=ot.test(n.getElementsByClassName),J.getById=!0,Q.find.ID=function(e,t){if(typeof t.getElementById!==Le&&ce){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Q.filter.ID=function(e){var t=e.replace(ut,ct);return function(e){return e.getAttribute("id")===t}},Q.find.TAG=J.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Le)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},Q.find.CLASS=J.getElementsByClassName&&function(e,t){if(ce)return t.getElementsByClassName(e)},he=[],de=[],J.disconnectedMatch=!0,de=de.length&&new RegExp(de.join("|")),he=he.length&&new RegExp(he.join("|")),t=ot.test(ue.compareDocumentPosition),fe=t||ot.test(ue.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Be=t?function(e,t){if(e===t)return se=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!J.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===Ae&&fe(Ae,e)?-1:t===n||t.ownerDocument===Ae&&fe(Ae,t)?1:oe?$e.call(oe,e)-$e.call(oe,t):0:4&i?-1:1)}:function(e,t){if(e===t)return se=!0,0;var i,r=0,o=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:oe?$e.call(oe,e)-$e.call(oe,t):0;if(o===s)return pt(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;a[r]===l[r];)r++;return r?pt(a[r],l[r]):a[r]===Ae?-1:l[r]===Ae?1:0},n):le},dt.matches=function(e,t){return dt(e,null,null,t)},dt.matchesSelector=function(e,t){if((e.ownerDocument||e)!==le&&ae(e),t=t.replace(Ze,"='$1']"),J.matchesSelector&&ce&&(!he||!he.test(t))&&(!de||!de.test(t)))try{var n=(void 0).call(e,t);if(n||J.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<dt(t,le,null,[e]).length},dt.contains=function(e,t){return(e.ownerDocument||e)!==le&&ae(e),fe(e,t)},dt.attr=function(e,t){(e.ownerDocument||e)!==le&&ae(e);var n=Q.attrHandle[t.toLowerCase()],i=n&&He.call(Q.attrHandle,t.toLowerCase())?n(e,t,!ce):void 0;return void 0!==i?i:J.attributes||!ce?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},dt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},dt.uniqueSort=function(e){var t,n=[],i=0,r=0;if(se=!J.detectDuplicates,oe=!J.sortStable&&e.slice(0),e.sort(Be),se){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return oe=null,e},Z=dt.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Z(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=Z(t);return n},(Q=dt.selectors={cacheLength:50,createPseudo:ft,match:nt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ut,ct),e[3]=(e[3]||e[4]||e[5]||"").replace(ut,ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||dt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&dt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return nt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&et.test(n)&&(t=te(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ut,ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Oe[e+" "];return t||(t=new RegExp("(^|"+Ve+")"+e+"("+Ve+"|$)"))&&Oe(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Le&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=dt.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,f,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(f=(u=(c=m[De]||(m[De]={}))[e]||[])[0]===Ie&&u[1],h=u[0]===Ie&&u[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[Ie,f,h];break}}else if(b&&(u=(t[De]||(t[De]={}))[e])&&u[0]===Ie)h=u[1];else for(;(d=++f&&d&&d[g]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[De]||(d[De]={}))[e]=[Ie,h]),d!==t)););return(h-=r)===i||h%i==0&&0<=h/i}}},PSEUDO:function(e,t){var n,i=Q.pseudos[e]||Q.setFilters[e.toLowerCase()]||dt.error("unsupported pseudo: "+e);return i[De]?i(t):1<i.length?(n=[e,e,"",t],Q.setFilters.hasOwnProperty(e.toLowerCase())?ft(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=$e.call(e,o[s])]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ft(function(e){var t=[],n=[],i=ne(e.replace(Ge,"$1"));return i[De]?ft(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:ft(function(e){return function(t){return 0<dt(e,t).length}}),contains:ft(function(e){return e=e.replace(ut,ct),function(t){return-1<(t.textContent||t.innerText||Z(t)).indexOf(e)}}),lang:ft(function(e){return tt.test(e||"")||dt.error("unsupported lang: "+e),e=e.replace(ut,ct).toLowerCase(),function(t){var n;do{if(n=ce?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===ue},focus:function(e){return e===le.activeElement&&(!le.hasFocus||le.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Q.pseudos.empty(e)},header:function(e){return rt.test(e.nodeName)},input:function(e){return it.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(e,t){return[t-1]}),eq:vt(function(e,t,n){return[n<0?n+t:n]}),even:vt(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:vt(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:vt(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:vt(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=Q.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Q.pseudos[G]=gt(G);for(G in{submit:!0,reset:!0})Q.pseudos[G]=mt(G);function yt(){}function _t(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function wt(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=Pe++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u=[Ie,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((a=(l=t[De]||(t[De]={}))[i])&&a[0]===Ie&&a[1]===o)return u[2]=a[2];if((l[i]=u)[2]=e(t,n,s))return!0}}}function xt(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function Ct(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function kt(e,t,n,i,r,o){return i&&!i[De]&&(i=kt(i)),r&&!r[De]&&(r=kt(r,o)),ft(function(o,s,a,l){var u,c,d,h=[],f=[],p=s.length,g=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)dt(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:Ct(g,h,e,a,l),v=n?r||(o?e:p||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(u=Ct(v,f),i(u,[],a,l),c=u.length;c--;)(d=u[c])&&(v[f[c]]=!(m[f[c]]=d));if(o){if(r||e){if(r){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(m[c]=d);r(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&-1<(u=r?$e.call(o,d):h[c])&&(o[u]=!(s[u]=d))}}else v=Ct(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):We.apply(s,v)})}function Tt(e){for(var t,n,i,r=e.length,o=Q.relative[e[0].type],s=o||Q.relative[" "],a=o?1:0,l=wt(function(e){return e===t},s,!0),u=wt(function(e){return-1<$e.call(t,e)},s,!0),c=[function(e,n,i){return!o&&(i||n!==re)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];a<r;a++)if(n=Q.relative[e[a].type])c=[wt(xt(c),n)];else{if((n=Q.filter[e[a].type].apply(null,e[a].matches))[De]){for(i=++a;i<r&&!Q.relative[e[i].type];i++);return kt(1<a&&xt(c),1<a&&_t(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(Ge,"$1"),n,a<i&&Tt(e.slice(a,i)),i<r&&Tt(e=e.slice(i)),i<r&&_t(e))}c.push(n)}return xt(c)}yt.prototype=Q.filters=Q.pseudos,Q.setFilters=new yt,te=dt.tokenize=function(e,t){var n,i,r,o,s,a,l,u=Me[e+" "];if(u)return t?0:u.slice(0);for(s=e,a=[],l=Q.preFilter;s;){for(o in n&&!(i=Je.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=Qe.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(Ge," ")}),s=s.slice(n.length)),Q.filter)!(i=nt[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?dt.error(e):Me(e,a).slice(0)},ne=dt.compile=function(e,t){var n,i,r,o,s,a,l=[],u=[],c=Re[e+" "];if(!c){for(t||(t=te(e)),n=t.length;n--;)(c=Tt(t[n]))[De]?l.push(c):u.push(c);(c=Re(e,(i=u,o=0<(r=l).length,s=0<i.length,a=function(e,t,n,a,l){var u,c,d,h=0,f="0",p=e&&[],g=[],m=re,v=e||s&&Q.find.TAG("*",l),b=Ie+=null==m?1:Math.random()||.1,y=v.length;for(l&&(re=t!==le&&t);f!==y&&null!=(u=v[f]);f++){if(s&&u){for(c=0;d=i[c++];)if(d(u,t,n)){a.push(u);break}l&&(Ie=b)}o&&((u=!d&&u)&&h--,e&&p.push(u))}if(h+=f,o&&f!==h){for(c=0;d=r[c++];)d(p,g,t,n);if(e){if(0<h)for(;f--;)p[f]||g[f]||(g[f]=ze.call(a));g=Ct(g)}We.apply(a,g),l&&!e&&0<g.length&&1<h+r.length&&dt.uniqueSort(a)}return l&&(Ie=b,re=m),p},o?ft(a):a))).selector=e}return c},ie=dt.select=function(e,t,n,i){var r,o,s,a,l,u="function"==typeof e&&e,c=!i&&te(e=u.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&J.getById&&9===t.nodeType&&ce&&Q.relative[o[1].type]){if(!(t=(Q.find.ID(s.matches[0].replace(ut,ct),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=nt.needsContext.test(e)?0:o.length;r--&&(s=o[r],!Q.relative[a=s.type]);)if((l=Q.find[a])&&(i=l(s.matches[0].replace(ut,ct),at.test(o[0].type)&&bt(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&_t(o)))return We.apply(n,i),n;break}}return(u||ne(e,c))(i,t,!ce,n,at.test(e)&&bt(t.parentNode)||t),n},J.sortStable=De.split("").sort(Be).join("")===De,J.detectDuplicates=!!se,ae(),J.sortDetached=!0;var Et=Array.isArray,St=function(e,t,n){var i,r;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1},Nt=function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1},Dt={isArray:Et,toArray:function(e){var t,n,i=e;if(!Et(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},each:St,map:function(e,t){var n=[];return St(e,function(i,r){n.push(t(i,r,e))}),n},filter:function(e,t){var n=[];return St(e,function(i,r){t&&!t(i,r,e)||n.push(i)}),n},indexOf:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},reduce:function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},findIndex:Nt,find:function(e,t,n){var i=Nt(e,t,n);return-1!==i?e[i]:void 0},last:function(e){return e[e.length-1]}},At=/^\s*|\s*$/g,It=function(e){return null===e||void 0===e?"":(""+e).replace(At,"")},Pt=function(e,t){return t?!("array"!==t||!Dt.isArray(e))||typeof e===t:void 0!==e},Ot=function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),Dt.each(e,function(e,r){if(!1===t.call(i,e,r,n))return!1;Ot(e,t,n,i)}))},Mt={trim:It,isArray:Dt.isArray,is:Pt,toArray:Dt.toArray,makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:Dt.each,map:Dt.map,grep:Dt.filter,inArray:Dt.indexOf,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e,t){for(var n,i,r,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a,l=arguments;for(n=1,i=l.length;n<i;n++)for(r in t=l[n])t.hasOwnProperty(r)&&void 0!==(a=t[r])&&(e[r]=a);return e},create:function(e,t,n){var i,r,o,s,a,l=this,u=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"===e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},u=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,s=e[5].match(/\.(\w+)$/i)[1],a=r[o],r[o]=u?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!==o&&(r[o].prototype[t]=e)})),l.each(t.static,function(e,t){r[o][t]=e})}},walk:Ot,createNS:function(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t},resolve:function(e,t){var n,i;for(t=t||window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Pt(e,"array")?e:Dt.map(e.split(t||","),It)},_addCacheSuffix:function(e){var t=pe.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Rt=document,Bt=Array.prototype.push,Lt=Array.prototype.slice,Ft=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ht=Ne.Event,jt=Mt.makeMap("children,contents,next,prev"),zt=function(e){return void 0!==e},qt=function(e){return"string"==typeof e},Wt=function(e,t){var n,i,r;for(r=(t=t||Rt).createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n},Ut=function(e,t,n,i){var r;if(qt(t))t=Wt(t,on(e[0]));else if(t.length&&!t.nodeType){if(t=Zt.makeArray(t),i)for(r=t.length-1;0<=r;r--)Ut(e,t[r],n,i);else for(r=0;r<t.length;r++)Ut(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e},$t=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Vt=function(e,t,n){var i,r;return t=Zt(t)[0],e.each(function(){var e=this;n&&i===e.parentNode||(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e)),r.appendChild(e)}),e},Yt=Mt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Kt=Mt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Xt={for:"htmlFor",class:"className",readonly:"readOnly"},Gt={float:"cssFloat"},Jt={},Qt={},Zt=function(e,t){return new Zt.fn.init(e,t)},en=/^\s*|\s*$/g,tn=function(e){return null===e||void 0===e?"":(""+e).replace(en,"")},nn=function(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e},rn=function(e,t){var n=[];return nn(e,function(e,i){t(i,e)&&n.push(i)}),n},on=function(e){return e?9===e.nodeType?e:e.ownerDocument:Rt};Zt.fn=Zt.prototype={constructor:Zt,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return Zt(e).attr(t);r.context=t=document}if(qt(e)){if(!(n="<"===(r.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Ft.exec(e)))return Zt(t).find(e);if(n[1])for(i=Wt(e,on(t)).firstChild;i;)Bt.call(r,i),i=i.nextSibling;else{if(!(i=on(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return Mt.toArray(this)},add:function(e,t){var n,i,r=this;if(qt(e))return r.add(Zt(e));if(!1!==t)for(n=Zt.unique(r.toArray().concat(Zt.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else Bt.apply(r,Zt.makeArray(e));return r},attr:function(e,t){var n,i=this;if("object"==typeof e)nn(e,function(e,t){i.attr(e,t)});else{if(!zt(t)){if(i[0]&&1===i[0].nodeType){if((n=Jt[e])&&n.get)return n.get(i[0],e);if(Kt[e])return i.prop(e)?e:void 0;null===(t=i[0].getAttribute(e,2))&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=Jt[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Xt[e]||e))nn(e,function(e,t){n.prop(e,t)});else{if(!zt(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,i,r=this,o=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},s=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)nn(e,function(e,t){r.css(e,t)});else if(zt(t))e=o(e),"number"!=typeof t||Yt[e]||(t=t.toString()+"px"),r.each(function(){var n=this.style;if((i=Qt[e])&&i.set)i.set(this,t);else{try{this.style[Gt[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(s(e)):n.removeAttribute(e))}});else{if(n=r[0],(i=Qt[e])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(e))}catch(e){return}}return r},remove:function(){for(var e,t=this.length;t--;)e=this[t],Ht.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(zt(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){Zt(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(zt(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Ut(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Ut(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?Ut(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?Ut(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return Zt(e).append(this),this},prependTo:function(e){return Zt(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Vt(this,e)},wrapAll:function(e){return Vt(this,e,!0)},wrapInner:function(e){return this.each(function(){Zt(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Zt(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Zt(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?nn(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,i){var r,o;(o=$t(i,e))!==t&&(r=i.className,o?i.className=tn((" "+r+" ").replace(" "+e+" "," ")):i.className+=r?" "+e:e)})),n},hasClass:function(e){return $t(this[0],e)},each:function(e){return nn(this,e)},on:function(e,t){return this.each(function(){Ht.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ht.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ht.fire(this,e.type,e):Ht.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Zt(Lt.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)Zt.find(e,this[t],i);return Zt(i)},filter:function(e){return Zt("function"==typeof e?rn(this.toArray(),function(t,n){return e(n,t)}):Zt.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof Zt&&(e=e[0]),this.each(function(n,i){for(;i;){if("string"==typeof e&&Zt(i).is(e)){t.push(i);break}if(i===e){t.push(i);break}i=i.parentNode}}),Zt(t)},offset:function(e){var t,n,i,r,o=0,s=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:s})},push:Bt,sort:[].sort,splice:[].splice},Mt.extend(Zt,{extend:Mt.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:Mt.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Mt.isArray,each:nn,trim:tn,grep:rn,find:dt,expr:dt.selectors,unique:dt.uniqueSort,text:dt.getText,contains:dt.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!==t[i].nodeType&&t.splice(i,1);return 1===t.length?Zt.find.matchesSelector(t[0],e)?[t[0]]:[]:Zt.find.matches(e,t)}});var sn=function(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof Zt&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&Zt(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i},an=function(e,t,n,i){var r=[];for(i instanceof Zt&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&Zt(e).is(i))break}r.push(e)}return r},ln=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};nn({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return sn(e,"parentNode")},next:function(e){return ln(e,"nextSibling",1)},prev:function(e){return ln(e,"previousSibling",1)},children:function(e){return an(e.firstChild,"nextSibling",1)},contents:function(e){return Mt.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Zt.fn[e]=function(n){var i=[];return this.each(function(){var e=t.call(i,this,n,i);e&&(Zt.isArray(e)?i.push.apply(i,e):i.push(e))}),1<this.length&&(jt[e]||(i=Zt.unique(i)),0===e.indexOf("parents")&&(i=i.reverse())),i=Zt(i),n?i.filter(n):i}}),nn({parentsUntil:function(e,t){return sn(e,"parentNode",t)},nextUntil:function(e,t){return an(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return an(e,"previousSibling",1,t).slice(1)}},function(e,t){Zt.fn[e]=function(n,i){var r=[];return this.each(function(){var e=t.call(r,this,n,r);e&&(Zt.isArray(e)?r.push.apply(r,e):r.push(e))}),1<this.length&&(r=Zt.unique(r),0!==e.indexOf("parents")&&"prevUntil"!==e||(r=r.reverse())),r=Zt(r),i?r.filter(i):r}}),Zt.fn.is=function(e){return!!e&&0<this.filter(e).length},Zt.fn.init.prototype=Zt.fn,Zt.overrideDefaults=function(e){var t,n=function(i,r){return t=t||e(),0===arguments.length&&(i=t.element),r||(r=t.context),new n.fn.init(i,r)};return Zt.extend(n,this),n};var un=function(e,t,n){nn(n,function(n,i){e[n]=e[n]||{},e[n][t]=i})};pe.ie&&pe.ie<8&&(un(Jt,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?void 0:t},size:function(e){var t=e.size;return 20===t?void 0:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?void 0:t}}),un(Jt,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),pe.ie&&pe.ie<9&&(Gt.float="styleFloat",un(Qt,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),Zt.attrHooks=Jt,Zt.cssHooks=Qt;var cn,dn=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},hn=function(){return fn(0,0)},fn=function(e,t){return{major:e,minor:t}},pn=function(e,t){var n=String(t).toLowerCase();return 0===e.length?hn():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return fn(i(1),i(2))}(e,n)},gn=hn,mn="Firefox",vn=function(e,t){return function(){return t===e}},bn=function(e){var t=e.current;return{current:t,version:e.version,isEdge:vn("Edge",t),isChrome:vn("Chrome",t),isIE:vn("IE",t),isOpera:vn("Opera",t),isFirefox:vn(mn,t),isSafari:vn("Safari",t)}},yn=function(){return bn({current:void 0,version:gn()})},_n=bn,wn=(b.constant("Edge"),b.constant("Chrome"),b.constant("IE"),b.constant("Opera"),b.constant(mn),b.constant("Safari"),"Windows"),xn="Android",Cn="Solaris",kn="FreeBSD",Tn=function(e,t){return function(){return t===e}},En=function(e){var t=e.current;return{current:t,version:e.version,isWindows:Tn(wn,t),isiOS:Tn("iOS",t),isAndroid:Tn(xn,t),isOSX:Tn("OSX",t),isLinux:Tn("Linux",t),isSolaris:Tn(Cn,t),isFreeBSD:Tn(kn,t)}},Sn=function(){return En({current:void 0,version:gn()})},Nn=En,Dn=(b.constant(wn),b.constant("iOS"),b.constant(xn),b.constant("Linux"),b.constant("OSX"),b.constant(Cn),b.constant(kn),function(e,t){var n=String(t).toLowerCase();return j.find(e,function(e){return e.search(n)})}),An=function(e,t){return-1!==e.indexOf(t)},In=function(e){return e.replace(/^\s+|\s+$/g,"")},Pn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,On=function(e){return function(t){return An(t,e)}},Mn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return An(e,"edge/")&&An(e,"chrome")&&An(e,"safari")&&An(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Pn],search:function(e){return An(e,"chrome")&&!An(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return An(e,"msie")||An(e,"trident")}},{name:"Opera",versionRegexes:[Pn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:On("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:On("firefox")},{name:"Safari",versionRegexes:[Pn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(An(e,"safari")||An(e,"mobile/"))&&An(e,"applewebkit")}}],Rn=[{name:"Windows",search:On("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return An(e,"iphone")||An(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:On("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:On("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:On("linux"),versionRegexes:[]},{name:"Solaris",search:On("sunos"),versionRegexes:[]},{name:"FreeBSD",search:On("freebsd"),versionRegexes:[]}],Bn={browsers:b.constant(Mn),oses:b.constant(Rn)},Ln=function(e){var t,n,i,r,o,s,a,l,u,c,d,h=Bn.browsers(),f=Bn.oses(),p=function(e,t){return Dn(e,t).map(function(e){var n=pn(e.versionRegexes,t);return{current:e.name,version:n}})}(h,e).fold(yn,_n),g=function(e,t){return Dn(e,t).map(function(e){var n=pn(e.versionRegexes,t);return{current:e.name,version:n}})}(f,e).fold(Sn,Nn);return{browser:p,os:g,deviceType:(n=p,i=e,r=(t=g).isiOS()&&!0===/ipad/i.test(i),o=t.isiOS()&&!r,s=t.isAndroid()&&3===t.version.major,a=t.isAndroid()&&4===t.version.major,l=r||s||a&&!0===/mobile/i.test(i),u=t.isiOS()||t.isAndroid(),c=u&&!l,d=n.isSafari()&&t.isiOS()&&!1===/safari/i.test(i),{isiPad:b.constant(r),isiPhone:b.constant(o),isTablet:b.constant(l),isPhone:b.constant(c),isTouch:b.constant(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:b.constant(d)})}},Fn={detect:dn(function(){var e=navigator.userAgent;return Ln(e)})},Hn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:b.constant(e)}},jn=function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Hn(n.childNodes[0])},zn=function(e,t){var n=(t||document).createElement(e);return Hn(n)},qn=function(e,t){var n=(t||document).createTextNode(e);return Hn(n)},Wn=Hn,Un=function(e){return e.dom().nodeName.toLowerCase()},$n=function(e){return e.dom().nodeType},Vn=function(e){return function(t){return $n(t)===e}},Yn=Vn(1),Kn=Vn(3),Xn=Vn(9),Gn={name:Un,type:$n,value:function(e){return e.dom().nodeValue},isElement:Yn,isText:Kn,isDocument:Xn,isComment:function(e){return 8===$n(e)||"#comment"===Un(e)}},Jn=void 0===(cn=Object.keys)?function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}:cn,Qn=function(e,t){for(var n=Jn(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o,e)}},Zn=function(e,t){var n={};return Qn(e,function(i,r){var o=t(i,r,e);n[o.k]=o.v}),n},ei=function(e,t){var n=[];return Qn(e,function(e,i){n.push(t(e,i))}),n},ti=function(e){return ei(e,function(e){return e})},ni={bifilter:function(e,t){var n={},i={};return Qn(e,function(e,r){(t(e,r)?n:i)[r]=e}),{t:n,f:i}},each:Qn,map:function(e,t){return Zn(e,function(e,n,i){return{k:n,v:t(e,n,i)}})},mapToArray:ei,tupleMap:Zn,find:function(e,t){for(var n=Jn(e),i=0,r=n.length;i<r;i++){var o=n[i],s=e[o];if(t(s,o,e))return k.some(s)}return k.none()},keys:Jn,values:ti,size:function(e){return ti(e).length}},ii=function(e,t,n){if(!(E.isString(n)||E.isBoolean(n)||E.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ri=function(e,t,n){ii(e.dom(),t,n)},oi=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},si=ri,ai=function(e,t){var n=e.dom();ni.each(t,function(e,t){ii(n,t,e)})},li=oi,ui=function(e,t){e.dom().removeAttribute(t)},ci=dn(function(){return di(Wn(document))}),di=function(e){var t=e.dom().body;if(null===t||void 0===t)throw"Body is not available yet";return Wn(t)},hi={body:ci,getBody:di,inBody:function(e){var t=Gn.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)}},fi=function(e){return void 0!==e.style},pi=function(e,t){return fi(e)?e.style.getPropertyValue(t):""},gi=function(e,t){var n=e.dom();ni.each(t,function(e,t){!function(e,t,n){if(!E.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);fi(e)&&e.style.setProperty(t,n)}(n,t,e)})},mi=function(e,t){var n=e.dom(),i=window.getComputedStyle(n).getPropertyValue(t),r=""!==i||hi.inBody(e)?i:pi(n,t);return null===r?void 0:r},vi=function(e,t){var n=e.dom(),i=pi(n,t);return k.from(i).filter(function(e){return 0<e.length})},bi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var i={};return j.each(e,function(e,n){i[e]=b.constant(t[n])}),i}},yi=function(e,t){for(var n=[],i=function(e){return n.push(e),t(e)},r=t(e);(r=r.bind(i)).isSome(););return n},_i=function(e,t){return function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)}(e,t,W.getOrDie("Node").DOCUMENT_POSITION_CONTAINED_BY)},wi=function(e){return 1!==e.nodeType&&9!==e.nodeType||0===e.childElementCount},xi={all:function(e,t){var n=void 0===t?document:t.dom();return wi(n)?[]:j.map(n.querySelectorAll(e),Wn)},is:function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},one:function(e,t){var n=void 0===t?document:t.dom();return wi(n)?k.none():k.from(n.querySelector(e)).map(Wn)}},Ci=function(e,t){return e.dom()===t.dom()},ki=Fn.detect().browser.isIE()?function(e,t){return _i(e.dom(),t.dom())}:function(e,t){var n=e.dom(),i=t.dom();return n!==i&&n.contains(i)},Ti={eq:Ci,isEqualNode:function(e,t){return e.dom().isEqualNode(t.dom())},member:function(e,t){return j.exists(t,b.curry(Ci,e))},contains:ki,is:xi.is},Ei=function(e){return Wn(e.dom().ownerDocument)},Si=function(e){var t=e.dom();return k.from(t.parentNode).map(Wn)},Ni=function(e){var t=e.dom();return k.from(t.previousSibling).map(Wn)},Di=function(e){var t=e.dom();return k.from(t.nextSibling).map(Wn)},Ai=function(e){var t=e.dom();return j.map(t.childNodes,Wn)},Ii=function(e,t){var n=e.dom().childNodes;return k.from(n[t]).map(Wn)},Pi=(bi("element","offset"),Ei),Oi=function(e){var t=e.dom().ownerDocument.defaultView;return Wn(t)},Mi=function(e){var t=Ei(e);return Wn(t.dom().documentElement)},Ri=Si,Bi=function(e,t){for(var n=E.isFunction(t)?t:b.constant(!1),i=e.dom(),r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,s=Wn(o);if(r.push(s),!0===n(s))break;i=o}return r},Li=Ni,Fi=Di,Hi=function(e){return yi(e,Di)},ji=Ai,zi=Ii,qi=function(e){return Ii(e,0)},Wi=function(e){return Ii(e,e.dom().childNodes.length-1)},Ui=function(e){return e.dom().childNodes.length},$i=Fn.detect().browser,Vi=function(e){return j.find(e,Gn.isElement)},Yi={getPos:function(e,t,n){var i,r,o,s=0,a=0,l=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===mi(Wn(e),"position"))return{x:s=(r=t.getBoundingClientRect()).left+(l.documentElement.scrollLeft||e.scrollLeft)-l.documentElement.clientLeft,y:a=r.top+(l.documentElement.scrollTop||e.scrollTop)-l.documentElement.clientTop};for(i=t;i&&i!==n&&i.nodeType;)s+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType;)s-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode;a+=(o=Wn(t),$i.isFirefox()&&"table"===Gn.name(o)?Vi(ji(o)).filter(function(e){return"caption"===Gn.name(e)}).bind(function(e){return Vi(Hi(e)).map(function(t){var n=t.dom().offsetTop,i=e.dom().offsetTop,r=e.dom().offsetHeight;return n<=i?-r:0})}).getOr(0):0)}return{x:s,y:a}}},Ki=function(e){var t=k.none(),n=[],i=function(e){r()?o(e):n.push(e)},r=function(){return t.isSome()},o=function(e){t.each(function(t){setTimeout(function(){e(t)},0)})};return e(function(e){t=k.some(e),function(e){j.each(e,o)}(n),n=[]}),{get:i,map:function(e){return Ki(function(t){i(function(n){t(e(n))})})},isReady:r}},Xi={nu:Ki,pure:function(e){return Ki(function(t){t(e)})}},Gi=function(e){var t=function(t){var n;e((n=t,function(){var e=Array.prototype.slice.call(arguments),t=this;setTimeout(function(){n.apply(t,e)},0)}))};return{map:function(e){return Gi(function(n){t(function(t){var i=e(t);n(i)})})},bind:function(e){return Gi(function(n){t(function(t){e(t).get(n)})})},anonBind:function(e){return Gi(function(n){t(function(t){e.get(n)})})},toLazy:function(){return Xi.nu(t)},get:t}},Ji={nu:Gi,pure:function(e){return Gi(function(t){t(e)})}},Qi=function(e){return function(e,t){return t(function(t){var n=[],i=0;0===e.length?t([]):j.each(e,function(r,o){var s;r.get((s=o,function(r){n[s]=r,++i>=e.length&&t(n)}))})})}(e,Ji.nu)},Zi={par:Qi,mapM:function(e,t){var n=j.map(e,t);return Qi(n)},compose:function(e,t){return function(n){return t(n).bind(e)}}},er=function(e){return{is:function(t){return e===t},isValue:b.always,isError:b.never,getOr:b.constant(e),getOrThunk:b.constant(e),getOrDie:b.constant(e),or:function(t){return er(e)},orThunk:function(t){return er(e)},fold:function(t,n){return n(e)},map:function(t){return er(t(e))},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return k.some(e)}}},tr=function(e){return{is:b.never,isValue:b.never,isError:b.always,getOr:b.identity,getOrThunk:function(e){return e()},getOrDie:function(){return b.die(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return tr(e)},each:b.noop,bind:function(t){return tr(e)},exists:b.never,forall:b.always,toOption:k.none}},nr={value:er,error:tr};function ir(e,t){var n=e,i=function(e,n,i,r){var o,s;if(e){if(!r&&e[n])return e[n];if(e!==t){if(o=e[i])return o;for(s=e.parentNode;s&&s!==t;s=s.parentNode)if(o=s[i])return o}}};this.current=function(){return n},this.next=function(e){return n=i(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=i(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=function(e,n,i,r){var o,s,a;if(e){if(o=e.previousSibling,t&&o===t)return;if(o){if(!r)for(a=o[n];a;a=a[n])if(!a[n])return a;return o}if((s=e.parentNode)&&s!==t)return s}}(n,"lastChild",0,e)}}var rr,or,sr,ar=function(e){var t;return function(n){return(t=t||j.mapToObject(e,b.constant(!0))).hasOwnProperty(Gn.name(n))}},lr=ar(["h1","h2","h3","h4","h5","h6"]),ur=ar(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),cr=function(e){return Gn.isElement(e)&&!ur(e)},dr=function(e){return Gn.isElement(e)&&"br"===Gn.name(e)},hr=ar(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),fr=ar(["ul","ol","dl"]),pr=ar(["li","dd","dt"]),gr=ar(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),mr=ar(["thead","tbody","tfoot"]),vr=ar(["td","th"]),br=function(e){return function(t){return!!t&&t.nodeType===e}},yr=br(1),_r=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}},wr=function(e){return function(t){if(yr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},xr=br(3),Cr=br(8),kr=br(9),Tr=_r("br"),Er=wr("true"),Sr=wr("false"),Nr={isText:xr,isElement:yr,isComment:Cr,isDocument:kr,isBr:Tr,isContentEditableTrue:Er,isContentEditableFalse:Sr,matchNodeNames:_r,hasPropValue:function(e,t){return function(n){return yr(n)&&n[e]===t}},hasAttribute:function(e,t){return function(t){return yr(t)&&t.hasAttribute(e)}},hasAttributeValue:function(e,t){return function(n){return yr(n)&&n.getAttribute(e)===t}},matchStyleValues:function(e,t){var n=t.toLowerCase().split(" ");return function(t){var i;if(yr(t))for(i=0;i<n.length;i++){var r=t.ownerDocument.defaultView.getComputedStyle(t,null);if((r?r.getPropertyValue(e):null)===n[i])return!0}return!1}},isBogus:function(e){return yr(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return yr(e)&&"all"===e.getAttribute("data-mce-bogus")},isTable:function(e){return yr(e)&&"TABLE"===e.tagName}},Dr=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Ar=function(e,t){var n,i=t.childNodes;if(!Nr.isElement(t)||!Dr(t)){for(n=i.length-1;0<=n;n--)Ar(e,i[n]);if(!1===Nr.isDocument(t)){if(Nr.isText(t)&&0<t.nodeValue.length){var r=Mt.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<r)return;if(0===r&&(s=(o=t).previousSibling&&"SPAN"===o.previousSibling.nodeName,a=o.nextSibling&&"SPAN"===o.nextSibling.nodeName,s&&a))return}else if(Nr.isElement(t)&&(1===(i=t.childNodes).length&&Dr(i[0])&&t.parentNode.insertBefore(i[0],t),i.length||gr(Wn(t))))return;e.remove(t)}var o,s,a;return t}},Ir={trimNode:Ar},Pr=Mt.makeMap,Or=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mr=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rr=/[<>&\"\']/g,Br=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Lr={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"};or={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},sr={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Fr=function(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),or[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}};rr=Fr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Hr=function(e,t){return e.replace(t?Or:Mr,function(e){return or[e]||e})},jr=function(e,t){return e.replace(t?Or:Mr,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":or[e]||"&#"+e.charCodeAt(0)+";"})},zr=function(e,t,n){return n=n||rr,e.replace(t?Or:Mr,function(e){return or[e]||n[e]||e})},qr={encodeRaw:Hr,encodeAllRaw:function(e){return(""+e).replace(Rr,function(e){return or[e]||e})},encodeNumeric:jr,encodeNamed:zr,getEncodeFunc:function(e,t){var n=Fr(t)||rr,i=Pr(e.replace(/\+/g,","));return i.named&&i.numeric?function(e,t){return e.replace(t?Or:Mr,function(e){return void 0!==or[e]?or[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:i.named?t?function(e,t){return zr(e,t,n)}:zr:i.numeric?jr:Hr},decode:function(e){return e.replace(Br,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Lr[t]||String.fromCharCode(t):sr[e]||rr[e]||(n=e,(i=zn("div").dom()).innerHTML=n,i.textContent||i.innerText||n);var n,i})}},Wr={},Ur={},$r=Mt.makeMap,Vr=Mt.each,Yr=Mt.extend,Kr=Mt.explode,Xr=Mt.inArray,Gr=function(e,t){return(e=Mt.trim(e))?e.split(t||" "):[]},Jr=function(e){var t,n,i,r,o,s,a={},l=function(e,n,i){var r,o,s,l=function(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r};for(n=n||"","string"==typeof(i=i||[])&&(i=Gr(i)),r=(e=Gr(e)).length;r--;)s={attributes:l(o=Gr([t,n].join(" "))),attributesOrder:o,children:l(i,Ur)},a[e[r]]=s},u=function(e,t){var n,i,r,o;for(n=(e=Gr(e)).length,t=Gr(t);n--;)for(i=a[e[n]],r=0,o=t.length;r<o;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])};return Wr[e]?Wr[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",i=[i,s="acronym applet basefont big font strike tt"].join(" "),Vr(Gr(s),function(e){l(e,"",i)}),n=[n,o="center dir isindex noframes"].join(" "),r=[n,i].join(" "),Vr(Gr(o),function(e){l(e,"",r)})),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==e&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==e&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),Vr(Gr("a form meter progress dfn"),function(e){a[e]&&delete a[e].children[e]}),delete a.caption.children.table,delete a.script,Wr[e]=a)},Qr=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Vr(e,function(e,i){n[i]=n[i.toUpperCase()]="map"===t?$r(e,/[, ]/):Kr(e,/[, ]/)})),n};function Zr(e){var t,n,i,r,o,s,a,l,u,c,d,h,f,p={},g={},m=[],v={},b={},y=function(t,n,i){var r=e[t];return r?r=$r(r,/[, ]/,$r(r.toUpperCase(),/[, ]/)):(r=Wr[t])||(r=$r(n," ",$r(n.toUpperCase()," ")),r=Yr(r,i),Wr[t]=r),r};i=Jr((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=Qr(e.valid_styles),n=Qr(e.invalid_styles,"map"),l=Qr(e.valid_classes,"map"),r=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=y("non_empty_elements","td th iframe video audio object script pre code",s),d=y("move_caret_before_on_enter_elements","table",c),h=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),u=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",h),f=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Vr((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){b[e]=new RegExp("</"+e+"[^>]*>","gi")});var _=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},w=function(e){var t,n,i,r,o,s,a,l,u,c,d,h,f,g,v,b,y,w,x,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=Gr(e,","),p["@"]&&(b=p["@"].attributes,y=p["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=C.exec(e[t])){if(g=o[1],u=o[2],v=o[3],l=o[5],s={attributes:h={},attributesOrder:f=[]},"#"===g&&(s.paddEmpty=!0),"-"===g&&(s.removeEmpty=!0),"!"===o[4]&&(s.removeEmptyAttrs=!0),b){for(w in b)h[w]=b[w];f.push.apply(f,y)}if(l)for(i=0,r=(l=Gr(l,"|")).length;i<r;i++)if(o=k.exec(l[i])){if(a={},d=o[1],c=o[2].replace(/[\\:]:/g,":"),g=o[3],x=o[4],"!"===d&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===d){delete h[c],f.splice(Xr(f,c),1);continue}g&&("="===g&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:x}),a.defaultValue=x),":"===g&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:x}),a.forcedValue=x),"<"===g&&(a.validValues=$r(x,"?"))),T.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=_(c),s.attributePatterns.push(a)):(h[c]||f.push(c),h[c]=a)}b||"@"!==u||(b=h,y=f),v&&(s.outputName=u,p[v]=s),T.test(u)?(s.pattern=_(u),m.push(s)):p[u]=s}},x=function(e){p={},m=[],w(e),Vr(i,function(e,t){g[t]=e.children})},C=function(e){var t=/^(~)?(.+)$/;e&&(Wr.text_block_elements=Wr.block_elements=null,Vr(Gr(e,","),function(e){var n=t.exec(e),i="~"===n[1],r=i?"span":"div",o=n[2];if(g[o]=g[r],v[o]=r,i||(u[o.toUpperCase()]={},u[o]={}),!p[o]){var s=p[r];delete(s=Yr({},s)).removeEmptyAttrs,delete s.removeEmpty,p[o]=s}Vr(g,function(e,t){e[r]&&(g[t]=e=Yr({},g[t]),e[o]=e[r])})}))},k=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Wr[e.schema]=null,t&&Vr(Gr(t,","),function(e){var t,i,r=n.exec(e);r&&(i=r[1],t=i?g[r[2]]:g[r[2]]={"#comment":{}},t=g[r[2]],Vr(Gr(r[3],"|"),function(e){"-"===i?delete t[e]:t[e]={}}))})},T=function(e){var t,n=p[e];if(n)return n;for(t=m.length;t--;)if((n=m[t]).pattern.test(e))return n};return e.valid_elements?x(e.valid_elements):(Vr(i,function(e,t){p[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},g[t]=e.children}),"html5"!==e.schema&&Vr(Gr("strong/b em/i"),function(e){e=Gr(e,"/"),p[e[1]].outputName=e[0]}),Vr(Gr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){p[e]&&(p[e].removeEmpty=!0)}),Vr(Gr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){p[e].paddEmpty=!0}),Vr(Gr("span"),function(e){p[e].removeEmptyAttrs=!0})),C(e.custom_elements),k(e.valid_children),w(e.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),Vr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){p[t]&&(p[t].parentsRequired=Gr(e))}),e.invalid_elements&&Vr(Kr(e.invalid_elements),function(e){p[e]&&delete p[e]}),T("span")||w("span[!data-mce-type|*]"),{children:g,elements:p,getValidStyles:function(){return t},getValidClasses:function(){return l},getBlockElements:function(){return u},getInvalidStyles:function(){return n},getShortEndedElements:function(){return s},getTextBlockElements:function(){return h},getTextInlineElements:function(){return f},getBoolAttrs:function(){return a},getElementRule:T,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return b},isValidChild:function(e,t){var n=g[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,i,r=T(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:w,setValidElements:x,addCustomElements:C,addValidChildren:k}}var eo=function(e,t,n,i){var r=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+r(t)+r(n)+r(i)};function to(e,t){var n,i,r,o,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={},d="\ufeff";for(e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+d).split(" "),n=0;n<i.length;n++)c[i[n]]=d+n,c[d+n]=i[n];return{toHex:function(e){return e.replace(s,eo)},parse:function(t){var i,r,o,h,f,p,g,m,v={},b=e.url_converter,y=e.url_converter_scope||this,_=function(e,t,i){var r,o,s,a;if((r=v[e+"-top"+t])&&(o=v[e+"-right"+t])&&(s=v[e+"-bottom"+t])&&(a=v[e+"-left"+t])){var l=[r,o,s,a];for(n=l.length-1;n--&&l[n]===l[n+1];);-1<n&&i||(v[e+t]=-1===n?l[0]:l.join(" "),delete v[e+"-top"+t],delete v[e+"-right"+t],delete v[e+"-bottom"+t],delete v[e+"-left"+t])}},w=function(e){var t,n=v[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return v[e]=n[0],!0}},x=function(e){return h=!0,c[e]},C=function(e,t){return h&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return c[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},k=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},T=function(e){return e.replace(/\\[0-9a-f]+/gi,k)},E=function(t,n,i,r,o,s){if(o=o||s)return"'"+(o=C(o)).replace(/\'/g,"\\'")+"'";if(n=C(n||i||r),!e.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return b&&(n=b.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,x).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,x)});i=l.exec(t);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(u,"").toLowerCase(),o=i[2].replace(u,""),r&&o){if(r=T(r),o=T(o),-1!==r.indexOf(d)||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(s,eo)).replace(a,E),v[r]=h?C(o,!0):o}_("border","",!0),_("border","-width"),_("border","-color"),_("border","-style"),_("padding",""),_("margin",""),f="border",g="border-style",m="border-color",w(p="border-width")&&w(g)&&w(m)&&(v[f]=v[p]+" "+v[g]+" "+v[m],delete v[p],delete v[g],delete v[m]),"medium none"===v.border&&delete v.border,"none"===v["border-image"]&&delete v["border-image"]}return v},serialize:function(e,t){var n,i,s,a,l,u="",c=function(t){var n,i,o,s;if(n=r[t])for(i=0,o=n.length;i<o;i++)t=n[i],(s=e[t])&&(u+=(0<u.length?" ":"")+t+": "+s+";")};if(t&&r)c("*"),c(t);else for(n in e)!(i=e[n])||o&&(s=n,a=t,l=void 0,(l=o["*"])&&l[s]||(l=o[a])&&l[s])||(u+=(0<u.length?" ":"")+n+": "+i+";");return u}}}var no,io=Mt.each,ro=Mt.grep,oo=pe.ie,so=/^([a-z0-9],?)+$/i,ao=/^[ \t\r\n]*$/,lo=function(e,t,n){var i={},r=t.keep_values,o={set:function(e,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||n(),i,r,e[0])),e.attr("data-mce-"+r,i).attr(r,i)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return i={style:{set:function(e,t){null===t||"object"!=typeof t?(r&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return e.serialize(e.parse(n),t[0].nodeName)}}},r&&(i.href=i.src=o),i},uo=function(e,t){var n=t.attr("style"),i=e.serialize(e.parse(n),t[0].nodeName);i||(i=null),t.attr("data-mce-style",i)},co=function(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!==i||i!==n&&e.nodeValue.length)&&(r++,n=i);return r};function ho(e,t){var n,i=this;void 0===t&&(t={});var r={},o=window,s={},a=0,l=function(e,t){var n,i=0,r={};n=(t=t||{}).maxLoadTime||5e3;var o=function(t){e.getElementsByTagName("head")[0].appendChild(t)},s=function(t,s,a){var l,u,c,d,h=function(){for(var e=d.passed,t=e.length;t--;)e[t]();d.status=2,d.passed=[],d.failed=[]},f=function(){for(var e=d.failed,t=e.length;t--;)e[t]();d.status=3,d.passed=[],d.failed=[]},p=function(e,t){e()||((new Date).getTime()-c<n?ye.setTimeout(t):f())},g=function(){p(function(){for(var t,n,i=e.styleSheets,r=i.length;r--;)if((n=(t=i[r]).ownerNode?t.ownerNode:t.owningElement)&&n.id===l.id)return h(),!0},g)},m=function(){p(function(){try{var e=u.sheet.cssRules;return h(),!!e}catch(e){}},m)};if(t=Mt._addCacheSuffix(t),r[t]?d=r[t]:(d={passed:[],failed:[]},r[t]=d),s&&d.passed.push(s),a&&d.failed.push(a),1!==d.status)if(2!==d.status)if(3!==d.status){if(d.status=1,(l=e.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+i++,l.async=!1,l.defer=!1,c=(new Date).getTime(),"onload"in l&&!((v=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(v[1],10)<536))l.onload=g,l.onerror=f;else{if(0<navigator.userAgent.indexOf("Firefox"))return(u=e.createElement("style")).textContent='@import "'+t+'"',m(),void o(u);g()}var v;o(l),l.href=t}else f();else h()},a=function(e){return Ji.nu(function(t){s(e,b.compose(t,b.constant(nr.value(e))),b.compose(t,b.constant(nr.error(e))))})},l=function(e){return e.fold(b.identity,b.identity)};return{load:s,loadAll:function(e,t,n){Zi.par(j.map(e,a)).get(function(e){var i=j.partition(e,function(e){return e.isValue()});0<i.fail.length?n(i.fail.map(l)):t(i.pass.map(l))})}}}(e),u=[],c=t.schema?t.schema:Zr({}),d=to({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),h=t.ownEvents?new Ne(t.proxy):Ne.Event,f=c.getBlockElements(),p=Zt.overrideDefaults(function(){return{context:e,element:W.getRoot()}}),g=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},m=function(e){return"string"==typeof e&&(e=g(e)),p(e)},v=function(e,t,i){var r,o,s=m(e);return s.length&&(o=(r=n[t])&&r.get?r.get(s,t):s.attr(t)),void 0===o&&(o=i||""),o},y=function(e){var t=g(e);return t?t.attributes:[]},_=function(e,i,r){var o,s;""===r&&(r=null);var a=m(e);o=a.attr(i),a.length&&((s=n[i])&&s.set?s.set(a,r,i):a.attr(i,r),o!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:a,attrName:i,attrValue:r}))},w=function(){return t.root_element||e.body},x=function(t,n){return Yi.getPos(e.body,g(t),n)},C=function(e,t,n){var i=m(e);return n?i.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=pe.ie&&pe.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[t]:void 0)},k=function(e){var t,n;return e=g(e),t=C(e,"width"),n=C(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},T=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(so.test(t)){var i=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase();for(n=i.length-1;0<=n;n--)if(i[n]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return 0<dt(t,o[0].ownerDocument||o[0],null,o).length},E=function(e,t,n,i){var r,o=[],s=g(e);for(i=void 0===i,n=n||("BODY"!==w().nodeName?w().parentNode:null),Mt.is(t,"string")&&(t="*"===(r=t)?function(e){return 1===e.nodeType}:function(e){return T(e,r)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!t||"function"==typeof t&&t(s)){if(!i)return[s];o.push(s)}s=s.parentNode}return i?o:null},S=function(e,t,n){var i=t;if(e)for("string"==typeof t&&(i=function(e){return T(e,t)}),e=e[n];e;e=e[n])if("function"==typeof i&&i(e))return e;return null},N=function(e,t,n){var r,o="string"==typeof e?g(e):e;if(!o)return!1;if(Mt.isArray(o)&&(o.length||0===o.length))return r=[],io(o,function(e,i){e&&("string"==typeof e&&(e=g(e)),r.push(t.call(n,e,i)))}),r;var s=n||i;return t.call(s,o)},D=function(e,t){m(e).each(function(e,n){io(t,function(e,t){_(n,t,e)})})},A=function(e,t){var n=m(e);oo?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){Zt("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},I=function(t,n,i,r,o){return N(t,function(t){var s="string"==typeof n?e.createElement(n):n;return D(s,i),r&&("string"!=typeof r&&r.nodeType?s.appendChild(r):"string"==typeof r&&A(s,r)),o?s:t.appendChild(s)})},P=function(t,n,i){return I(e.createElement(t),t,n,i,!0)},O=qr.decode,M=qr.encodeAllRaw,R=function(e,t){var n=m(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},B=function(e,t,n){m(e).toggleClass(t,n).each(function(){""===this.className&&Zt(this).attr("class",null)})},L=function(e,t,n){return N(t,function(t){return Mt.is(t,"array")&&(e=e.cloneNode(!0)),n&&io(ro(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},F=function(){return e.createRange()},H=function(n,i,r,s){if(Mt.isArray(n)){for(var a=n.length;a--;)n[a]=H(n[a],i,r,s);return n}return!t.collect||n!==e&&n!==o||u.push([n,i,r,s]),h.bind(n,i,r,s||W)},z=function(t,n,i){var r;if(Mt.isArray(t)){for(r=t.length;r--;)t[r]=z(t[r],n,i);return t}if(u&&(t===e||t===o))for(r=u.length;r--;){var s=u[r];t!==s[0]||n&&n!==s[1]||i&&i!==s[2]||h.unbind(s[0],s[1],s[2])}return h.unbind(t,n,i)},q=function(e){if(e&&Nr.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},W={doc:e,settings:t,win:o,files:s,stdMode:!0,boxModel:!0,styleSheetLoader:l,boundEvents:u,styles:d,schema:c,events:h,isBlock:function(e){if("string"==typeof e)return!!f[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!f[e.nodeName])}return!1},$:p,$$:m,root:null,clone:function(t,n){if(!oo||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var i=e.createElement(t.nodeName);return io(y(t),function(e){_(i,e.nodeName,v(t,e.nodeName))}),i}return null},getRoot:w,getViewPort:function(e){var t=e||o,n=t.document.documentElement;return{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=g(e),t=x(e),n=k(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:k,getParent:function(e,t,n){var i=E(e,t,n,!1);return i&&0<i.length?i[0]:null},getParents:E,get:g,getNext:function(e,t){return S(e,t,"nextSibling")},getPrev:function(e,t){return S(e,t,"previousSibling")},select:function(n,i){return dt(n,g(i)||t.root_element||e,[])},is:T,add:I,create:P,createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+M(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(t){var n,i=e.createElement("div"),r=e.createDocumentFragment();for(t&&(i.innerHTML=t);n=i.firstChild;)r.appendChild(n);return r},remove:R,setStyle:function(e,n,i){var r=m(e).css(n,i);t.update_styles&&uo(d,r)},getStyle:C,setStyles:function(e,n){var i=m(e).css(n);t.update_styles&&uo(d,i)},removeAllAttribs:function(e){return N(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:_,setAttribs:D,getAttrib:v,getPos:x,parseStyle:function(e){return d.parse(e)},serializeStyle:function(e,t){return d.serialize(e,t)},addStyle:function(t){var n,i;if(W!==ho.DOM&&e===document){if(r[t])return;r[t]=!0}(i=e.getElementById("mceDefaultStyles"))||((i=e.createElement("style")).id="mceDefaultStyles",i.type="text/css",(n=e.getElementsByTagName("head")[0]).firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(e.createTextNode(t))},loadCSS:function(t){var n;W===ho.DOM||e!==document?(t||(t=""),n=e.getElementsByTagName("head")[0],io(t.split(","),function(e){var t;e=Mt._addCacheSuffix(e),s[e]||(s[e]=!0,t=P("link",{rel:"stylesheet",href:e}),n.appendChild(t))})):ho.DOM.loadCSS(t)},addClass:function(e,t){m(e).addClass(t)},removeClass:function(e,t){B(e,t,!1)},hasClass:function(e,t){return m(e).hasClass(t)},toggleClass:B,show:function(e){m(e).show()},hide:function(e){m(e).hide()},isHidden:function(e){return"none"===m(e).css("display")},uniqueId:function(e){return(e||"mce_")+a++},setHTML:A,getOuterHTML:function(e){var t="string"==typeof e?g(e):e;return Nr.isElement(t)?t.outerHTML:Zt("<div></div>").append(Zt(t).clone()).html()},setOuterHTML:function(e,t){m(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}R(Zt(this).html(t),!0)})},decode:O,encode:M,insertAfter:function(e,t){var n=g(t);return N(e,function(e){var t,i;return t=n.parentNode,(i=n.nextSibling)?t.insertBefore(e,i):t.appendChild(e),e})},replace:L,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=P(t),io(y(e),function(t){_(n,t.nodeName,v(e,t.nodeName))}),L(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return d.toHex(Mt.trim(e))},run:N,getAttribs:y,isEmpty:function(e,t){var n,i,r,o,s,a,l=0;if(e=e.firstChild){s=new ir(e,e.parentNode),t=t||(c?c.getNonEmptyElements():null),o=c?c.getWhiteSpaceElements():{};do{if(r=e.nodeType,Nr.isElement(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=s.next("all"===u);continue}if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"===a){l++,e=s.next();continue}return!1}for(n=(i=y(e)).length;n--;)if("name"===(a=i[n].nodeName)||"data-mce-bookmark"===a)return!1}if(8===r)return!1;if(3===r&&!ao.test(e.nodeValue))return!1;if(3===r&&e.parentNode&&o[e.parentNode.nodeName]&&ao.test(e.nodeValue))return!1;e=s.next()}while(e)}return l<=1},createRng:F,nodeIndex:co,split:function(e,t,n){var i,r,o,s=F();if(e&&t)return s.setStart(e.parentNode,co(e)),s.setEnd(t.parentNode,co(t)),i=s.extractContents(),(s=F()).setStart(t.parentNode,co(t)+1),s.setEnd(e.parentNode,co(e)+1),r=s.extractContents(),(o=e.parentNode).insertBefore(Ir.trimNode(W,i),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(Ir.trimNode(W,r),e),R(e),n||t},bind:H,unbind:z,fire:function(e,t,n){return h.fire(e,t,n)},getContentEditable:q,getContentEditableParent:function(e){for(var t=w(),n=null;e&&e!==t&&null===(n=q(e));e=e.parentNode);return n},destroy:function(){if(u)for(var e=u.length;e--;){var t=u[e];h.unbind(t[0],t[1],t[2])}dt.setDocument&&dt.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}};return n=lo(d,t,function(){return W}),W}(no=ho||(ho={})).DOM=no(document),no.nodeIndex=co;var fo=ho,po=fo.DOM,go=Mt.each,mo=Mt.grep,vo=function(e){return"function"==typeof e},bo=function(){var e={},t=[],n={},i=[],r=0;this.isDone=function(t){return 2===e[t]},this.markDone=function(t){e[t]=2},this.add=this.load=function(i,r,o,s){void 0===e[i]&&(t.push(i),e[i]=0),r&&(n[i]||(n[i]=[]),n[i].push({success:r,failure:s,scope:o||this}))},this.remove=function(t){delete e[t],delete n[t]},this.loadQueue=function(e,n,i){this.loadScripts(t,e,n,i)},this.loadScripts=function(t,o,s,a){var l,u=[],c=function(e,t){go(n[t],function(t){vo(t[e])&&t[e].call(t.scope)}),n[t]=void 0};i.push({success:o,failure:a,scope:s||this}),(l=function(){var n=mo(t);if(t.length=0,go(n,function(t){var n,i,o,s,a,d,h;2!==e[t]?3!==e[t]?1!==e[t]&&(e[t]=1,r++,n=t,i=function(){e[t]=2,r--,c("success",t),l()},o=function(){e[t]=3,r--,u.push(t),c("failure",t),l()},h=function(){d.remove(a),s&&(s.onreadystatechange=s.onload=s=null),i()},a=(d=po).uniqueId(),(s=document.createElement("script")).id=a,s.type="text/javascript",s.src=Mt._addCacheSuffix(n),"onreadystatechange"in s?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&h()}:s.onload=h,s.onerror=function(){vo(o)?o():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+n)},(document.getElementsByTagName("head")[0]||document.body).appendChild(s)):c("failure",t):c("success",t)}),!r){var o=i.slice(0);i.length=0,go(o,function(e){0===u.length?vo(e.success)&&e.success.call(e.scope):vo(e.failure)&&e.failure.call(e.scope,u)})}})()}};bo.ScriptLoader=new bo;var yo,_o=Mt.each;function wo(){var e=this,t=[],n={},i={},r=[],o=function(e){var t;return i[e]&&(t=i[e].dependencies),t||[]},s=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},a=function(e,t,n){var i=o(name);_o(i,function(t){var n=s(e,t);l(n.resource,n,void 0,void 0)}),t&&(n?t.call(n):t.call(bo))},l=function(e,t,r,o,s){if(!n[e]){var l="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==l.indexOf("/")&&-1===l.indexOf("://")&&(l=wo.baseURL+"/"+l),n[e]=l.substring(0,l.lastIndexOf("/")),i[e]?a(t,r,o):bo.ScriptLoader.add(l,function(){return a(t,r,o)},o,s)}};return{items:t,urls:n,lookup:i,_listeners:r,get:function(e){return i[e]?i[e].instance:void 0},dependencies:o,requireLangPack:function(e,t){var i=wo.language;if(i&&!1!==wo.languageLoad){if(t)if(-1!==(t=","+t+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===t.indexOf(","+i+","))return;bo.ScriptLoader.add(n[e]+"/langs/"+i+".js")}},add:function(e,n,o){t.push(n),i[e]={instance:n,dependencies:o};var s=j.partition(r,function(t){return t.name===e});return r=s.fail,_o(s.pass,function(e){e.callback()}),n},remove:function(e){delete n[e],delete i[e]},createUrl:s,addComponents:function(t,n){var i=e.urls[t];_o(n,function(e){bo.ScriptLoader.add(i+"/"+e)})},load:l,waitFor:function(e,t){i.hasOwnProperty(e)?t():r.push({name:e,callback:t})}}}(yo=wo||(wo={})).PluginManager=yo(),yo.ThemeManager=yo();var xo,Co="\ufeff",ko=Co,To=function(e){return e.replace(new RegExp(Co,"g"),"")},Eo=Nr.isElement,So=Nr.isText,No=function(e){return So(e)&&(e=e.parentNode),Eo(e)&&e.hasAttribute("data-mce-caret")},Do=function(e){return So(e)&&function(e){return e===Co}(e.data)},Ao=function(e){return No(e)||Do(e)},Io=function(e){return e.firstChild!==e.lastChild||!Nr.isBr(e.firstChild)},Po=function(e){var t=e.container();return e&&Nr.isText(t)&&t.data.charAt(e.offset())===ko},Oo=function(e){var t=e.container();return e&&Nr.isText(t)&&t.data.charAt(e.offset()-1)===ko},Mo=function(e){return So(e)&&e.data[0]===ko},Ro=function(e){return So(e)&&e.data[e.data.length-1]===ko},Bo=function(e){return e&&e.hasAttribute("data-mce-caret")?(n=(t=e.getElementsByTagName("br"))[t.length-1],Nr.isBogus(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},Lo=Nr.isContentEditableTrue,Fo=Nr.isContentEditableFalse,Ho=Nr.isBr,jo=Nr.isText,zo=Nr.matchNodeNames("script style textarea"),qo=Nr.matchNodeNames("img input textarea hr iframe video audio object"),Wo=Nr.matchNodeNames("table"),Uo=Ao,$o=function(e){return!Uo(e)&&(jo(e)?!zo(e.parentNode):qo(e)||Ho(e)||Wo(e)||Vo(e))},Vo=function(e){return!1===(t=e,Nr.isElement(t)&&"true"===t.getAttribute("unselectable"))&&Fo(e);var t},Yo=function(e,t){return $o(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Vo(e))return!1;if(Lo(e))return!0}return!0}(e,t)},Ko=Math.round,Xo=function(e){return e?{left:Ko(e.left),top:Ko(e.top),bottom:Ko(e.bottom),right:Ko(e.right),width:Ko(e.width),height:Ko(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Go=function(e,t){return e=Xo(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Jo=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},Qo=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Jo(t.top-e.bottom,e,t)},Zo=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Jo(t.bottom-e.top,e,t)},es=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ts=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},ns=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),is=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&ns.test(e)},rs=[].slice,os=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=rs.call(arguments);return i.length-1>=e.length?e.apply(this,i.slice(1)):function(){var e=i.concat([].slice.call(arguments));return os.apply(this,e)}},ss={constant:function(e){return function(){return e}},negate:function(e){return function(t){return!e(t)}},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=rs.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},or:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=rs.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},curry:os,compose:function(e,t){return function(n){return e(t(n))}},noop:function(){}},as=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];if(!r.isSome())return k.none();n.push(r.getOrDie())}return k.some(t.apply(null,n))},ls=Nr.isElement,us=$o,cs=Nr.matchStyleValues("display","block table"),ds=Nr.matchStyleValues("float","left right"),hs=ss.and(ls,us,ss.negate(ds)),fs=ss.negate(Nr.matchStyleValues("white-space","pre pre-line pre-wrap")),ps=Nr.isText,gs=Nr.isBr,ms=fo.nodeIndex,vs=ts,bs=function(e){return"createRange"in e?e.createRange():fo.DOM.createRng()},ys=function(e){return e&&/[\r\n\t ]/.test(e)},_s=function(e){return!!e.setStart&&!!e.setEnd},ws=function(e){var t,n=e.startContainer,i=e.startOffset;return!!(ys(e.toString())&&fs(n.parentNode)&&Nr.isText(n)&&(t=n.data,ys(t[i-1])||ys(t[i+1])))},xs=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Cs=function(e){var t,n,i,r,o,s,a,l;return t=0<(n=e.getClientRects()).length?Xo(n[0]):Xo(e.getBoundingClientRect()),!_s(e)&&gs(e)&&xs(t)?(o=(i=e).ownerDocument,s=bs(o),a=o.createTextNode("Â "),(l=i.parentNode).insertBefore(a,i),s.setStart(a,0),s.setEnd(a,1),r=Xo(s.getBoundingClientRect()),l.removeChild(a),r):xs(t)&&_s(e)?function(e){var t=e.startContainer,n=e.endContainer,i=e.startOffset,r=e.endOffset;if(t===n&&Nr.isText(n)&&0===i&&1===r){var o=e.cloneRange();return o.setEndAfter(n),Cs(o)}return null}(e):t},ks=function(e,t){var n=Go(e,t);return n.width=1,n.right=n.left+1,n},Ts=function(e){var t,n,i=[],r=function(e){var t,n;0!==e.height&&(0<i.length&&(t=e,n=i[i.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||i.push(e))},o=function(e,t){var n=bs(e.ownerDocument);if(t<e.data.length){if(is(e.data[t]))return i;if(is(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!ws(n)))return r(ks(Cs(n),!1)),i}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),ws(n)||r(ks(Cs(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),ws(n)||r(ks(Cs(n),!0)))};if(ps(e.container()))return o(e.container(),e.offset()),i;if(ls(e.container()))if(e.isAtEnd())n=vs(e.container(),e.offset()),ps(n)&&o(n,n.data.length),hs(n)&&!gs(n)&&r(ks(Cs(n),!1));else{if(n=vs(e.container(),e.offset()),ps(n)&&o(n,0),hs(n)&&e.isAtEnd())return r(ks(Cs(n),!1)),i;t=vs(e.container(),e.offset()-1),hs(t)&&!gs(t)&&(cs(t)||cs(n)||!hs(n))&&r(ks(Cs(t),!1)),hs(n)&&r(ks(Cs(n),!0))}return i};function Es(e,t,n){var i=function(){return n||(n=Ts(Es(e,t))),n};return{container:ss.constant(e),offset:ss.constant(t),toRange:function(){var n;return(n=bs(e.ownerDocument)).setStart(e,t),n.setEnd(e,t),n},getClientRects:i,isVisible:function(){return 0<i().length},isAtStart:function(){return ps(e),0===t},isAtEnd:function(){return ps(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return vs(e,n?t-1:t)}}}(xo=Es||(Es={})).fromRangeStart=function(e){return xo(e.startContainer,e.startOffset)},xo.fromRangeEnd=function(e){return xo(e.endContainer,e.endOffset)},xo.after=function(e){return xo(e.parentNode,ms(e)+1)},xo.before=function(e){return xo(e.parentNode,ms(e))},xo.isAbove=function(e,t){return as([j.head(t.getClientRects()),j.last(e.getClientRects())],Qo).getOr(!1)},xo.isBelow=function(e,t){return as([j.last(t.getClientRects()),j.head(e.getClientRects())],Zo).getOr(!1)},xo.isAtStart=function(e){return!!e&&e.isAtStart()},xo.isAtEnd=function(e){return!!e&&e.isAtEnd()},xo.isTextPosition=function(e){return!!e&&Nr.isText(e.container())},xo.isElementPosition=function(e){return!1===xo.isTextPosition(e)};var Ss,Ns,Ds=Es,As=Nr.isElement,Is=Nr.isText,Ps=function(e){var t=e.parentNode;t&&t.removeChild(e)},Os=function(e,t){0===t.length?Ps(e):e.nodeValue=t},Ms=function(e){var t=To(e);return{count:e.length-t.length,text:t}},Rs=function(e,t){return Bs(e),t},Bs=function(e){if(As(e)&&Ao(e)&&(Io(e)?e.removeAttribute("data-mce-caret"):Ps(e)),Is(e)){var t=To(function(e){try{return e.nodeValue}catch(e){return""}}(e));Os(e,t)}},Ls={removeAndReposition:function(e,t){return Ds.isTextPosition(t)?function(e,t){return Is(e)&&t.container()===e?(i=t,r=Ms((n=e).data.substr(0,i.offset())),o=Ms(n.data.substr(i.offset())),0<(s=r.text+o.text).length?(Os(n,s),Ds(n,i.offset()-r.count)):i):Rs(e,t);var n,i,r,o,s}(e,t):function(e,t){return t.container()===e.parentNode?(n=e,r=(i=t).container(),o=j.indexOf(j.from(r.childNodes),n).map(function(e){return e<i.offset()?Ds(r,i.offset()-1):i}).getOr(i),Bs(n),o):Rs(e,t);var n,i,r,o}(e,t)},remove:Bs},Fs=function(e){return Ds.isTextPosition(e)?0===e.offset():$o(e.getNode())},Hs=function(e){if(Ds.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return $o(e.getNode(!0))},js=function(e,t){return!Ds.isTextPosition(e)&&!Ds.isTextPosition(t)&&e.getNode()===t.getNode(!0)},zs=function(e,t,n){var i=Cl(t);return k.from(e?i.next(n):i.prev(n))},qs=function(e,t){var n,i,r,o,s,a=e?t.firstChild:t.lastChild;return Nr.isText(a)?k.some(Ds(a,e?0:a.data.length)):a?$o(a)?k.some(e?Ds.before(a):(s=a,Nr.isBr(s)?Ds.before(s):Ds.after(s))):(i=t,r=a,o=(n=e)?Ds.before(r):Ds.after(r),zs(n,i,o)):k.none()},Ws={fromPosition:zs,nextPosition:b.curry(zs,!0),prevPosition:b.curry(zs,!1),navigate:function(e,t,n){return zs(e,t,n).bind(function(i){return Ka(n,i,t)&&function(e,t,n){return e?!js(t,n)&&(i=t,!(!Ds.isTextPosition(i)&&Nr.isBr(i.getNode())))&&Hs(t)&&Fs(n):!js(n,t)&&Fs(t)&&Hs(n);var i}(e,n,i)?zs(e,t,i):k.some(i)})},positionIn:qs,firstPositionIn:b.curry(qs,!0),lastPositionIn:b.curry(qs,!1)},Us=Nr.isContentEditableTrue,$s=Nr.isContentEditableFalse,Vs=function(e,t,n,i,r){return t._selectionOverrides.showCaret(e,n,i,r)},Ys=function(e,t){var n,i;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((i=(n=t).ownerDocument.createRange()).selectNode(n),i)},Ks=function(e,t,n){var i=el(1,e.getBody(),t),r=Ds.fromRangeStart(i),o=r.getNode();if($s(o))return Vs(1,e,o,!r.isAtEnd(),!1);var s=r.getNode(!0);if($s(s))return Vs(1,e,s,!1,!1);var a=e.dom.getParent(r.getNode(),function(e){return $s(e)||Us(e)});return $s(a)?Vs(1,e,a,!1,n):null},Xs=function(e,t,n){return t&&t.collapsed&&Ks(e,t,n)||t};(Ns=Ss||(Ss={}))[Ns.Br=0]="Br",Ns[Ns.Block=1]="Block",Ns[Ns.Wrap=2]="Wrap",Ns[Ns.Eol=3]="Eol";var Gs,Js,Qs=function(e,t){return e===Gs.Backwards?t.reverse():t},Zs=function(e,t,n,i){for(var r,o,s,a,l,u,c=Cl(n),d=i,h=[];d&&(l=c,u=d,r=t===Gs.Forwards?l.next(u):l.prev(u));){if(Nr.isBr(r.getNode(!1)))return t===Gs.Forwards?{positions:Qs(t,h).concat([r]),breakType:Ss.Br,breakAt:k.some(r)}:{positions:Qs(t,h),breakType:Ss.Br,breakAt:k.some(r)};if(r.isVisible()){if(e(d,r)){var f=(o=t,s=d,a=r,Nr.isBr(a.getNode(o===Gs.Forwards))?Ss.Br:!1===Ka(s,a)?Ss.Block:Ss.Wrap);return{positions:Qs(t,h),breakType:f,breakAt:k.some(r)}}h.push(r),d=r}else d=r}return{positions:Qs(t,h),breakType:Ss.Eol,breakAt:k.none()}},ea=function(e,t,n,i){return t(n,i).breakAt.map(function(i){var r=t(n,i).positions;return e===Gs.Backwards?r.concat(i):[i].concat(r)}).getOr([])},ta=function(e,t){return j.foldl(e,function(e,n){return e.fold(function(){return k.some(n)},function(i){return as([j.head(i.getClientRects()),j.head(n.getClientRects())],function(e,r){var o=Math.abs(t-e.left);return Math.abs(t-r.left)<=o?n:i}).or(e)})},k.none())},na=function(e,t){return j.head(t.getClientRects()).bind(function(t){return ta(e,t.left)})},ia=b.curry(Zs,Es.isAbove,-1),ra=b.curry(Zs,Es.isBelow,1),oa=b.curry(ea,-1,ia),sa=b.curry(ea,1,ra),aa=function(e,t){return xi.all(t,e)},la=function(e,t,n,i,r){var o,s,a,l,u,c=aa(Wn(n),"td,th").map(function(e){return e.dom()});return(a=j.filter((o=e,s=c,j.bind(s,function(e){var t,n,i=(n=-1,{left:(t=e.getBoundingClientRect()).left-n,top:t.top-n,right:t.right+-2,bottom:t.bottom+-2,width:t.width+n,height:t.height+n});return[{x:i.left,y:o(i),cell:e},{x:i.right,y:o(i),cell:e}]})),function(e){return t(e,r)}),l=i,u=r,j.foldl(a,function(e,t){return e.fold(function(){return k.some(t)},function(e){var n=Math.sqrt(Math.abs(e.x-l)+Math.abs(e.y-u)),i=Math.sqrt(Math.abs(t.x-l)+Math.abs(t.y-u));return k.some(i<n?t:e)})},k.none())).map(function(e){return e.cell})},ua=b.curry(la,function(e){return e.bottom},function(e,t){return e.y<t}),ca=b.curry(la,function(e){return e.top},function(e,t){return e.y>t}),da=function(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}},ha=function(e,t,n){var i=e.getParam(t,n);if(-1!==i.indexOf("=")){var r=e.getParam(t,"","hash");return r.hasOwnProperty(e.id)?r[e.id]:n}return i},fa=function(e){return e.getParam("content_security_policy","")},pa=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":t},ga=function(e){return e.getParam("forced_root_block_attrs",{})},ma=function(e,t){Ri(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},va=function(e,t){e.dom().appendChild(t.dom())},ba=ma,ya=function(e,t){Fi(e).fold(function(){Ri(e).each(function(e){va(e,t)})},function(e){ma(e,t)})},_a=va,wa=Fn.detect().browser,xa=function(){return wa.isIE()||wa.isEdge()||wa.isFirefox()},Ca=function(e,t){e.selection.setRng(t),function(e,t){j.head(Es.fromRangeStart(t).getClientRects()).each(function(t){var n,i,r,o,s,a,l,u,c,d=(s=n=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}}(e),(a=i=t).left>s.left&&a.right<s.right?0:a.left<s.left?a.left-s.left:a.right-s.right),h=(r=n,(o=i).top>r.top&&o.bottom<r.bottom?0:o.top<r.top?o.top-r.top:o.bottom-r.bottom);u=0!==d?0<d?d+4:d-4:0,c=0!==h?0<h?h+4:h-4:0,(l=e).inline?(l.getBody().scrollLeft+=u,l.getBody().scrollTop+=c):l.getWin().scrollBy(u,c)})}(e,t)},ka=function(e,t,n){var i=e(t,n);return i.breakType===Ss.Wrap&&0===i.positions.length?i.breakAt.map(function(n){return e(t,n).breakAt.isNone()}).getOr(!0):i.breakAt.isNone()},Ta=ss.curry(ka,ia),Ea=ss.curry(ka,ra),Sa=function(e,t,n){var i=function(e,t){var n=t.getNode(e);return Nr.isElement(n)&&"TABLE"===n.nodeName?k.some(n):k.none()}(!!t,n),r=!1===t;i.fold(function(){return Ca(e,n.toRange())},function(i){return Ws.positionIn(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return Ca(e,n.toRange())},function(r){return o=t,a=i,l=n,void((u=pa(s=e))?s.undoManager.transact(function(){var e=zn(u);ai(e,ga(s)),_a(e,zn("br")),o?ya(Wn(a),e):ba(Wn(a),e);var t=s.dom.createRng();t.setStart(e.dom(),0),t.setEnd(e.dom(),0),Ca(s,t)}):Ca(s,l.toRange()));var o,s,a,l,u})})},Na=function(e,t,n,i){var r,o,s,a,l,u,c=e.selection.getRng(),d=Ds.fromRangeStart(c),h=e.getBody();if(!t&&Ta(i,d)){var f=(a=h,function(e,t){return j.head(t.getClientRects()).bind(function(t){return ua(e,t.left,t.top)}).bind(function(e){return na((n=e,Ws.lastPositionIn(n).map(function(e){return ia(n,e).positions.concat(e)}).getOr([])),t);var n})}(l=n,u=d).orThunk(function(){return j.head(u.getClientRects()).bind(function(e){return ta(oa(a,Ds.before(l)),e.left)})}).getOr(Ds.before(l)));return Sa(e,t,f),!0}return!(!t||!Ea(i,d)||(r=h,f=function(e,t){return j.last(t.getClientRects()).bind(function(t){return ca(e,t.left,t.top)}).bind(function(e){return na((n=e,Ws.firstPositionIn(n).map(function(e){return[e].concat(ra(n,e).positions)}).getOr([])),t);var n})}(o=n,s=d).orThunk(function(){return j.head(s.getClientRects()).bind(function(e){return ta(sa(r,Ds.after(o)),e.left)})}).getOr(Ds.after(o)),Sa(e,t,f),0))},Da=function(e,t){return function(){return k.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return k.from(e.dom.getParent(n,"table")).map(function(n){return function(e,t,n,i){var r,o,s,a,l=e.selection.getRng(),u=t?1:-1;if(xa()&&(r=t,o=l,s=n,a=Ds.fromRangeStart(o),Ws.positionIn(!r,s).map(function(e){return e.isEqual(a)}).getOr(!1))){var c=Vs(u,e,n,!t,!0);return Ca(e,c),!0}return!1}(e,t,n)})}).getOr(!1)}},Aa=function(e,t){return function(){return k.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return k.from(e.dom.getParent(n,"table")).map(function(i){return Na(e,t,i,n)})}).getOr(!1)}},Ia=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return Ia(n())}}},Pa=Nr.isContentEditableFalse,Oa=function(e,t,n){var i,r,o,s,a,l=Go(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,o=e.scrollTop||i.scrollTop):(a=e.getBoundingClientRect(),r=e.scrollLeft-a.left,o=e.scrollTop-a.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,0<(s=t.offsetWidth-t.clientWidth)&&(n&&(s*=-1),l.left+=s,l.right+=s),l},Ma=function(e,t,n){var i,r,o=Ia(k.none()),s=function(){!function(t){var n,i,r,o,s;for(n=Zt("*[contentEditable=false]",e),o=0;o<n.length;o++)r=(i=n[o]).previousSibling,Ro(r)&&(1===(s=r.data).length?r.parentNode.removeChild(r):r.deleteData(s.length-1,1)),r=i.nextSibling,Mo(r)&&(1===(s=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(),r&&(Ls.remove(r),r=null),o.get().each(function(e){Zt(e.caret).remove(),o.set(k.none())}),clearInterval(i)},a=function(){i=ye.setInterval(function(){n()?Zt("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Zt("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)};return{show:function(n,i){var l,u,c;if(s(),c=i,Nr.isElement(c)&&/^(TD|TH)$/i.test(c.tagName))return null;if(!t(i))return r=function(e,t){var n,i,r;if(i=e.ownerDocument.createTextNode(ko),r=e.parentNode,t){if(n=e.previousSibling,So(n)){if(Ao(n))return n;if(Ro(n))return n.splitText(n.data.length-1)}r.insertBefore(i,e)}else{if(n=e.nextSibling,So(n)){if(Ao(n))return n;if(Mo(n))return n.splitText(1),n}e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i)}return i}(i,n),u=i.ownerDocument.createRange(),Pa(r.nextSibling)?(u.setStart(r,0),u.setEnd(r,0)):(u.setStart(r,1),u.setEnd(r,1)),u;r=function(e,t,n){var i,r,o;return(i=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((o=document.createElement("br")).setAttribute("data-mce-bogus","1"),o)),r=t.parentNode,n?r.insertBefore(i,t):t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i),i}("p",i,n),l=Oa(e,i,n),Zt(r).css("top",l.top);var d=Zt('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(e)[0];return o.set(k.some({caret:d,element:i,before:n})),o.get().each(function(e){n&&Zt(e.caret).addClass("mce-visual-caret-before")}),a(),(u=i.ownerDocument.createRange()).setStart(r,0),u.setEnd(r,0),u},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){o.get().each(function(t){var n=Oa(e,t.element,t.before);Zt(t.caret).css(n)})},destroy:function(){return ye.clearInterval(i)}}},Ra=function(e){return Pa(e)||Nr.isTable(e)&&xa()},Ba=Nr.isContentEditableFalse,La=Nr.matchStyleValues("display","block table table-cell table-caption list-item"),Fa=Ao,Ha=No,ja=ss.curry,za=Nr.isElement,qa=$o,Wa=function(e){return 0<e},Ua=function(e){return e<0},$a=function(e,t){for(var n;n=e(t);)if(!Ha(n))return n;return null},Va=function(e,t,n,i,r){var o=new ir(e,i);if(Ua(t)){if((Ba(e)||Ha(e))&&n(e=$a(o.prev,!0)))return e;for(;e=$a(o.prev,r);)if(n(e))return e}if(Wa(t)){if((Ba(e)||Ha(e))&&n(e=$a(o.next,!0)))return e;for(;e=$a(o.next,r);)if(n(e))return e}return null},Ya=function(e,t){for(;e&&e!==t;){if(La(e))return e;e=e.parentNode}return null},Ka=function(e,t,n){return Ya(e.container(),n)===Ya(t.container(),n)},Xa=function(e,t){var n,i;return t?(n=t.container(),i=t.offset(),za(n)?n.childNodes[i+e]:null):null},Ga=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Ja=function(e,t,n){var i,r,o,s;for(r=e?"previousSibling":"nextSibling";n&&n!==t;){if(i=n[r],Fa(i)&&(i=i[r]),Ba(i)){if(s=n,Ya(i,o=t)===Ya(s,o))return i;break}if(qa(i))break;n=n.parentNode}return null},Qa=ja(Ga,!0),Za=ja(Ga,!1),el=function(e,t,n){var i,r,o,s,a=ja(Ja,!0,t),l=ja(Ja,!1,t);if(r=n.startContainer,o=n.startOffset,No(r)){if(za(r)||(r=r.parentNode),"before"===(s=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,Ra(i)))return Qa(i);if("after"===s&&(i=r.previousSibling,Ra(i)))return Za(i)}if(!n.collapsed)return n;if(Nr.isText(r)){if(Fa(r)){if(1===e){if(i=l(r))return Qa(i);if(i=a(r))return Za(i)}if(-1===e){if(i=a(r))return Za(i);if(i=l(r))return Qa(i)}return n}if(Ro(r)&&o>=r.data.length-1)return 1===e&&(i=l(r))?Qa(i):n;if(Mo(r)&&o<=1)return-1===e&&(i=a(r))?Za(i):n;if(o===r.data.length)return(i=l(r))?Qa(i):n;if(0===o)return(i=a(r))?Za(i):n}return n},tl=function(e,t){var n=Xa(e,t);return Ba(n)&&!Nr.isBogusAll(n)},nl=function(e,t){return Nr.isTable(Xa(e,t))},il=function(e,t){return k.from(Xa(e?0:-1,t)).filter(Ba)},rl=function(e,t,n){var i=el(e,t,n);return-1===e?Es.fromRangeStart(i):Es.fromRangeEnd(i)},ol=ja(tl,0),sl=ja(tl,-1),al=ja(nl,0),ll=ja(nl,-1);(Js=Gs||(Gs={}))[Js.Backwards=-1]="Backwards",Js[Js.Forwards=1]="Forwards";var ul,cl,dl,hl,fl=Nr.isContentEditableFalse,pl=Nr.isText,gl=Nr.isElement,ml=Nr.isBr,vl=$o,bl=function(e){return qo(e)||!!Vo(t=e)&&!0!==Dt.reduce(t.getElementsByTagName("*"),function(e,t){return e||Lo(t)},!1);var t},yl=Yo,_l=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},wl=function(e,t){if(Wa(e)){if(vl(t.previousSibling)&&!pl(t.previousSibling))return Ds.before(t);if(pl(t))return Ds(t,0)}if(Ua(e)){if(vl(t.nextSibling)&&!pl(t.nextSibling))return Ds.after(t);if(pl(t))return Ds(t,t.data.length)}return Ua(e)?ml(t)?Ds.before(t):Ds.after(t):Ds.before(t)},xl=function(e,t,n){var i,r,o,s,a;if(!gl(n)||!t)return null;if(t.isEqual(Ds.after(n))&&n.lastChild){if(a=Ds.after(n.lastChild),Ua(e)&&vl(n.lastChild)&&gl(n.lastChild))return ml(n.lastChild)?Ds.before(n.lastChild):a}else a=t;var l,u,c,d=a.container(),h=a.offset();if(pl(d)){if(Ua(e)&&0<h)return Ds(d,--h);if(Wa(e)&&h<d.length)return Ds(d,++h);i=d}else{if(Ua(e)&&0<h&&(r=_l(d,h-1),vl(r)))return!bl(r)&&(o=Va(r,e,yl,r))?pl(o)?Ds(o,o.data.length):Ds.after(o):pl(r)?Ds(r,r.data.length):Ds.before(r);if(Wa(e)&&h<d.childNodes.length&&(r=_l(d,h),vl(r)))return ml(r)&&n.lastChild===r?null:(l=r,u=n,Nr.isBr(l)&&(c=xl(1,Ds.after(l),u))&&!Ka(Ds.before(l),Ds.before(c),u)?xl(e,Ds.after(r),n):!bl(r)&&(o=Va(r,e,yl,r))?pl(o)?Ds(o,0):Ds.before(o):pl(r)?Ds(r,0):Ds.after(r));i=r||a.getNode()}return(Wa(e)&&a.isAtEnd()||Ua(e)&&a.isAtStart())&&(i=Va(i,e,ss.constant(!0),n,!0),yl(i,n))?wl(e,i):(r=Va(i,e,yl,n),!(s=Dt.last(Dt.filter(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(d,n),fl)))||r&&s.contains(r)?r?wl(e,r):null:a=Wa(e)?Ds.after(s):Ds.before(s))},Cl=function(e){return{next:function(t){return xl(Gs.Forwards,t,e)},prev:function(t){return xl(Gs.Backwards,t,e)}}},kl=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&("Â "===(t=e.firstChild).data||Nr.isBr(t));var t}(t))?e.slice(0,-1):e;var t},Tl=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},El=function(e,t){var n=Ds.after(e),i=Cl(t).prev(n);return i?i.toRange():null},Sl=function(e,t,n,i){var r,o,s,a,l,u,c,d,h,f,p,g,m,v,b,y,_,w,x=(r=t,o=i,u=e.serialize(o),a=(s=r.createFragment(u)).firstChild,l=s.lastChild,a&&"META"===a.nodeName&&a.parentNode.removeChild(a),l&&"mce_marker"===l.id&&l.parentNode.removeChild(l),s),C=Tl(t,n.startContainer),k=kl(function(e){return Mt.grep(e.childNodes,function(e){return"LI"===e.nodeName})}(x.firstChild)),T=t.getRoot(),E=function(e){var i=Ds.fromRangeStart(n),r=Cl(t.getRoot()),o=1===e?r.prev(i):r.next(i);return!o||Tl(t,o.getNode())!==C};return E(1)?function(e,t,n){var i,r,o,s,a=e.parentNode;return Mt.each(t,function(t){a.insertBefore(t,e)}),i=e,r=n,o=Ds.before(i),(s=Cl(r).next(o))?s.toRange():null}(C,k,T):E(2)?(c=C,d=k,h=T,t.insertAfter(d.reverse(),c),El(d[0],h)):(p=k,g=T,m=f=C,b=(v=n).cloneRange(),y=v.cloneRange(),b.setStartBefore(m),y.setEndAfter(m),_=[b.cloneContents(),y.cloneContents()],(w=f.parentNode).insertBefore(_[0],f),Mt.each(p,function(e){w.insertBefore(e,f)}),w.insertBefore(_[1],f),w.removeChild(f),El(p[p.length-1],g))},Nl=Nr.isText,Dl=Nr.isBogus,Al=fo.nodeIndex,Il=function(e){var t=e.parentNode;return Dl(t)?Il(t):t},Pl=function(e){return e?Dt.reduce(e.childNodes,function(e,t){return Dl(t)&&"BR"!==t.nodeName?e=e.concat(Pl(t)):e.push(t),e},[]):[]},Ol=function(e){return function(t){return e===t}},Ml=function(e){var t,n,i,r;return(Nl(e)?"text()":e.nodeName.toLowerCase())+"["+(n=Pl(Il(t=e)),i=Dt.findIndex(n,Ol(t),t),n=n.slice(0,i+1),r=Dt.reduce(n,function(e,t,i){return Nl(t)&&Nl(n[i-1])&&e++,e},0),n=Dt.filter(n,Nr.matchNodeNames(t.nodeName)),(i=Dt.findIndex(n,Ol(t),t))-r)+"]"},Rl=function(e,t){var n,i,r,o,s,a=[];return n=t.container(),i=t.offset(),Nl(n)?r=function(e,t){for(;(e=e.previousSibling)&&Nl(e);)t+=e.data.length;return t}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),a.push(Ml(n)),s=function(e,t,n){var i=[];for(t=t.parentNode;t!==e;t=t.parentNode)i.push(t);return i}(e,n),s=Dt.filter(s,ss.negate(Nr.isBogus)),(a=a.concat(Dt.map(s,function(e){return Ml(e)}))).reverse().join("/")+","+r},Bl=function(e,t){var n,i,r;return t?(t=(n=t.split(","))[0].split("/"),r=1<n.length?n[1]:"before",(i=Dt.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,i=t[1],r=parseInt(t[2],10),o=Pl(n),o=Dt.filter(o,function(e,t){return!Nl(e)||!Nl(o[t-1])}),(o=Dt.filter(o,Nr.matchNodeNames(i)))[r]):null;var n,i,r,o},e))?Nl(i)?function(e,t){for(var n,i=e,r=0;Nl(i);){if(n=i.data.length,r<=t&&t<=r+n){e=i,t-=r;break}if(!Nl(i.nextSibling)){e=i,t=n;break}r+=n,i=i.nextSibling}return Nl(e)&&t>e.data.length&&(t=e.data.length),Ds(e,t)}(i,parseInt(r,10)):(r="after"===r?Al(i)+1:Al(i),Ds(i.parentNode,r)):null):null},Ll=Nr.isContentEditableFalse,Fl=function(e,t,n,i,r){var o,s=i[r?"startContainer":"endContainer"],a=i[r?"startOffset":"endOffset"],l=[],u=0,c=e.getRoot();for(Nr.isText(s)?l.push(n?function(e,t,n){var i,r;for(r=e(t.data.slice(0,n)).length,i=t.previousSibling;i&&Nr.isText(i);i=i.previousSibling)r+=e(i.data).length;return r}(t,s,a):a):(a>=(o=s.childNodes).length&&o.length&&(u=1,a=Math.max(0,o.length-1)),l.push(e.nodeIndex(o[a],n)+u));s&&s!==c;s=s.parentNode)l.push(e.nodeIndex(s,n));return l},Hl=function(e){Nr.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},jl=function(e,t,n){var i=0;return Mt.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void i++}),i},zl=function(e,t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],Nr.isElement(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(t?i:i-1,r.length-1)])&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i))},ql=function(e){return zl(e,!0),zl(e,!1),e},Wl=function(e,t){var n;if(Nr.isElement(e)&&(e=ts(e,t),Ll(e)))return e;if(Ao(e)){if(Nr.isText(e)&&No(e)&&(e=e.parentNode),n=e.previousSibling,Ll(n))return n;if(n=e.nextSibling,Ll(n))return n}},Ul=function(e,t,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(Ll(i)||"IMG"===r)return{name:r,index:jl(n.dom,r,i)};var s,a,l,u,c,d,h,f=Wl((s=o).startContainer,s.startOffset)||Wl(s.endContainer,s.endOffset);return f?{name:r=f.tagName,index:jl(n.dom,r,f)}:(a=e,u=t,c=o,d=(l=n).dom,(h={}).start=Fl(d,a,u,c,!0),l.isCollapsed()||(h.end=Fl(d,a,u,c,!1)),h)},$l=function(e,t,n){var i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Vl=function(e,t){var n=e.dom,i=e.getRng(),r=n.uniqueId(),o=e.isCollapsed(),s=e.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:jl(n,a,s)};var l=ql(i.cloneRange());if(!o){l.collapse(!1);var u=$l(n,r+"_end",t);l.insertNode(u),Hl(u.nextSibling)}(i=ql(i)).collapse(!0);var c=$l(n,r+"_start",t);return i.insertNode(c),Hl(c.previousSibling),e.moveToBookmark({id:r,keep:1}),{id:r}},Yl={getBookmark:function(e,t,n){return 2===t?Ul(To,n,e):3===t?(r=(i=e).getRng(),{start:Rl(i.dom.getRoot(),Ds.fromRangeStart(r)),end:Rl(i.dom.getRoot(),Ds.fromRangeEnd(r))}):t?{rng:e.getRng()}:Vl(e,!1);var i,r},getUndoBookmark:b.curry(Ul,b.identity,!0),getPersistentBookmark:Vl},Kl="_mce_caret",Xl=function(e){return Nr.isElement(e)&&e.id===Kl},Gl=function(e,t){for(;t&&t!==e;){if(t.id===Kl)return t;t=t.parentNode}return null},Jl=function(e,t){return!e.isBlock(t)||t.innerHTML||pe.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},Ql=function(e,t){return Ws.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Zl=function(e,t,n){return!(!1!==t.hasChildNodes()||!Gl(e,t)||(r=n,o=(i=t).ownerDocument.createTextNode(ko),i.appendChild(o),r.setStart(o,0),r.setEnd(o,0),0));var i,r,o},eu=function(e,t,n,i){var r,o,s,a,l=n[t?"start":"end"],u=e.getRoot();if(l){for(s=l[0],o=u,r=l.length-1;1<=r;r--){if(a=o.childNodes,Zl(u,o,i))return!0;if(l[r]>a.length-1)return!!Zl(u,o,i)||Ql(o,i);o=a[l[r]]}3===o.nodeType&&(s=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(s=Math.min(l[0],o.childNodes.length)),t?i.setStart(o,s):i.setEnd(o,s)}return!0},tu=function(e){return Nr.isText(e)&&0<e.data.length},nu=function(e,t,n){var i,r,o,s,a,l,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(i=u.parentNode,"start"===t?c?u.hasChildNodes()?(i=u.firstChild,r=1):tu(u.nextSibling)?(i=u.nextSibling,r=0):tu(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=e.nodeIndex(u)+1):r=e.nodeIndex(u):c?u.hasChildNodes()?(i=u.firstChild,r=1):tu(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=e.nodeIndex(u)):r=e.nodeIndex(u),a=i,l=r,!c){for(s=u.previousSibling,o=u.nextSibling,Mt.each(Mt.grep(u.childNodes),function(e){Nr.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=e.get(n.id+"_"+t);)e.remove(u,!0);s&&o&&s.nodeType===o.nodeType&&Nr.isText(s)&&!pe.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),e.remove(o),a=s,l=r)}return k.some(Ds(a,l))}return k.none()},iu={getBookmark:function(e,t,n){return Yl.getBookmark(e,t,n)},moveToBookmark:function(e,t){(function(e,t){var n,i,r,o,s,a,l,u,c,d,h,f,p,g,m,v,b=e.dom;if(t){if(v=t,Mt.isArray(v.start))return g=t,m=(p=b).createRng(),eu(p,!0,g,m)&&eu(p,!1,g,m)?k.some(m):k.none();if("string"==typeof t.start)return k.some((d=t,h=(c=b).createRng(),f=Bl(c.getRoot(),d.start),h.setStart(f.container(),f.offset()),f=Bl(c.getRoot(),d.end),h.setEnd(f.container(),f.offset()),h));if(t.hasOwnProperty("id"))return l=nu(r=b,"start",o=t),u=nu(r,"end",o),as([l,(s=u,a=l,s.isSome()?s:a)],function(e,t){var n=r.createRng();return n.setStart(Jl(r,e.container()),e.offset()),n.setEnd(Jl(r,t.container()),t.offset()),n});if(t.hasOwnProperty("name"))return n=b,i=t,k.from(n.select(i.name)[i.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.hasOwnProperty("rng"))return k.some(t.rng)}return k.none()})(e,t).each(function(t){e.setRng(t)})},isBookmarkNode:function(e){return Nr.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}},ru=Mt.each,ou=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var i=function(t){var n={};return ru(e.getAttribs(t),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))}),n},r=function(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!==n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0};return!(!r(i(t),i(n))||!r(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))||iu.isBookmarkNode(t)||iu.isBookmarkNode(n))}},su=function(e,t){j.each(t,function(t){_a(e,t)})},au=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},lu=function(e){e.dom().textContent="",j.each(ji(e),function(e){au(e)})},uu=au,cu=function(e){var t=ji(e);0<t.length&&function(e,t){j.each(t,function(t){ba(e,t)})}(e,t),au(e)},du=(ul=Gn.isText,"text",cl=function(e){return ul(e)?k.from(e.dom().nodeValue):k.none()},dl=Fn.detect().browser,{get:function(e){if(!ul(e))throw new Error("Can only get text value of a text node");return hl(e).getOr("")},getOption:hl=dl.isIE()&&10===dl.version.major?function(e){try{return cl(e)}catch(e){return k.none()}}:cl,set:function(e,t){if(!ul(e))throw new Error("Can only set raw text value of a text node");e.dom().nodeValue=t}}),hu=function(e){lu(e),_a(e,jn('<br data-mce-bogus="1">'))},fu=function(e){Wi(e).each(function(t){Li(t).each(function(n){ur(e)&&dr(t)&&ur(n)&&uu(t)})})},pu=Mt.makeMap;function gu(e){var t,n,i,r,o,s=[];return t=(e=e||{}).indent,n=pu(e.indent_before||""),i=pu(e.indent_after||""),r=qr.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"===e.element_format,{start:function(e,a,l){var u,c,d,h;if(t&&n[e]&&0<s.length&&0<(h=s[s.length-1]).length&&"\n"!==h&&s.push("\n"),s.push("<",e),a)for(u=0,c=a.length;u<c;u++)d=a[u],s.push(" ",d.name,'="',r(d.value,!0),'"');s[s.length]=!l||o?">":" />",l&&t&&i[e]&&0<s.length&&0<(h=s[s.length-1]).length&&"\n"!==h&&s.push("\n")},end:function(e){var n;s.push("</",e,">"),t&&i[e]&&0<s.length&&0<(n=s[s.length-1]).length&&"\n"!==n&&s.push("\n")},text:function(e,t){0<e.length&&(s[s.length]=t?e:r(e))},cdata:function(e){s.push("<![CDATA[",e,"]]>")},comment:function(e){s.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?s.push("<?",e," ",r(n),"?>"):s.push("<?",e,"?>"),t&&s.push("\n")},doctype:function(e){s.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}function mu(e,t){void 0===t&&(t=Zr());var n=gu(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(i){var r,o;o=e.validate,r={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;s(e),e=e.next;);}},n.reset();var s=function(e){var i,a,l,u,c,d,h,f,p,g=r[e.type];if(g)g(e);else{if(i=e.name,a=e.shortEnded,l=e.attributes,o&&l&&1<l.length&&((d=[]).map={},p=t.getElementRule(e.name))){for(h=0,f=p.attributesOrder.length;h<f;h++)(u=p.attributesOrder[h])in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(h=0,f=l.length;h<f;h++)(u=l[h].name)in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(n.start(e.name,l,a),!a){if(e=e.firstChild)for(;s(e),e=e.next;);n.end(i)}}};return 1!==i.type||e.inner?r[11](i):s(i),n.getContent()}}}var vu=function(e){return e.collapsed?e:(t=e,n=Ds.fromRangeStart(t),i=Ds.fromRangeEnd(t),r=t.commonAncestorContainer,Ws.fromPosition(!1,r,i).map(function(e){return!Ka(n,i,r)&&Ka(n,e,r)?(o=n.container(),s=n.offset(),a=e.container(),l=e.offset(),(u=document.createRange()).setStart(o,s),u.setEnd(a,l),u):t;var o,s,a,l,u}).getOr(t));var t,n,i,r},bu=Nr.matchNodeNames("td th"),yu=function(e,t,n){var i,r,o,s,a,l,u,c,d,h,f,p,g=e.schema.getTextInlineElements(),m=e.selection,v=e.dom;if(/^ | $/.test(t)&&(t=function(e){var t,n,i;t=m.getRng(),n=t.startContainer,i=t.startOffset;var r=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(0<i?e=e.replace(/^&nbsp;/," "):r("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(t)),i=e.parser,p=n.merge,r=mu({validate:e.settings.validate},e.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:t,format:"html",selection:!0,paste:n.paste},(l=e.fire("BeforeSetContent",l)).isDefaultPrevented())e.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=l.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,f);var b,y,_,w,x=(c=m.getRng()).startContainer||(c.parentElement?c.parentElement():null),C=e.getBody();x===C&&m.isCollapsed()&&v.isBlock(C.firstChild)&&(b=C.firstChild)&&!e.schema.getShortEndedElements()[b.nodeName]&&v.isEmpty(C.firstChild)&&((c=v.createRng()).setStart(C.firstChild,0),c.setEnd(C.firstChild,0),m.setRng(c)),m.isCollapsed()||(e.selection.setRng(vu(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),_=(y=m.getRng()).startContainer,w=y.startOffset,3===_.nodeType&&y.collapsed&&("Â "===_.data[w]?(_.deleteData(w,1),/[\u00a0| ]$/.test(t)||(t+=" ")):"Â "===_.data[w-1]&&(_.deleteData(w-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))));var T,E,S,N={context:(o=m.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(a=i.parse(t,N),!0===n.paste&&function(e,t){var n,i,r,o,s,a,l=t.firstChild,u=t.lastChild;return l&&"meta"===l.name&&(l=l.next),u&&"mce_marker"===u.attr("id")&&(u=u.prev),i=u,a=(n=e).getNonEmptyElements(),i&&(i.isEmpty(a)||(r=i,n.getBlockElements()[r.name]&&(s=r).firstChild&&s.firstChild===s.lastChild&&("br"===(o=r.firstChild).name||"Â "===o.value)))&&(u=u.prev),!(!l||l!==u||"ul"!==l.name&&"ol"!==l.name)}(e.schema,a)&&function(e,t){return!!Tl(e,t)}(v,o))return c=Sl(r,v,e.selection.getRng(),a),e.selection.setRng(c),void e.fire("SetContent",l);if(function(e){for(var t=a;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(),"mce_marker"===(d=a.lastChild).attr("id"))for(d=(u=d).prev;d;d=d.walk(!0))if(3===d.type||!v.isBlock(d.name)){e.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(u,d,"br"===d.name);break}if(e._selectionOverrides.showBlockCaretContainer(o),N.invalid){for(m.setContent(f),o=m.getNode(),s=e.getBody(),9===o.nodeType?o=d=s:d=o;d!==s;)d=(o=d).parentNode;t=o===s?s.innerHTML:v.getOuterHTML(o),t=r.serialize(i.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(a)}))),o===s?v.setHTML(s,t):v.setOuterHTML(o,t)}else t=r.serialize(a),function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}}(e,t,o);!function(){if(p){var t=e.getBody(),n=new ou(v);Mt.each(v.select("*[data-mce-fragment]"),function(e){for(var i=e.parentNode;i&&i!==t;i=i.parentNode)g[e.nodeName.toLowerCase()]&&n.compare(i,e)&&v.remove(e,!0)})}}(),function(t){var n,i,r;if(t){if(m.scrollIntoView(t),n=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t))return v.remove(t),m.select(n);c=v.createRng(),(d=t.previousSibling)&&3===d.nodeType?(c.setStart(d,d.nodeValue.length),pe.ie||(h=t.nextSibling)&&3===h.nodeType&&(d.appendData(h.data),h.parentNode.removeChild(h))):(c.setStartBefore(t),c.setEndBefore(t)),i=v.getParent(t,v.isBlock),v.remove(t),i&&v.isEmpty(i)&&(e.$(i).empty(),c.setStart(i,0),c.setEnd(i,0),bu(i)||i.getAttribute("data-mce-fragment")||!(r=function(t){var n=Ds.fromRangeStart(t);if(n=Cl(e.getBody()).next(n))return n.toRange()}(c))?v.add(i,v.create("br",{"data-mce-bogus":"1"})):(c=r,v.remove(i))),m.setRng(c)}}(v.get("mce_marker")),T=e.getBody(),Mt.each(T.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),E=e.dom,S=e.selection.getStart(),k.from(E.getParent(S,"td,th")).map(Wn).each(fu),e.fire("SetContent",l),e.addVisual()}},_u={insertAtCaret:function(e,t){var n,i,r="string"!=typeof(n=t)?(i=Mt.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:i}):{content:n,details:{}};yu(e,r.content,r.details)}};function wu(e,t,n,i,r){return e(n,i)?k.some(n):E.isFunction(r)&&r(n)?k.none():t(n,i,r)}var xu=function(e,t,n){for(var i=e.dom(),r=E.isFunction(n)?n:b.constant(!1);i.parentNode;){i=i.parentNode;var o=Wn(i);if(t(o))return k.some(o);if(r(o))break}return k.none()},Cu=xu,ku=function(e,t,n){return wu(function(e){return t(e)},xu,e,t,n)},Tu=bi("sections","settings"),Eu=Fn.detect().deviceType.isTouch(),Su=["lists","autolink","autosave"],Nu={theme:"mobile"},Du=function(e){var t=E.isArray(e)?e.join(" "):e,n=j.map(E.isString(t)?t.split(" "):[],In);return j.filter(n,function(e){return 0<e.length})},Au=function(e,t){return e.sections().hasOwnProperty(t)},Iu=function(e,t,n,i){var r,o,s,a,l,u,c,d,h,f,p,g,m,v=(r=["mobile"],o=i,s=ni.bifilter(o,function(e,t){return j.contains(r,t)}),Tu(s.t,s.f));return function(e,t,n,i){var r,o,s=Du(n.forced_plugins),a=Du(i.plugins),l=(o=e&&Au(t,"mobile")?(r=a,j.filter(r,b.curry(j.contains,Su))):a,[].concat(Du(s)).concat(Du(o)));return Mt.extend(i,{plugins:l.join(" ")})}(e,v,n,Mt.extend(t,n,v.settings(),(p=e,m=(g=v).settings().inline,p&&Au(g,"mobile")&&!m?(c="mobile",d=Nu,f=(h=v.sections()).hasOwnProperty(c)?h[c]:{},Mt.extend({},d,f)):{}),{validate:!0,content_editable:v.settings().inline,external_plugins:(a=n,l=v.settings(),u=l.external_plugins?l.external_plugins:{},a&&a.external_plugins?Mt.extend({},a.external_plugins,u):u)}))},Pu=function(e,t,n){return k.from(t.settings[n]).filter(e)},Ou=b.curry(Pu,E.isString),Mu=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Ru=function(e,t){var n=t.container(),i=t.offset();return e?Do(n)?Nr.isText(n.nextSibling)?Ds(n.nextSibling,0):Ds.after(n):Po(t)?Ds(n,i+1):t:Do(n)?Nr.isText(n.previousSibling)?Ds(n.previousSibling,n.previousSibling.data.length):Ds.before(n):Oo(t)?Ds(n,i-1):t},Bu={isInlineTarget:function(e,t){var n=Ou(e,"inline_boundaries_selector").getOr("a[href],code");return xi.is(Wn(t),n)},findRootInline:function(e,t,n){var i,r,o,s=(i=e,r=t,o=n,j.filter(fo.DOM.getParents(o.container(),"*",r),i));return k.from(s[s.length-1])},isRtl:function(e){return"rtl"===fo.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Mu.test(t));var t},isAtZwsp:function(e){return Po(e)||Oo(e)},normalizePosition:Ru,normalizeForwards:b.curry(Ru,!0),normalizeBackwards:b.curry(Ru,!1),hasSameParentBlock:function(e,t,n){var i=Ya(t,e),r=Ya(n,e);return i&&i===r}},Lu=function(e,t){return Ti.contains(e,t)?ku(t,function(e){return hr(e)||pr(e)},(n=e,function(e){return Ti.eq(n,Wn(e.dom().parentNode))})):k.none();var n},Fu=function(e){var t,n,i;e.dom.isEmpty(e.getBody())&&(e.setContent(""),i=(n=(t=e).getBody()).firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(i,0))},Hu=function(e,t,n){return Cu(e,function(e){return xi.is(e,t)},n)},ju=Hu,zu=function(e,t){return xi.one(t,e)},qu=function(e,t){return Nr.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===(n=t,i=Wn(e),function(e,t,n){return ju(e,t,n).isSome()}(Wn(n),"pre,code",b.curry(Ti.eq,i)));var n,i},Wu=function(e,t){return $o(t)&&!1===qu(e,t)||(n=t,Nr.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||Uu(t);var n},Uu=Nr.hasAttribute("data-mce-bookmark"),$u=Nr.hasAttribute("data-mce-bogus"),Vu=Nr.hasAttributeValue("data-mce-bogus","all"),Yu=function(e){return function(e){var t,n,i=0;if(Wu(e,e))return!1;if(!(n=e.firstChild))return!0;t=new ir(n,e);do{if(Vu(n))n=t.next(!0);else if($u(n))n=t.next();else if(Nr.isBr(n))i++,n=t.next();else{if(Wu(e,n))return!1;n=t.next()}}while(n);return i<=1}(e.dom())},Ku=bi("block","position"),Xu=bi("from","to"),Gu=function(e,t){var n=Wn(e),i=Wn(t.container());return Lu(n,i).map(function(e){return Ku(e,t)})},Ju=function(e,t,n){return n.collapsed?function(e,t,n){var i=Gu(e,Ds.fromRangeStart(n)),r=i.bind(function(n){return Ws.fromPosition(t,e,n.position()).bind(function(n){return Gu(e,n).map(function(n){return i=e,r=t,o=n,Nr.isBr(o.position().getNode())&&!1===Yu(o.block())?Ws.positionIn(!1,o.block().dom()).bind(function(e){return e.isEqual(o.position())?Ws.fromPosition(r,i,e).bind(function(e){return Gu(i,e)}):k.some(o)}).getOr(o):o;var i,r,o})})});return as([i,r],Xu).filter(function(e){return i=e,!1===Ti.eq(i.from().block(),i.to().block())&&Ri((n=e).from().block()).bind(function(e){return Ri(n.to().block()).filter(function(t){return Ti.eq(e,t)})}).isSome()&&(t=e,!1===Nr.isContentEditableFalse(t.from().block())&&!1===Nr.isContentEditableFalse(t.to().block()));var t,n,i})}(e,t,n):k.none()},Qu=function(e,t){return function(e,t,n){return Ti.contains(t,e)?Bi(e,function(e){return n(e)||Ti.eq(e,t)}).slice(0,-1):[]}(e,t,b.constant(!1))},Zu=Qu,ec=function(e,t){return[e].concat(Qu(e,t))},tc=function(e,t){Ws.positionIn(e,t.dom()).each(function(e){var t=e.getNode();Nr.isBr(t)&&uu(Wn(t))})},nc=function(e,t){var n=ec(t,e);return j.find(n.reverse(),Yu).each(uu)},ic=function(e,t,n){if(Yu(n))return uu(n),Yu(t)&&hu(t),Ws.firstPositionIn(t.dom());tc(!0,t),tc(!1,n);var i=function(e){var t,n=(t=ji(e),j.findIndex(t,ur).fold(function(){return t},function(e){return t.slice(0,e)}));return j.each(n,function(e){uu(e)}),n}(t);return function(e,t){return Ti.contains(t,e)?Ri(e).bind(function(n){return Ti.eq(n,t)?k.some(e):(i=t,r=Bi(e,function(e){return Ti.eq(e,i)}),k.from(r[r.length-2]));var i,r}):k.none()}(t,n).fold(function(){nc(e,t);var r=Ws.lastPositionIn(n.dom());return j.each(i,function(e){_a(n,e)}),r},function(r){var o=Ws.prevPosition(n.dom(),Ds.before(r.dom()));return j.each(i,function(e){ba(r,e)}),nc(e,t),o})},rc=function(e,t,n,i){return t?ic(e,i,n):ic(e,n,i)},oc=function(e,t){var n,i=Wn(e.getBody());return(n=Ju(i.dom(),t,e.selection.getRng()).bind(function(e){return rc(i,t,e.from().block(),e.to().block())})).each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},sc=function(e,t){var n=Wn(t),i=b.curry(Ti.eq,e);return Cu(n,vr,i).isSome()},ac=function(e){var t,n,i,r,o=Wn(e.getBody());return function(e,t){var n,i,r=Ws.prevPosition(e.dom(),Ds.fromRangeStart(t)).isNone(),o=Ws.nextPosition(e.dom(),Ds.fromRangeEnd(t)).isNone();return!(sc(n=e,(i=t).startContainer)||sc(n,i.endContainer))&&r&&o}(o,e.selection.getRng())?((r=e).setContent(""),r.selection.setCursorLocation(),!0):(t=o,n=e.selection,i=n.getRng(),as([Lu(t,Wn(i.startContainer)),Lu(t,Wn(i.endContainer))],function(e,r){return!1===Ti.eq(e,r)&&(i.deleteContents(),rc(t,!0,e,r).each(function(e){n.setRng(e.toRange())}),!0)}).getOr(!1))},lc=function(e,t){return!e.selection.isCollapsed()&&ac(e)},uc=function(e){if(!E.isArray(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return j.each(e,function(i,r){var o=ni.keys(i);if(1!==o.length)throw new Error("one and only one name per case");var s=o[0],a=i[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!E.isArray(a))throw new Error("case arguments must be an array");t.push(s),n[s]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);for(var i=new Array(n),o=0;o<i.length;o++)i[o]=arguments[o];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[r].apply(null,i)},match:function(e){var n=ni.keys(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!j.forall(t,function(e){return j.contains(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,i)},log:function(e){console.log(e,{constructors:t,constructor:s,params:i})}}}}),n},cc=uc([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),dc=function(e,t,n,i){var r=i.getNode(!1===t);return Lu(Wn(e),Wn(n.getNode())).map(function(e){return Yu(e)?cc.remove(e.dom()):cc.moveToElement(r)}).orThunk(function(){return k.some(cc.moveToElement(r))})},hc=function(e,t,n){return Ws.fromPosition(t,e,n).bind(function(i){return u=i.getNode(),vr(Wn(u))||pr(Wn(u))?k.none():(r=e,a=i,l=function(e){return cr(Wn(e))&&!Ka(s,a,r)},il(!(o=t),s=n).fold(function(){return il(o,a).fold(b.constant(!1),l)},l)?k.none():t&&Nr.isContentEditableFalse(i.getNode())?dc(e,t,n,i):!1===t&&Nr.isContentEditableFalse(i.getNode(!0))?dc(e,t,n,i):t&&sl(n)?k.some(cc.moveToPosition(i)):!1===t&&ol(n)?k.some(cc.moveToPosition(i)):k.none());var r,o,s,a,l,u})},fc=function(e,t){return i=e,r=(n=t).container(),o=n.offset(),!1===Ds.isTextPosition(n)&&r===i.parentNode&&o>Ds.before(i).offset()?Ds(t.container(),t.offset()-1):t;var n,i,r,o},pc=function(e){return $o(e.previousSibling)?k.some((t=e.previousSibling,Nr.isText(t)?Ds(t,t.data.length):Ds.after(t))):e.previousSibling?Ws.lastPositionIn(e.previousSibling):k.none();var t},gc=function(e){return $o(e.nextSibling)?k.some((t=e.nextSibling,Nr.isText(t)?Ds(t,0):Ds.before(t))):e.nextSibling?Ws.firstPositionIn(e.nextSibling):k.none();var t},mc=function(e,t,n){return(i=e,r=t,o=n,i?function(e,t){return gc(t).orThunk(function(){return pc(t)}).orThunk(function(){return n=e,i=t,Ws.nextPosition(n,Ds.after(i)).fold(function(){return Ws.prevPosition(n,Ds.before(i))},k.some);var n,i})}(r,o):function(e,t){return pc(t).orThunk(function(){return gc(t)}).orThunk(function(){return n=e,i=t,r=Ds.before(i.previousSibling?i.previousSibling:i.parentNode),Ws.prevPosition(n,r).fold(function(){return Ws.nextPosition(n,Ds.after(i))},k.some);var n,i,r})}(r,o)).map(b.curry(fc,n));var i,r,o},vc=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},bc=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Gn.name(t))},yc=function(e){if(Yu(e)){var t=jn('<br data-mce-bogus="1">');return lu(e),_a(e,t),k.some(Ds.before(t.dom()))}return k.none()},_c=function(e,t,n){var i,r,o,s=mc(t,e.getBody(),n.dom()),a=Cu(n,b.curry(bc,e),(i=e.getBody(),function(e){return e.dom()===i})),l=(o=s,as([Li(r=n),Fi(r),o],function(e,t,n){var i,o=e.dom(),s=t.dom();return Nr.isText(o)&&Nr.isText(s)?(i=o.data.length,o.appendData(s.data),uu(t),uu(r),n.container()===s?Ds(o,i):n):(uu(r),n)}).orThunk(function(){return uu(r),o}));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(yc).fold(function(){vc(e,t,l)},function(n){vc(e,t,k.some(n))})},wc=function(e,t){var n,i,r,o,s;return(n=e.getBody(),i=t,r=e.selection.getRng(),o=el(i?1:-1,n,r),s=Ds.fromRangeStart(o),!1===i&&sl(s)?k.some(cc.remove(s.getNode(!0))):i&&ol(s)?k.some(cc.remove(s.getNode())):function(e,t,n){return o=t,s=n.getNode(!1===o),a=o?"after":"before",Nr.isElement(s)&&s.getAttribute("data-mce-caret")===a?(i=t,r=n.getNode(!1===t),i&&Nr.isContentEditableFalse(r.nextSibling)?k.some(cc.moveToElement(r.nextSibling)):!1===i&&Nr.isContentEditableFalse(r.previousSibling)?k.some(cc.moveToElement(r.previousSibling)):k.none()).fold(function(){return hc(e,t,n)},k.some):hc(e,t,n).bind(function(t){return i=e,r=n,t.fold(function(e){return k.some(cc.remove(e))},function(e){return k.some(cc.moveToElement(e))},function(e){return Ka(r,e,i)?k.none():k.some(cc.moveToPosition(e))});var i,r});var i,r,o,s,a}(n,i,s)).map(function(n){return n.fold((s=e,a=t,function(e){return s._selectionOverrides.hideFakeCaret(),_c(s,a,Wn(e)),!0}),(r=e,o=t,function(e){var t=o?Ds.before(e):Ds.after(e);return r.selection.setRng(t.toRange()),!0}),(i=e,function(e){return i.selection.setRng(e.toRange()),!0}));var i,r,o,s,a}).getOr(!1)},xc=function(e,t){return e.selection.isCollapsed()?wc(e,t):function(e,t){var n,i=e.selection.getNode();return!!Nr.isContentEditableFalse(i)&&(n=Wn(e.getBody()),j.each(aa(n,".mce-offscreen-selection"),uu),_c(e,t,Wn(e.selection.getNode())),Fu(e),!0)}(e,t)},Cc=function(e){var t,n=function(e,t){for(;t&&t!==e;){if(Nr.isContentEditableTrue(t)||Nr.isContentEditableFalse(t))return t;t=t.parentNode}return null}(e.getBody(),e.selection.getNode());return Nr.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Ds.before(t).toRange())),!0},kc=Nr.isText,Tc=function(e){return kc(e)&&e.data[0]===ko},Ec=function(e){return kc(e)&&e.data[e.data.length-1]===ko},Sc=function(e){return e.ownerDocument.createTextNode(ko)},Nc=function(e,t){return e?function(e){if(kc(e.previousSibling))return Ec(e.previousSibling)||e.previousSibling.appendData(ko),e.previousSibling;if(kc(e))return Tc(e)||e.insertData(0,ko),e;var t=Sc(e);return e.parentNode.insertBefore(t,e),t}(t):function(e){if(kc(e.nextSibling))return Tc(e.nextSibling)||e.nextSibling.insertData(0,ko),e.nextSibling;if(kc(e))return Ec(e)||e.appendData(ko),e;var t=Sc(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t}(t)},Dc=b.curry(Nc,!0),Ac=b.curry(Nc,!1),Ic=function(e,t){return Nr.isText(e.container())?Nc(t,e.container()):Nc(t,e.getNode())},Pc=function(e,t){var n=t.get();return n&&e.container()===n&&Do(n)},Oc=function(e,t){return t.fold(function(t){Ls.remove(e.get());var n=Dc(t);return e.set(n),k.some(Ds(n,n.length-1))},function(t){return Ws.firstPositionIn(t).map(function(t){if(Pc(t,e))return Ds(e.get(),1);Ls.remove(e.get());var n=Ic(t,!0);return e.set(n),Ds(n,1)})},function(t){return Ws.lastPositionIn(t).map(function(t){if(Pc(t,e))return Ds(e.get(),e.get().length-1);Ls.remove(e.get());var n=Ic(t,!1);return e.set(n),Ds(n,n.length-1)})},function(t){Ls.remove(e.get());var n=Ac(t);return e.set(n),k.some(Ds(n,1))})},Mc=function(e,t){for(var n=0;n<e.length;n++){var i=e[n].apply(null,t);if(i.isSome())return i}return k.none()},Rc=uc([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Bc=function(e,t){return Ya(t,e)||e},Lc=function(e,t,n){var i=Bu.normalizeForwards(n),r=Bc(t,i.container());return Bu.findRootInline(e,r,i).fold(function(){return Ws.nextPosition(r,i).bind(b.curry(Bu.findRootInline,e,r)).map(function(e){return Rc.before(e)})},k.none)},Fc=function(e,t){return null===Gl(e,t)},Hc=function(e,t,n){return Bu.findRootInline(e,t,n).filter(b.curry(Fc,t))},jc=function(e,t,n){var i=Bu.normalizeBackwards(n);return Hc(e,t,i).bind(function(e){return Ws.prevPosition(e,i).isNone()?k.some(Rc.start(e)):k.none()})},zc=function(e,t,n){var i=Bu.normalizeForwards(n);return Hc(e,t,i).bind(function(e){return Ws.nextPosition(e,i).isNone()?k.some(Rc.end(e)):k.none()})},qc=function(e,t,n){var i=Bu.normalizeBackwards(n),r=Bc(t,i.container());return Bu.findRootInline(e,r,i).fold(function(){return Ws.prevPosition(r,i).bind(b.curry(Bu.findRootInline,e,r)).map(function(e){return Rc.after(e)})},k.none)},Wc=function(e){return!1===Bu.isRtl($c(e))},Uc=function(e,t,n){return Mc([Lc,jc,zc,qc],[e,t,n]).filter(Wc)},$c=function(e){return e.fold(b.identity,b.identity,b.identity,b.identity)},Vc=function(e){return e.fold(b.constant("before"),b.constant("start"),b.constant("end"),b.constant("after"))},Yc=function(e){return e.fold(Rc.before,Rc.before,Rc.after,Rc.after)},Kc=function(e,t,n,i,r,o){return as([Bu.findRootInline(t,n,i),Bu.findRootInline(t,n,r)],function(t,i){return t!==i&&Bu.hasSameParentBlock(n,t,i)?Rc.after(e?t:i):o}).getOr(o)},Xc=function(e,t){return e.fold(b.constant(!0),function(e){return i=t,!(Vc(n=e)===Vc(i)&&$c(n)===$c(i));var n,i})},Gc=function(e,t){return e?t.fold(b.compose(k.some,Rc.start),k.none,b.compose(k.some,Rc.after),k.none):t.fold(k.none,b.compose(k.some,Rc.before),k.none,b.compose(k.some,Rc.end))},Jc=function(e,t,n,i){var r=Bu.normalizePosition(e,i),o=Uc(t,n,r);return Uc(t,n,r).bind(b.curry(Gc,e)).orThunk(function(){return r=e,s=t,a=n,l=o,u=i,c=Bu.normalizePosition(r,u),Ws.fromPosition(r,a,c).map(b.curry(Bu.normalizePosition,r)).fold(function(){return l.map(Yc)},function(e){return Uc(s,a,e).map(b.curry(Kc,r,s,a,c,e)).filter(b.curry(Xc,l))}).filter(Wc);var r,s,a,l,u,c})},Qc=Uc,Zc=Jc,ed=(b.curry(Jc,!1),b.curry(Jc,!0),Yc),td=function(e){return e.fold(Rc.start,Rc.start,Rc.end,Rc.end)},nd=function(e,t,n){var i=e?1:-1;return t.setRng(Ds(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},id=function(e,t){var n=t.selection.getRng(),i=e?Ds.fromRangeEnd(n):Ds.fromRangeStart(n);return!!function(e){return E.isFunction(e.selection.getSel().modify)}(t)&&(e&&Po(i)?nd(!0,t.selection,i):!(e||!Oo(i))&&nd(!1,t.selection,i))},rd=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},od=function(e){return!1!==e.settings.inline_boundaries},sd=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},ad=function(e,t,n){return Oc(t,n).map(function(t){return rd(e,t),n})},ld=function(e,t,n){return function(){return!!od(t)&&id(e,t)}},ud={move:function(e,t,n){return function(){return!!od(e)&&(i=e,r=t,o=n,s=i.getBody(),a=Ds.fromRangeStart(i.selection.getRng()),l=b.curry(Bu.isInlineTarget,i),Zc(o,l,s,a).bind(function(e){return ad(i,r,e)})).isSome();var i,r,o,s,a,l}},moveNextWord:b.curry(ld,!0),movePrevWord:b.curry(ld,!1),setupSelectedState:function(e){var t=Ia(null),n=b.curry(Bu.isInlineTarget,e);return e.on("NodeChange",function(i){var r,o,s,a,l;od(e)&&(r=n,o=e.dom,s=i.parents,a=j.filter(o.select('*[data-mce-selected="inline-boundary"]'),r),l=j.filter(s,r),j.each(j.difference(a,l),b.curry(sd,!1)),j.each(j.difference(l,a),b.curry(sd,!0)),function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Ds.fromRangeStart(e.selection.getRng());Ds.isTextPosition(n)&&!1===Bu.isAtZwsp(n)&&(rd(e,Ls.removeAndReposition(t.get(),n)),t.set(null))}}(e,t),function(e,t,n,i){if(t.selection.isCollapsed()){var r=j.filter(i,e);j.each(r,function(i){var r=Ds.fromRangeStart(t.selection.getRng());Qc(e,t.getBody(),r).bind(function(e){return ad(t,n,e)})})}}(n,e,t,i.parents))}),t},setCaretPosition:rd},cd=function(e,t){return function(n){return Oc(t,n).map(function(t){return ud.setCaretPosition(e,t),!0}).getOr(!1)}},dd=function(e,t,n,i){var r=e.getBody(),o=b.curry(Bu.isInlineTarget,e);e.undoManager.ignore(function(){var s,a,l;e.selection.setRng((s=n,a=i,(l=document.createRange()).setStart(s.container(),s.offset()),l.setEnd(a.container(),a.offset()),l)),e.execCommand("Delete"),Qc(o,r,Ds.fromRangeStart(e.selection.getRng())).map(td).map(cd(e,t))}),e.nodeChanged()},hd=function(e,t,n){return!(!e.selection.isCollapsed()||!1===e.settings.inline_boundaries)&&function(e,t,n,i){var r,o,s=(r=e.getBody(),o=i.container(),Ya(o,r)||r),a=b.curry(Bu.isInlineTarget,e),l=Qc(a,s,i);return l.bind(function(e){return n?e.fold(b.constant(k.some(td(e))),k.none,b.constant(k.some(ed(e))),k.none):e.fold(k.none,b.constant(k.some(ed(e))),k.none,b.constant(k.some(td(e))))}).map(cd(e,t)).getOrThunk(function(){var r=Ws.navigate(n,s,i),o=r.bind(function(e){return Qc(a,s,e)});return l.isSome()&&o.isSome()?Bu.findRootInline(a,s,i).map(function(t){return i=t,!!as([Ws.firstPositionIn(i),Ws.lastPositionIn(i)],function(e,t){var n=Bu.normalizePosition(!0,e),r=Bu.normalizePosition(!1,t);return Ws.nextPosition(i,n).map(function(e){return e.isEqual(r)}).getOr(!0)}).getOr(!0)&&(_c(e,n,Wn(t)),!0);var i}).getOr(!1):o.bind(function(o){return r.map(function(r){return n?dd(e,t,i,r):dd(e,t,r,i),!0})}).getOr(!1)})}(e,t,n,Ds.fromRangeStart(e.selection.getRng()))},fd=bi("start","end"),pd=bi("rng","table","cells"),gd=uc([{removeTable:["element"]},{emptyCells:["cells"]}]),md=function(e,t){return function(e,t,n){return wu(xi.is,Hu,e,t,n)}(Wn(e),"td,th",t)},vd=function(e,t){return ju(e,"table",t)},bd=function(e){return!1===Ti.eq(e.start(),e.end())},yd=function(e,t){return vd(e.start(),t).bind(function(n){return vd(e.end(),t).bind(function(e){return Ti.eq(n,e)?k.some(n):k.none()})})},_d=function(e){return aa(e,"td,th")},wd=function(e,t){return yd(t,e).isSome()},xd=function(e,t){var n,i,r,o,s,a=(n=e,b.curry(Ti.eq,n));return(i=t,r=a,o=md(i.startContainer,r),s=md(i.endContainer,r),as([o,s],fd).filter(bd).filter(function(e){return wd(r,e)}).orThunk(function(){return function(e,t){var n=md(t.startContainer,e),i=md(t.endContainer,e);return t.collapsed?k.none():as([n,i],fd).fold(function(){return n.fold(function(){return i.bind(function(t){return vd(t,e).bind(function(e){return j.head(_d(e)).map(function(e){return fd(e,t)})})})},function(t){return vd(t,e).bind(function(e){return j.last(_d(e)).map(function(e){return fd(t,e)})})})},function(t){return wd(e,t)?k.none():(i=e,vd((n=t).start(),i).bind(function(e){return j.last(_d(e)).map(function(e){return fd(n.start(),e)})}));var n,i})}(r,i)})).bind(function(e){return yd(t=e,a).map(function(e){return pd(t,e,_d(e))});var t})},Cd=function(e,t){return j.findIndex(e,function(e){return Ti.eq(e,t)})},kd=function(e){return(t=e,as([Cd(t.cells(),t.rng().start()),Cd(t.cells(),t.rng().end())],function(e,n){return t.cells().slice(e,n+1)})).map(function(t){var n=e.cells();return t.length===n.length?gd.removeTable(e.table()):gd.emptyCells(t)});var t},Td=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Ed=Td,Sd=function(e){return j.filter(function(e){return j.bind(e,function(e){var t=es(e);return t?[Wn(t)]:[]})}(e),vr)},Nd=function(e,t){var n=function(e){return aa(e,"td[data-mce-selected],th[data-mce-selected]")}(t),i=Sd(e);return 0<n.length?n:i},Dd=Nd,Ad=function(e){return Nd(Ed(e.selection.getSel()),Wn(e.getBody()))},Id=function(e,t){return j.each(t,hu),e.selection.setCursorLocation(t[0].dom(),0),!0},Pd=function(e,t){return _c(e,!1,t),!0},Od=function(e,t,n,i){return Rd(t,i).fold(function(){return i=e,function(e,t){return xd(e,t).bind(kd)}(t,n).map(function(e){return e.fold(b.curry(Pd,i),b.curry(Id,i))});var i},function(t){return Bd(e,t)}).getOr(!1)},Md=function(e,t){return j.find(ec(t,e),vr)},Rd=function(e,t){return j.find(ec(t,e),function(e){return"caption"===Gn.name(e)})},Bd=function(e,t){return hu(t),e.selection.setCursorLocation(t.dom(),0),k.some(!0)},Ld=function(e,t,n){var i=Wn(e.getBody());return Rd(i,n).fold(function(){return function(e,t,n,i){var r=Ds.fromRangeStart(e.selection.getRng());return Md(n,i).bind(function(i){return Yu(i)?Bd(e,i):(o=e,s=n,a=t,l=i,u=r,Ws.navigate(a,o.getBody(),u).bind(function(e){return Md(s,Wn(e.getNode())).map(function(e){return!1===Ti.eq(e,l)})}));var o,s,a,l,u})}(e,t,i,n)},function(n){return r=e,o=t,s=i,a=n,l=Ds.fromRangeStart(r.selection.getRng()),Yu(a)?Bd(r,a):function(e,t,n,i,r){return Ws.navigate(n,e.getBody(),r).bind(function(o){return a=i,l=n,u=r,c=o,Ws.firstPositionIn(a.dom()).bind(function(e){return Ws.lastPositionIn(a.dom()).map(function(t){return l?u.isEqual(e)&&c.isEqual(t):u.isEqual(t)&&c.isEqual(e)})}).getOr(!0)?Bd(e,i):(s=i,Rd(t,Wn(o.getNode())).map(function(e){return!1===Ti.eq(e,s)}));var s,a,l,u,c}).or(k.some(!0))}(r,s,o,a,l);var r,o,s,a,l}).getOr(!1)},Fd=function(e,t){var n,i,r,o,s,a=Wn(e.selection.getStart(!0)),l=Ad(e);return e.selection.isCollapsed()&&0===l.length?Ld(e,t,a):(i=a,r=Wn((n=e).getBody()),o=n.selection.getRng(),0!==(s=Ad(n)).length?Id(n,s):Od(n,r,o,i))},Hd=function(e,t){e.getDoc().execCommand(t,!1,null)},jd={deleteCommand:function(e){xc(e,!1)||hd(e,!1)||oc(e,!1)||Fd(e)||lc(e)||(Hd(e,"Delete"),Fu(e))},forwardDeleteCommand:function(e){xc(e,!0)||hd(e,!0)||oc(e,!0)||Fd(e)||lc(e)||Hd(e,"ForwardDelete")}},zd=function(e){return function(t,n){return k.from(n).map(Wn).filter(Gn.isElement).bind(function(n){return(o=e,s=t,a=n.dom(),l=function(e){return vi(e,o)},ku(Wn(a),function(e){return l(e).isSome()},function(e){return Ti.eq(Wn(s),e)}).bind(l)).or((i=e,r=n.dom(),k.from(fo.DOM.getStyle(r,i,!0))));var i,r,o,s,a,l}).getOr("")}},qd={getFontSize:zd("font-size"),getFontFamily:b.compose(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},zd("font-family")),toPt:function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,i=t||0,r=Math.pow(10,i),Math.round(n*r)/r+"pt"):e;var n,i,r}},Wd=function(e){return Ws.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return Nr.isText(t)?t.parentNode:t})},Ud=function(e){return k.from(e.selection.getRng()).bind(function(t){var n,i;return i=e.getBody(),(n=t).startContainer===i&&0===n.startOffset?k.none():k.from(e.selection.getStart(!0))})},$d=function(e,t){var n=parseInt(t,10);if(1<=n&&n<=7){var i=function(e){return Mt.explode(e.getParam("font_size_style_values",""))}(e),r=function(e){return Mt.explode(e.getParam("font_size_classes",""))}(e);return r?r[n-1]||t:i[n-1]||t}return t},Vd=function(e,t){e.formatter.toggle("fontname",{value:$d(e,t)}),e.nodeChanged()},Yd=function(e){return Ud(e).fold(function(){return Wd(e).map(function(t){return qd.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return qd.getFontFamily(e.getBody(),t)})},Kd=function(e,t){e.formatter.toggle("fontsize",{value:$d(e,t)}),e.nodeChanged()},Xd=function(e){return Ud(e).fold(function(){return Wd(e).map(function(t){return qd.getFontSize(e.getBody(),t)}).getOr("")},function(t){return qd.getFontSize(e.getBody(),t)})},Gd={isEq:function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}},Jd=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},Qd=function(e,t,n){return Jd(e,t,function(e){return e.nodeName===n})},Zd=function(e){return e&&"TABLE"===e.nodeName},eh=function(e,t,n){for(var i=new ir(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=i[n?"prev":"next"]();)if(Nr.isBr(t))return!0},th=function(e,t,n,i,r){var o,s,a,l,u,c,d=e.getRoot(),h=e.schema.getNonEmptyElements();if(a=e.getParent(r.parentNode,e.isBlock)||d,i&&Nr.isBr(r)&&t&&e.isEmpty(a))return k.some(Es(r.parentNode,e.nodeIndex(r)));for(o=new ir(r,a);l=o[i?"prev":"next"]();){if("false"===e.getContentEditableParent(l)||(c=d,Ao(u=l)&&!1===Jd(u,c,Xl)))return k.none();if(Nr.isText(l)&&0<l.nodeValue.length)return!1===Qd(l,d,"A")?k.some(Es(l,i?l.nodeValue.length:0)):k.none();if(e.isBlock(l)||h[l.nodeName.toLowerCase()])return k.none();s=l}return n&&s?k.some(Es(s,0)):k.none()},nh=function(e,t,n,i){var r,o,s,a,l,u,c,d,h,f,p=e.getRoot(),g=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],c=Nr.isElement(r)&&o===r.childNodes.length,l=e.schema.getNonEmptyElements(),u=n,Ao(r))return k.none();if(Nr.isElement(r)&&o>r.childNodes.length-1&&(u=!1),Nr.isDocument(r)&&(r=p,o=0),r===p){if(u&&(a=r.childNodes[0<o?o-1:0])){if(Ao(a))return k.none();if(l[a.nodeName]||Zd(a))return k.none()}if(r.hasChildNodes()){if(o=Math.min(!u&&0<o?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=Nr.isText(r)&&c?r.data.length:0,!t&&r===p.lastChild&&Zd(r))return k.none();if(function(e,t){for(;t&&t!==e;){if(Nr.isContentEditableFalse(t))return!0;t=t.parentNode}return!1}(p,r)||Ao(r))return k.none();if(r.hasChildNodes()&&!1===Zd(r)){s=new ir(a=r,p);do{if(Nr.isContentEditableFalse(a)||Ao(a)){g=!1;break}if(Nr.isText(a)&&0<a.nodeValue.length){o=u?0:a.nodeValue.length,r=a,g=!0;break}if(l[a.nodeName.toLowerCase()]&&(!(d=a)||!/^(TD|TH|CAPTION)$/.test(d.nodeName))){o=e.nodeIndex(a),r=a.parentNode,u||o++,g=!0;break}}while(a=u?s.next():s.prev())}}}return t&&(Nr.isText(r)&&0===o&&th(e,c,t,!0,r).each(function(e){r=e.container(),o=e.offset(),g=!0}),Nr.isElement(r)&&((a=r.childNodes[o])||(a=r.childNodes[o-1]),!a||!Nr.isBr(a)||(f="A",(h=a).previousSibling&&h.previousSibling.nodeName===f)||eh(e,a,!1)||eh(e,a,!0)||th(e,c,t,!0,a).each(function(e){r=e.container(),o=e.offset(),g=!0}))),u&&!t&&Nr.isText(r)&&o===r.nodeValue.length&&th(e,c,t,!1,r).each(function(e){r=e.container(),o=e.offset(),g=!0}),g?k.some(Es(r,o)):k.none()},ih={normalize:function(e,t){var n=t.collapsed,i=t.cloneRange(),r=Es.fromRangeStart(t);return nh(e,n,!0,i).each(function(e){n&&Es.isAbove(r,e)||i.setStart(e.container(),e.offset())}),n||nh(e,n,!1,i).each(function(e){i.setEnd(e.container(),e.offset())}),n&&i.collapse(!0),Gd.isEq(t,i)?k.none():k.some(i)}},rh=function(e,t,n){var i=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),t.scrollIntoView(i),e.remove(i)},oh=function(e,t,n,i){var r=e.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),t.setRng(r)},sh=function(e,t){var n=zn("br");ba(Wn(t),n),e.undoManager.add()},ah=function(e,t){lh(e.getBody(),t)||ya(Wn(t),zn("br"));var n=zn("br");ya(Wn(t),n),rh(e.dom,e.selection,n.dom()),oh(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},lh=function(e,t){return n=Ds.after(t),!!Nr.isBr(n.getNode())||Ws.nextPosition(e,Ds.after(t)).map(function(e){return Nr.isBr(e.getNode())}).getOr(!1);var n},uh=function(e){return e&&"A"===e.nodeName&&"href"in e},ch=function(e){return e.fold(b.constant(!1),uh,uh,b.constant(!1))},dh=function(e,t){t.fold(b.noop,b.curry(sh,e),b.curry(ah,e),b.noop)},hh={insert:function(e,t){var n,i,r,o=(n=e,i=b.curry(Bu.isInlineTarget,n),r=Ds.fromRangeStart(n.selection.getRng()),Qc(i,n.getBody(),r).filter(ch));o.isSome()?o.each(b.curry(dh,e)):function(e,t){var n,i,r=e.selection,o=e.dom,s=r.getRng();ih.normalize(o,s).each(function(e){s.setStart(e.startContainer,e.startOffset),s.setEnd(e.endContainer,e.endOffset)});var a=s.startOffset,l=s.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=u&&3===l.nodeType?l.nodeValue.length:0}var c=o.getParent(l,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null,h=d?d.nodeName.toUpperCase():"",f=t&&t.ctrlKey;"LI"!==h||f||(c=d),l&&3===l.nodeType&&a>=l.nodeValue.length&&(function(e,t,n){for(var i,r=new ir(l,c),o=e.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||0<i.length)return!0}(e.schema)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=o.create("br"),s.insertNode(n),rh(o,r,n),oh(o,r,n,i),e.undoManager.add()}(e,t)}},fh=uc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ph=(fh.before,fh.on,fh.after,function(e){return e.fold(b.identity,b.identity,b.identity)}),gh=uc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),mh=bi("start","soffset","finish","foffset"),vh={domRange:gh.domRange,relative:gh.relative,exact:gh.exact,exactFromRange:function(e){return gh.exact(e.start(),e.soffset(),e.finish(),e.foffset())},range:mh,getWin:function(e){var t=e.match({domRange:function(e){return Wn(e.startContainer)},relative:function(e,t){return ph(e)},exact:function(e,t,n,i){return e}});return Oi(t)}},bh=Fn.detect().browser,yh=function(e,t){var n=Gn.isText(t)?function(e){return du.get(e)}(t).length:ji(t).length+1;return n<e?n:e<0?0:e},_h=function(e){return vh.range(e.start(),yh(e.soffset(),e.start()),e.finish(),yh(e.foffset(),e.finish()))},wh=function(e,t){return Ti.contains(e,t)||Ti.eq(e,t)},xh=function(e){return function(t){return wh(e,t.start())&&wh(e,t.finish())}},Ch=function(e){return!0===e.inline||bh.isIE()},kh=function(e){return vh.range(Wn(e.startContainer),e.startOffset,Wn(e.endContainer),e.endOffset)},Th=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?k.from(t.getRangeAt(0)):k.none()).map(kh)},Eh=function(e){var t=Oi(e);return Th(t.dom()).filter(xh(e))},Sh=function(e,t){return k.from(t).filter(xh(e)).map(_h)},Nh=function(e){var t=document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),k.some(t)}catch(e){return k.none()}},Dh=function(e){return(e.bookmark?e.bookmark:k.none()).bind(b.curry(Sh,Wn(e.getBody()))).bind(Nh)},Ah={store:function(e){var t=Ch(e)?Eh(Wn(e.getBody())):k.none();e.bookmark=t.isSome()?t:e.bookmark},storeNative:function(e,t){var n=Wn(e.getBody()),i=(Ch(e)?k.from(t):k.none()).map(kh).filter(xh(n));e.bookmark=i.isSome()?i:e.bookmark},readRange:Th,restore:function(e){Dh(e).each(function(t){e.selection.setRng(t)})},getRng:Dh,getBookmark:Eh,validate:Sh},Ih=function(e,t){var n=e.settings,i=e.dom,r=e.selection,o=e.formatter,s=/[a-z%]+$/i.exec(n.indentation)[0],a=parseInt(n.indentation,10),l=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||(n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),j.each(r.getSelectedBlocks(),function(e){return function(e,t,n,i,r,o){if("false"!==e.getContentEditable(o)&&"LI"!==o.nodeName){var s=n?"margin":"padding";if(s="TABLE"===o.nodeName?"margin":s,s+="rtl"===e.getStyle(o,"direction",!0)?"Right":"Left","outdent"===t){var a=Math.max(0,parseInt(o.style[s]||0,10)-i);e.setStyle(o,s,a?a+r:"")}else a=parseInt(o.style[s]||0,10)+i+r,e.setStyle(o,s,a)}}(i,t,l,a,s,e)}))},Ph=Mt.each,Oh=Mt.extend,Mh=Mt.map,Rh=Mt.inArray;function Bh(e){var t,n,i,r,o={state:{},exec:{},value:{}},s=e.settings;e.on("PreInit",function(){t=e.dom,n=e.selection,s=e.settings,i=e.formatter});var a=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(e){}return!1}},l=function(e,t){t=t||"exec",Ph(e,function(e,n){Ph(n.toLowerCase().split(","),function(n){o[t][n]=e})})},u=function(t,n,i){t=t.toLowerCase(),o.value[t]=function(){return n.call(i||e)}};Oh(this,{execCommand:function(t,n,i,r){var s,a,l=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?Ah.restore(e):e.focus(),(r=e.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;if(a=t.toLowerCase(),s=o.exec[a])return s(a,n,i),e.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(Ph(e.plugins,function(r){if(r.execCommand&&r.execCommand(t,n,i))return e.fire("ExecCommand",{command:t,ui:n,value:i}),!(l=!0)}),l)return l;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,i))return e.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{l=e.getDoc().execCommand(t,n,i)}catch(e){}return!!l&&(e.fire("ExecCommand",{command:t,ui:n,value:i}),!0)}},queryCommandState:a,queryCommandValue:function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=o.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(e){}}},queryCommandSupported:function(t){if(t=t.toLowerCase(),o.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(e){}return!1},addCommands:l,addCommand:function(t,n,i){t=t.toLowerCase(),o.exec[t]=function(t,r,o,s){return n.call(i||e,r,o,s)}},addQueryStateHandler:function(t,n,i){t=t.toLowerCase(),o.state[t]=function(){return n.call(i||e)}},addQueryValueHandler:u,hasCustomCommand:function(e){return e=e.toLowerCase(),!!o.exec[e]}});var c=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),e.getDoc().execCommand(t,n,i)},d=function(e){return i.match(e)},h=function(t,n){i.toggle(t,n?{value:n}:void 0),e.nodeChanged()},f=function(e){r=n.getBookmark(e)},p=function(){n.moveToBookmark(r)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,i=e.getDoc();try{c(t)}catch(e){n=!0}if("paste"!==t||i.queryCommandEnabled(t)||(n=!0),n||!i.queryCommandSupported(t)){var r=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");pe.mac&&(r=r.replace(/Ctrl\+/g,"â+")),e.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),Ph("left,center,right,justify".split(","),function(e){t!==e&&i.remove("align"+e)}),"none"!==t&&h("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var i,r;c(e),(i=t.getParent(n.getNode(),"ol,ul"))&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(f(),t.split(r,i),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){h(e)},"ForeColor,HiliteColor":function(e,t,n){h(e,n)},FontName:function(t,n,i){Vd(e,i)},FontSize:function(t,n,i){Kd(e,i)},RemoveFormat:function(e){i.remove(e)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(e,t,n){return h(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,i,r){var o=r||n.getNode();o!==e.getBody()&&(f(),e.dom.remove(o,!0),p())},mceSelectNodeDepth:function(i,r,o){var s=0;t.getParent(n.getNode(),function(e){if(1===e.nodeType&&s++===o)return n.select(e),!1},e.getBody())},mceSelectNode:function(e,t,i){n.select(i)},mceInsertContent:function(t,n,i){_u.insertAtCaret(e,i)},mceInsertRawHTML:function(t,i,r){var o=e.getContent();n.setContent("tiny_mce_marker"),e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(e,t,n){h(n)},mceSetContent:function(t,n,i){e.setContent(i)},"Indent,Outdent":function(t){Ih(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,i,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,r,o){var s;"string"==typeof o&&(o={href:o}),s=t.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),s&&o.href||i.remove("link"),o.href&&i.apply("link",o,s)},selectAll:function(){var e=t.getParent(n.getStart(),Nr.isContentEditableTrue);if(e){var i=t.createRng();i.selectNodeContents(e),n.setRng(i)}},delete:function(){jd.deleteCommand(e)},forwardDelete:function(){jd.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,i){return hh.insert(e,i),!0}}),l({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var r="align"+e.substring(7),o=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),s=Mh(o,function(e){return!!i.matchNode(e,r)});return-1!==Rh(s,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return d(e)},mceBlockQuote:function(){return d("blockquote")},Outdent:function(){var e;if(s.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return a("InsertUnorderedList")||a("InsertOrderedList")||!s.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var i=t.getParent(n.getNode(),"ul,ol");return i&&("insertunorderedlist"===e&&"UL"===i.tagName||"insertorderedlist"===e&&"OL"===i.tagName)}},"state"),l({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),u("FontName",function(){return Yd(e)},this),u("FontSize",function(){return Xd(e)},this)}var Lh=Mt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Fh=function(e){var t,n,i=this,r={},o=function(){return!1},s=function(){return!0};t=(e=e||{}).scope||i,n=e.toggleEvent||o;var a=function(e,t,s,a){var l,u,c;if(!1===t&&(t=o),t)for(t={func:t},a&&Mt.extend(t,a),c=(u=e.toLowerCase().split(" ")).length;c--;)e=u[c],(l=r[e])||(l=r[e]=[],n(e,!0)),s?l.unshift(t):l.push(t);return i},l=function(e,t){var o,s,a,l,u;if(e)for(o=(l=e.toLowerCase().split(" ")).length;o--;){if(e=l[o],s=r[e],!e){for(a in r)n(a,!1),delete r[a];return i}if(s){if(t)for(u=s.length;u--;)s[u].func===t&&(s=s.slice(0,u).concat(s.slice(u+1)),r[e]=s);else s.length=0;s.length||(n(e,!1),delete r[e])}}else{for(e in r)n(e,!1);r={}}return i};i.fire=function(n,i){var a,u,c,d;if(n=n.toLowerCase(),(i=i||{}).type=n,i.target||(i.target=t),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=s},i.stopPropagation=function(){i.isPropagationStopped=s},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s},i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),e.beforeFire&&e.beforeFire(i),a=r[n])for(u=0,c=a.length;u<c;u++){if((d=a[u]).once&&l(n,d.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===d.func.call(t,i))return i.preventDefault(),i}return i},i.on=a,i.off=l,i.once=function(e,t,n){return a(e,t,n,{once:!0})},i.has=function(e){return e=e.toLowerCase(),!(!r[e]||0===r[e].length)}};Fh.isNative=function(e){return!!Lh[e.toLowerCase()]};var Hh,jh=function(e){return e._eventDispatcher||(e._eventDispatcher=new Fh({scope:e,toggleEvent:function(t,n){Fh.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},zh={fire:function(e,t,n){if(this.removed&&"remove"!==e)return t;if(t=jh(this).fire(e,t,n),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return jh(this).on(e,t,n)},off:function(e,t){return jh(this).off(e,t)},once:function(e,t){return jh(this).once(e,t)},hasEventListeners:function(e){return jh(this).has(e)}},qh=fo.DOM,Wh=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=qh.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},Uh=function(e,t){var n,i,r=function(e){return!e.hidden&&!e.readonly};if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=Wh(e,t),e.settings.event_root){if(Hh||(Hh={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&Hh){for(t in Hh)e.dom.unbind(Wh(e,t));Hh=null}})),Hh[t])return;i=function(n){for(var i=n.target,o=e.editorManager.get(),s=o.length;s--;){var a=o[s].getBody();(a===i||qh.isChildOf(i,a))&&r(o[s])&&o[s].fire(t,n)}},Hh[t]=i,qh.bind(n,t,i)}else i=function(n){r(e)&&e.fire(t,n)},qh.bind(n,t,i),e.delegates[t]=i},$h={bindPendingEventDelegates:function(){var e=this;Mt.each(e._pendingNativeEvents,function(t){Uh(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?Uh(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Wh(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),i=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(Wh(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&i&&(n.onload=null,i.unbind(t.getWin()),i.unbind(t.getDoc())),i&&(i.unbind(n),i.unbind(t.getContainer()))}},Vh=$h=Mt.extend({},zh,$h),Yh=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},Kh=function(e,t){var n,i,r;e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=(i=(n=e).getBody(),r=function(e){0<n.dom.getParents(e.target,"a").length&&e.preventDefault()},n.dom.bind(i,"click",r),{unbind:function(){n.dom.unbind(i,"click",r)}}),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,Yh(e,"StyleWithCSS",!1),Yh(e,"enableInlineTableEditing",!1),Yh(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},Xh=Mt.each,Gh=Mt.explode,Jh={f9:120,f10:121,f11:122},Qh=Mt.makeMap("alt,ctrl,shift,meta,access");function Zh(e){var t={},n=[],i=function(e){var t,n,i={};for(n in Xh(Gh(e,"+"),function(e){e in Qh?i[e]=!0:/^[0-9]{2,}$/.test(e)?i.keyCode=parseInt(e,10):(i.charCode=e.charCodeAt(0),i.keyCode=Jh[e]||e.toUpperCase().charCodeAt(0))}),t=[i.keyCode],Qh)i[n]?t.push(n):i[n]=!1;return i.id=t.join(","),i.access&&(i.alt=!0,pe.mac?i.ctrl=!0:i.shift=!0),i.meta&&(pe.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},r=function(t,n,r,o){var s;return(s=Mt.map(Gh(t,">"),i))[s.length-1]=Mt.extend(s[s.length-1],{func:r,scope:o||e}),Mt.extend(s[0],{desc:e.translate(n),subpatterns:s.slice(1)})},o=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},s=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){var i,r;((r=e).altKey||r.ctrlKey||r.metaKey||"keydown"===(i=e).type&&112<=i.keyCode&&i.keyCode<=123)&&!e.isDefaultPrevented()&&(Xh(t,function(t){if(o(e,t))return n=t.subpatterns.slice(0),"keydown"===e.type&&s(t),!0}),o(e,n[0])&&(1===n.length&&"keydown"===e.type&&s(n[0]),n.shift()))}),this.add=function(n,i,o,s){var a;return"string"==typeof(a=o)?o=function(){e.execCommand(a,!1,null)}:Mt.isArray(a)&&(o=function(){e.execCommand(a[0],a[1],a[2])}),Xh(Gh(Mt.trim(n.toLowerCase())),function(e){var n=r(e,i,o,s);t[n.id]=n}),!0},this.remove=function(e){var n=r(e);return!!t[n.id]&&(delete t[n.id],!0)}}var ef=function(e){var t=Pi(e).dom();return e.dom()===t.activeElement},tf=function(e){return function(e){var t=void 0!==e?e.dom():document;return k.from(t.activeElement).map(Wn)}(Pi(e)).filter(function(t){return e.dom().contains(t.dom())})},nf=function(e,t){(function(e,t){return(n=t,n.collapsed?k.from(ts(n.startContainer,n.startOffset)).map(Wn):k.none()).bind(function(t){return mr(t)?k.some(t):!1===Ti.contains(e,t)?k.some(e):k.none()});var n})(Wn(e.getBody()),t).bind(function(e){return Ws.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},rf=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},of=function(e){return e.inline?function(e){var t,n=e.getBody();return n&&(t=Wn(n),ef(t)||tf(t).isSome())}(e):(t=e).iframeElement&&ef(Wn(t.iframeElement));var t},sf=function(e){return e.editorManager.setActive(e)},af=of,lf=function(e,t){return t.dom()[e]},uf=function(e,t){return parseInt(mi(t,e),10)},cf=b.curry(lf,"clientWidth"),df=b.curry(lf,"clientHeight"),hf=b.curry(uf,"margin-top"),ff=b.curry(uf,"margin-left"),pf={isXYInContentArea:function(e,t,n){var i,r,o,s,a,l,u,c,d,h,f=Wn(e.getBody()),p=e.inline?f:Mi(f),g=(i=e.inline,o=t,s=n,a=(r=p).dom().getBoundingClientRect(),{x:o-(i?a.left+r.dom().clientLeft+ff(r):0),y:s-(i?a.top+r.dom().clientTop+hf(r):0)});return u=g.x,c=g.y,d=cf(l=p),h=df(l),0<=u&&0<=c&&u<=d&&c<=h},isEditorAttachedToDom:function(e){var t;return(t=e.inline?e.getBody():e.getContentAreaContainer(),k.from(t).map(Wn)).map(function(e){return Ti.contains(Pi(e),e)}).getOr(!1)}};function gf(e){var t,n=[],i=function(){var t,n=e.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:t,reposition:t,getArgs:t}},r=function(){0<n.length&&i().reposition(n)},o=function(e){j.findIndex(n,function(t){return t===e}).each(function(e){n.splice(e,1)})},s=function(t){if(!e.removed&&pf.isEditorAttachedToDom(e))return j.find(n,function(e){return n=i().getArgs(e),r=t,!(n.type!==r.type||n.text!==r.text||n.progressBar||n.timeout||r.progressBar||r.timeout);var n,r}).getOrThunk(function(){e.editorManager.setActive(e);var s,a=i().open(t,function(){o(a),r()});return s=a,n.push(s),r(),a})};return(t=e).on("SkinLoaded",function(){var e=t.settings.service_message;e&&s({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){ye.requestAnimationFrame(r)}),t.on("remove",function(){j.each(n,function(e){i().close(e)})}),{open:s,close:function(){k.from(n[0]).each(function(e){i().close(e),o(e),r()})},getNotifications:function(){return n}}}function mf(e){var t=[],n=function(){var t,n=e.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:t=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:t,confirm:t,close:t,getParams:t,setParams:t}},i=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},r=function(n){var i;t.push(n),i=n,e.fire("OpenWindow",{win:i})},o=function(n){j.findIndex(t,function(e){return e===n}).each(function(i){var r;t.splice(i,1),r=n,e.fire("CloseWindow",{win:r}),0===t.length&&e.focus()})},s=function(){return k.from(t[t.length-1])};return e.on("remove",function(){j.each(t.slice(0),function(e){n().close(e)})}),{windows:t,open:function(t,i){e.editorManager.setActive(e),Ah.store(e);var s=n().open(t,i,o);return r(s),s},alert:function(e,t,s){var a=n().alert(e,i(s||this,t),o);r(a)},confirm:function(e,t,s){var a=n().confirm(e,i(s||this,t),o);r(a)},close:function(){s().each(function(e){n().close(e),o(e)})},getParams:function(){return s().map(n().getParams).getOr(null)},setParams:function(e){s().each(function(t){n().setParams(t,e)})},getWindows:function(){return t}}}var vf=wo.PluginManager,bf=function(e,t){e.notificationManager.open({type:"error",text:t})},yf=function(e,t){e._skinLoaded?bf(e,t):e.on("SkinLoaded",function(){bf(e,t)})},_f={pluginLoadError:function(e,t){yf(e,function(e,t){var n=function(e,t){for(var n in vf.urls)if(vf.urls[n]+"/plugin"+t+".js"===e)return n;return null}(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t}(e,t))},uploadError:function(e,t){yf(e,"Failed to upload image: "+t)},displayError:yf,initError:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))}},wf=wo.PluginManager,xf=wo.ThemeManager;function Cf(){return new(W.getOrDie("XMLHttpRequest"))}function kf(e,t){var n={},i=function(e,n,i,r){var o,s;(o=new Cf).open("POST",t.url),o.withCredentials=t.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e,r,s;o.status<200||300<=o.status?i("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&&"string"==typeof e.location?n((r=t.basePath,s=e.location,r?r.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):i("Invalid JSON: "+o.responseText)},(s=new FormData).append("file",e.blob(),e.filename()),o.send(s)},r=function(e,t){return{url:t,blobInfo:e,status:!0}},o=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},s=function(e,t){Mt.each(n[e],function(e){e(t)}),delete n[e]};return t=Mt.extend({credentials:!1,handler:i},t),{upload:function(a,l){return t.url||t.handler!==i?function(i,a){return i=Mt.grep(i,function(t){return!e.isUploaded(t.blobUri())}),ge.all(Mt.map(i,function(i){return e.isPending(i.blobUri())?(d=i.blobUri(),new ge(function(e){n[d]=n[d]||[],n[d].push(e)})):(l=i,u=t.handler,c=a,e.markPending(l.blobUri()),new ge(function(t){var n;try{var i=function(){n&&n.close()};u(l,function(n){i(),e.markUploaded(l.blobUri(),n),s(l.blobUri(),r(l,n)),t(r(l,n))},function(n){i(),e.removeFailed(l.blobUri()),s(l.blobUri(),o(l,n)),t(o(l,n))},function(e){e<0||100<e||(n||(n=c()),n.progressBar.value(e))})}catch(e){t(o(l,e.message))}}));var l,u,c,d}))}(a,l):new ge(function(e){e([])})}}}function Tf(e,t){return new(W.getOrDie("Blob"))(e,t)}var Ef=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},Sf=function(e){return 0===e.indexOf("blob:")?(t=e,new ge(function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new Cf;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):i()},r.onerror=i,r.send()}catch(e){i()}})):0===e.indexOf("data:")?(n=e,new ge(function(e){var t,i,r;n=Ef(n);try{t=function(e){return W.getOrDie("atob")(e)}(n.data)}catch(t){return void e(new Tf([]))}for(i=new function(e){return new(W.getOrDie("Uint8Array"))(e)}(t.length),r=0;r<i.length;r++)i[r]=t.charCodeAt(r);e(new Tf([i],{type:n.type}))})):null;var t,n},Nf=function(e){return new ge(function(t){var n=new function(){return new(W.getOrDie("FileReader"))};n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},Df=Ef,Af=0,If=function(e){return(e||"blobid")+Af++},Pf=function(e,t,n,i){var r,o;0!==t.src.indexOf("blob:")?(r=Df(t.src).data,(o=e.findFirst(function(e){return e.base64()===r}))?n({image:t,blobInfo:o}):Sf(t.src).then(function(i){o=e.create(If(),i,r),e.add(o),n({image:t,blobInfo:o})},function(e){i(e)})):(o=e.getByUri(t.src))?n({image:t,blobInfo:o}):Sf(t.src).then(function(i){Nf(i).then(function(s){r=Df(s).data,o=e.create(If(),i,r),e.add(o),n({image:t,blobInfo:o})})},function(e){i(e)})},Of=function(e){return e?e.getElementsByTagName("img"):[]},Mf=0,Rf={uuid:function(e){return e+Mf+++(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t}};function Bf(e){var t,n,i,r,o,s,a,l,u,c,d=(t=[],n=ss.constant,i=function(e){var t,i,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return t=e.id||Rf.uuid("blobid"),i=e.name||t,{id:n(t),name:n(i),filename:n(i+"."+(r=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.toLowerCase()]||"dat")),blob:n(e.blob),base64:n(e.base64),blobUri:n(e.blobUri||$.createObjectURL(e.blob)),uri:n(e.uri)}},{create:function(e,t,n,r){return i("object"==typeof e?e:{id:e,name:r,blob:t,base64:n})},add:function(e){r(e.id())||t.push(e)},get:r=function(e){return o(function(t){return t.id()===e})},getByUri:function(e){return o(function(t){return t.blobUri()===e})},findFirst:o=function(e){return Dt.filter(t,e)[0]},removeByUri:function(e){t=Dt.filter(t,function(t){return t.blobUri()!==e||($.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){Dt.each(t,function(e){$.revokeObjectURL(e.blobUri())}),t=[]}}),h=e.settings,f=(l={},u=function(e,t){return{status:e,resultUri:t}},{hasBlobUri:c=function(e){return e in l},getResultUri:function(e){var t=l[e];return t?t.resultUri:null},isPending:function(e){return!!c(e)&&1===l[e].status},isUploaded:function(e){return!!c(e)&&2===l[e].status},markPending:function(e){l[e]=u(1,null)},markUploaded:function(e,t){l[e]=u(2,t)},removeFailed:function(e){delete l[e]},destroy:function(){l={}}}),p=function(t){return function(n){return e.selection?t(n):[]}},g=function(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e},m=function(e,t,n){return e=g(e,'src="'+t+'"','src="'+n+'"'),g(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},v=function(t,n){Dt.each(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=Dt.map(e.fragments,function(e){return m(e,t,n)}):e.content=m(e.content,t,n)})},b=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},y=function(t){return s||(s=kf(f,{url:h.images_upload_url,basePath:h.images_upload_base_path,credentials:h.images_upload_credentials,handler:h.images_upload_handler})),x().then(p(function(n){var i;return i=Dt.map(n,function(e){return e.blobInfo}),s.upload(i,b).then(p(function(i){var r=Dt.map(i,function(t,i){var r=n[i].image;return t.status&&!1!==e.settings.images_replace_blob_uris?function(t,n){d.removeByUri(t.src),v(t.src,n),e.$(t).attr({src:h.images_reuse_filename?n+"?"+(new Date).getTime():n,"data-mce-src":e.convertURL(n,"src")})}(r,t.url):t.error&&_f.uploadError(e,t.error),{element:r,status:t.status}});return t&&t(r),r}))}))},_=function(e){if(!1!==h.automatic_uploads)return y(e)},w=function(e){return!h.images_dataimg_filter||h.images_dataimg_filter(e)},x=function(){var t,n,i;return a||(t=f,n=d,i={},a={findAll:function(e,r){var o;r||(r=ss.constant(!0)),o=Dt.filter(Of(e),function(e){var n=e.src;return!!pe.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===pe.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n):0===n.indexOf("data:")&&r(e))});var s=Dt.map(o,function(e){if(i[e.src])return new ge(function(t){i[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var t=new ge(function(t,i){Pf(n,e,t,i)}).then(function(e){return delete i[e.image.src],e}).catch(function(t){return delete i[e.src],t});return i[e.src]=t});return ge.all(s)}}),a.findAll(e.getBody(),w).then(p(function(t){return t=Dt.filter(t,function(t){return"string"!=typeof t||(_f.displayError(e,t),!1)}),Dt.each(t,function(e){v(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},C=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=f.getResultUri(n);if(i)return'src="'+i+'"';var r=d.getByUri(n);return r||(r=Dt.reduce(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':t})};return e.on("setContent",function(){!1!==e.settings.automatic_uploads?_():x()}),e.on("RawSaveContent",function(e){e.content=C(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=C(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){Dt.each(e,function(e){var t=e.attr("src");if(!d.getByUri(t)){var n=f.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:d,uploadImages:y,uploadImagesAuto:_,scanForImages:x,destroy:function(){d.destroy(),f.destroy(),a=s=null}}}var Lf=function(e,t){return e.hasOwnProperty(t.nodeName)},Ff=function(e,t){if(Nr.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Lf(e,t.nextSibling)))return!0}return!1},Hf=function(e){var t,n,i,r,o,s,a,l,u,c,d,h=e.settings,f=e.dom,p=e.selection,g=e.schema,m=g.getBlockElements(),v=p.getStart(),b=e.getBody();if(d=h.forced_root_block,v&&Nr.isElement(v)&&d&&(c=b.nodeName.toLowerCase(),g.isValidChild(c,d.toLowerCase())&&(y=m,_=b,w=v,!j.exists(Zu(Wn(w),Wn(_)),function(e){return Lf(y,e.dom())})))){var y,_,w,x,C;for(n=(t=p.getRng()).startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,u=af(e),v=b.firstChild;v;)if(x=m,C=v,Nr.isText(C)||Nr.isElement(C)&&!Lf(x,C)&&!iu.isBookmarkNode(C)){if(Ff(m,v)){v=(a=v).nextSibling,f.remove(a);continue}s||(s=f.create(d,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(s,v),l=!0),v=(a=v).nextSibling,s.appendChild(a)}else s=null,v=v.nextSibling;l&&u&&(t.setStart(n,i),t.setEnd(r,o),p.setRng(t),e.nodeChanged())}};var jf,zf,qf=function(e){var t,n,i,r;return r=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},Wf=Nr.isContentEditableFalse,Uf=Nr.isContentEditableTrue,$f=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Vf=function(e){e.dragging=!1,e.element=null,$f(e.ghost)},Yf=function(e){var t,n,i,r,o,s,a,l,u,c,d,h,f,p={};t=fo.DOM,s=document,n=function(e,t){return function(n){if(0===n.button){var i=Dt.find(t.dom.getParents(n.target),ss.or(Wf,Uf));if(a=t.getBody(),Wf(l=i)&&l!==a){var r=t.dom.getPos(i),o=t.getBody(),s=t.getDoc().documentElement;e.element=i,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?o.scrollWidth:s.offsetWidth)-2,e.maxY=(t.inline?o.scrollHeight:s.offsetHeight)-2,e.relX=n.pageX-r.x,e.relY=n.pageY-r.y,e.width=i.offsetWidth,e.height=i.offsetHeight,e.ghost=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(t,i,e.width,e.height)}}var a,l}}(p,e),a=p,l=e,u=ye.throttle(function(e,t){l._selectionOverrides.hideFakeCaret(),l.selection.placeCaretAt(e,t)},0),i=function(e){var t,n,i,r,o,s,c,d,h,f,p,g,m=Math.max(Math.abs(e.screenX-a.screenX),Math.abs(e.screenY-a.screenY));if(a.element&&!a.dragging&&10<m){if(l.fire("dragstart",{target:a.element}).isDefaultPrevented())return;a.dragging=!0,l.focus()}if(a.dragging){var v=(p=a,{pageX:(g=function(e,t){return n=(a=e).inline?qf(a.getBody()):{left:0,top:0},s=(o=e).getBody(),i=o.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0},{pageX:(r=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=qf(e.getContentAreaContainer()),i=(o=(r=e).getBody(),s=r.getDoc().documentElement,a={left:o.scrollLeft,top:o.scrollTop},l={left:o.scrollLeft||s.scrollLeft,top:o.scrollTop||s.scrollTop},r.inline?a:l);return{left:t.pageX-n.left+i.left,top:t.pageY-n.top+i.top}}var r,o,s,a,l;return{left:t.pageX,top:t.pageY}}(e,t)).left-n.left+i.left,pageY:r.top-n.top+i.top};var n,i,r,o,s,a}(l,e)).pageX-p.relX,pageY:g.pageY+5});h=a.ghost,f=l.getBody(),h.parentNode!==f&&f.appendChild(h),t=a.ghost,n=v,i=a.width,r=a.height,o=a.maxX,s=a.maxY,d=c=0,t.style.left=n.pageX+"px",t.style.top=n.pageY+"px",n.pageX+i>o&&(c=n.pageX+i-o),n.pageY+r>s&&(d=n.pageY+r-s),t.style.width=i-c+"px",t.style.height=r-d+"px",u(e.clientX,e.clientY)}},h=p,f=e,r=function(e){if(h.dragging&&(o=3===(a=(r=f).selection.getSel().getRangeAt(0).startContainer).nodeType?a.parentNode:a)!==(s=h.element)&&!r.dom.isChildOf(o,s)&&!Wf(o)){var t=((i=h.element.cloneNode(!0)).removeAttribute("data-mce-selected"),i),n=f.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY});n.isDefaultPrevented()||(t=n.targetClone,f.undoManager.transact(function(){$f(h.element),f.insertContent(f.dom.getOuterHTML(t)),f._selectionOverrides.hideFakeCaret()}))}var i,r,o,s,a;Vf(h)},c=p,o=function(){Vf(c),c.dragging&&d.fire("dragend")},(d=e).on("mousedown",n),e.on("mousemove",i),e.on("mouseup",r),t.bind(s,"mousemove",i),t.bind(s,"mouseup",o),e.on("remove",function(){t.unbind(s,"mousemove",i),t.unbind(s,"mouseup",o)})},Kf=function(e){return Dt.reduce(e,function(e,t){return e.concat(function(e){var t=function(t){return Dt.map(t,function(t){return(t=Xo(t)).node=e,t})};if(Nr.isElement(e))return t(e.getClientRects());if(Nr.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}}(t))},[])};(zf=jf||(jf={}))[zf.Up=-1]="Up",zf[zf.Down=1]="Down";var Xf=function(e,t,n,i,r,o){var s,a,l=0,u=[],c=function(i){var o,s,c;for(c=Kf([i]),-1===e&&(c=c.reverse()),o=0;o<c.length;o++)if(s=c[o],!n(s,a)){if(0<u.length&&t(s,Dt.last(u))&&l++,s.line=l,r(s))return!0;u.push(s)}};return(a=Dt.last(o.getClientRects()))&&(c(s=o.getNode()),function(e,t,n,i){for(;i=Va(i,e,Yo,t);)if(n(i))return}(e,i,c,s)),u},Gf=b.curry(Xf,jf.Up,Qo,Zo),Jf=b.curry(Xf,jf.Down,Zo,Qo),Qf=function(e){return function(t){return n=e,t.line>n;var n}},Zf=function(e){return function(t){return n=e,t.line===n;var n}},ep=Nr.isContentEditableFalse,tp=Va,np=function(e,t){return Math.abs(e.left-t)},ip=function(e,t){return Math.abs(e.right-t)},rp=function(e,t){return e>=t.left&&e<=t.right},op=function(e,t){return Dt.reduce(e,function(e,n){var i,r;return i=Math.min(np(e,t),ip(e,t)),r=Math.min(np(n,t),ip(n,t)),rp(t,n)?n:rp(t,e)?e:r===i&&ep(n.node)?n:r<i?n:e})},sp=function(e,t,n,i){for(;i=tp(i,e,Yo,t);)if(n(i))return},ap=function(e,t,n){return!n.collapsed&&j.foldl(n.getClientRects(),function(n,i){return n||(s=t,(o=e)>=(r=i).left&&o<=r.right&&s>=r.top&&s<=r.bottom);var r,o,s},!1)},lp=function(e,t){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var i=arguments;null===n&&(n=setTimeout(function(){e.apply(null,i),i=n=null},t))}}},up={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return pe.mac?e.metaKey:e.ctrlKey&&!e.altKey}},cp=Nr.isContentEditableTrue,dp=Nr.isContentEditableFalse,hp=sl,fp=ol,pp=function(e,t){for(var n=e.getBody();t&&t!==n;){if(cp(t)||dp(t))return t;t=t.parentNode}return null},gp=function(e){var t,n,i,r=e.getBody(),o=Ma(e.getBody(),function(t){return e.dom.isBlock(t)},function(){return af(e)}),s="sel-"+e.dom.uniqueId(),a=function(t){t&&e.selection.setRng(t)},l=function(){return e.selection.getRng()},u=function(t,n,i,r){return void 0===r&&(r=!0),e.fire("ShowCaret",{target:n,direction:t,before:i}).isDefaultPrevented()?null:(r&&e.selection.scrollIntoView(n,-1===t),o.show(i,n))},c=function(e,t){return t=el(e,r,t),-1===e?Ds.fromRangeStart(t):Ds.fromRangeEnd(t)},d=function(e){return Ao(e)||Mo(e)||Ro(e)},h=function(e){return d(e.startContainer)||d(e.endContainer)},f=function(n,i){var r,o,a,l,d,f,p,m,v,b,y=e.$,_=e.dom;if(!n)return null;if(n.collapsed){if(!h(n))if(!1===i){if(m=c(-1,n),Ra(m.getNode(!0)))return u(-1,m.getNode(!0),!1,!1);if(Ra(m.getNode()))return u(-1,m.getNode(),!m.isAtEnd(),!1)}else{if(m=c(1,n),Ra(m.getNode()))return u(1,m.getNode(),!m.isAtEnd(),!1);if(Ra(m.getNode(!0)))return u(1,m.getNode(!0),!1,!1)}return null}return l=n.startContainer,d=n.startOffset,f=n.endOffset,3===l.nodeType&&0===d&&dp(l.parentNode)&&(l=l.parentNode,d=_.nodeIndex(l),l=l.parentNode),1!==l.nodeType?null:(f===d+1&&(r=l.childNodes[d]),dp(r)?(v=b=r.cloneNode(!0),(p=e.fire("ObjectSelected",{target:r,targetClone:v})).isDefaultPrevented()?null:(o=zu(Wn(e.getBody()),"#"+s).fold(function(){return y([])},function(e){return y([e.dom()])}),v=p.targetClone,0===o.length&&(o=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s)).appendTo(e.getBody()),n=e.dom.createRng(),v===b&&pe.ie?(o.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(v),n.setStartAfter(o[0].firstChild.firstChild),n.setEndAfter(v)):(o.empty().append("Â ").append(v).append("Â "),n.setStart(o[0].firstChild,1),n.setEnd(o[0].lastChild,0)),o.css({top:_.getPos(r,e.getBody()).y}),o[0].focus(),(a=e.selection.getSel()).removeAllRanges(),a.addRange(n),j.each(aa(Wn(e.getBody()),"*[data-mce-selected]"),function(e){ui(e,"data-mce-selected")}),r.setAttribute("data-mce-selected","1"),t=r,g(),n)):null)},p=function(){t&&(t.removeAttribute("data-mce-selected"),zu(Wn(e.getBody()),"#"+s).each(uu),t=null)},g=function(){o.hide()};return pe.ceFalse&&(function(){e.on("mouseup",function(t){var n=l();n.collapsed&&pf.isXYInContentArea(e,t.clientX,t.clientY)&&a(Ks(e,n,!1))}),e.on("click",function(t){var n;(n=pp(e,t.target))&&(dp(n)&&(t.preventDefault(),e.focus()),cp(n)&&e.dom.isChildOf(n,e.selection.getNode())&&p())}),e.on("blur NewBlock",function(){p()}),e.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition()});var n,i,c,d;i=!1,(n=e).on("touchstart",function(){i=!1}),n.on("touchmove",function(){i=!0}),n.on("touchend",function(e){var t=pp(n,e.target);dp(t)&&(i||(e.preventDefault(),f(Ys(n,t))))}),e.on("mousedown",function(t){var n,i=t.target;if((i===r||"HTML"===i.nodeName||e.dom.isChildOf(i,r))&&!1!==pf.isXYInContentArea(e,t.clientX,t.clientY))if(n=pp(e,i))dp(n)?(t.preventDefault(),f(Ys(e,n))):(p(),cp(n)&&t.shiftKey||ap(t.clientX,t.clientY,e.selection.getRng())||e.selection.placeCaretAt(t.clientX,t.clientY));else if(!1===Ra(i)){p(),g();var o=function(e,t,n){var i,r,o,s,a,l,u,c,d=Kf((r=e,Dt.filter(Dt.toArray(r.getElementsByTagName("*")),Ra))),h=Dt.filter(d,function(e){return n>=e.top&&n<=e.bottom});return(i=op(h,t))&&(i=op((a=e,c=function(e,t){var n;return n=Dt.filter(Kf([t]),function(t){return!e(t,l)}),u=u.concat(n),0===n.length},(u=[]).push(l=i),sp(jf.Up,a,b.curry(c,Qo),l.node),sp(jf.Down,a,b.curry(c,Zo),l.node),u),t))&&Ra(i.node)?(s=t,{node:(o=i).node,before:np(o,s)<ip(o,s)}):null}(r,t.clientX,t.clientY);if(o&&!function(t,n){var i,r,o=e.dom.getParent(t,e.dom.isBlock),s=e.dom.getParent(n,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,s)||!1!==dp(pp(e,o)))||o&&(i=o,r=s,!(e.dom.getParent(i,e.dom.isBlock)===e.dom.getParent(r,e.dom.isBlock)))&&function(e){var t=Cl(e);if(!e.firstChild)return!1;var n=Ds.before(e.firstChild),i=t.next(n);return i&&!fp(i)&&!hp(i)}(o)}(t.target,o.node)){t.preventDefault();var s=u(1,o.node,o.before,!1);e.getBody().focus(),a(s)}}}),e.on("keypress",function(t){up.modifierPressed(t)||(t.keyCode,dp(e.selection.getNode())&&t.preventDefault())}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){var t;(t=f(e.range,e.forward))&&(e.range=t)}),e.on("AfterSetSelectionRange",function(t){var n,i=t.range;h(i)||g(),n=i.startContainer.parentNode,e.dom.hasClass(n,"mce-offscreen-selection")||p()}),e.on("copy",function(t){var n,i=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!pe.ie){var r=(n=e.dom.get(s))?n.getElementsByTagName("*")[0]:n;r&&(t.preventDefault(),i.clearData(),i.setData("text/html",r.outerHTML),i.setData("text/plain",r.outerText))}}),function(e){var t;Yf(e),(t=e).on("drop",function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(Wf(n)||Wf(t.dom.getContentEditableParent(n)))&&e.preventDefault()})}(e),c=e,d=lp(function(){if(!c.removed&&c.selection.getRng().collapsed){var e=Xs(c,c.selection.getRng(),!1);c.selection.setRng(e)}},0),c.on("focus",function(){d.throttle()}),c.on("blur",function(){d.cancel()})}(),i=".mce-content-body",(n=e.contentStyles).push(o.getCss()),n.push(i+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+i+" *[contentEditable=false] {cursor: default;}"+i+" *[contentEditable=true] {cursor: text;}")),{showCaret:u,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(Bo(t),a(l()),e.selection.scrollIntoView(t[0]))},hideFakeCaret:g,destroy:function(){o.destroy(),t=null}}},mp=Mt.each,vp=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},bp=function(e){return e.replace(/<!--|-->/g,"")},yp=function(e,t,n){var i,r,o,s,a=1;for(s=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])a--;else if(!r[1]){if(r[2]in s)continue;a++}if(0===a)break}return i};function _p(e,t){void 0===t&&(t=Zr());var n=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0),mp("comment cdata text start end pi doctype".split(" "),function(t){t&&(self[t]=e[t]||n)});var i=e.comment?e.comment:n,r=e.cdata?e.cdata:n,o=e.text?e.text:n,s=e.start?e.start:n,a=e.end?e.end:n,l=e.pi?e.pi:n,u=e.doctype?e.doctype:n;return{parse:function(n){var c,d,h,f,p,g,m,v,b,y,_,w,x,C,k,T,E,S,N,D,A,I,P,O,M,R,B,L,F,H=0,j=[],z=0,q=qr.decode,W=Mt.makeMap("src,href,data,background,formaction,poster"),U=/((java|vb)script|mhtml):/i,$=/^data:/i,V=function(e){var t,n;for(t=j.length;t--&&j[t].name!==e;);if(0<=t){for(n=j.length-1;t<=n;n--)(e=j[n]).valid&&a(e.name);j.length=t}},Y=function(t,n,i,r,o){var s,a;if(i=(n=n.toLowerCase())in _?n:q(i||r||o||""),x&&!v&&!1===vp(n)){if(!(s=S[n])&&N){for(a=N.length;a--&&!(s=N[a]).pattern.test(n););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if(W[n]&&!e.allow_script_urls){var l=i.replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch(e){l=unescape(l)}if(U.test(l))return;if(!e.allow_html_data_urls&&$.test(l)&&!/^data:image\//i.test(l))return}v&&(n in W||0===n.indexOf("on"))||(f.map[n]=i,f.push({name:n,value:i}))};for(M=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),R=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,y=t.getShortEndedElements(),O=e.self_closing_elements||t.getSelfClosingElements(),_=t.getBoolAttrs(),x=e.validate,b=e.remove_internals,F=e.fix_self_closing,B=t.getSpecialElements(),P=n+">";c=M.exec(P);){if(H<c.index&&o(q(n.substr(H,c.index-H))),d=c[6])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),V(d);else if(d=c[7]){if(c.index+c[0].length>n.length){o(q(n.substr(c.index))),H=c.index+c[0].length;continue}if(":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),w=d in y,F&&O[d]&&0<j.length&&j[j.length-1].name===d&&V(d),!x||(C=t.getElementRule(d))){if(k=!0,x&&(S=C.attributes,N=C.attributePatterns),(E=c[8])?((v=-1!==E.indexOf("data-mce-type"))&&b&&(k=!1),(f=[]).map={},E.replace(R,Y)):(f=[]).map={},x&&!v){if(D=C.attributesRequired,A=C.attributesDefault,I=C.attributesForced,C.removeEmptyAttrs&&!f.length&&(k=!1),I)for(p=I.length;p--;)m=(T=I[p]).name,"{$uid}"===(L=T.value)&&(L="mce_"+z++),f.map[m]=L,f.push({name:m,value:L});if(A)for(p=A.length;p--;)(m=(T=A[p]).name)in f.map||("{$uid}"===(L=T.value)&&(L="mce_"+z++),f.map[m]=L,f.push({name:m,value:L}));if(D){for(p=D.length;p--&&!(D[p]in f.map););-1===p&&(k=!1)}if(T=f.map["data-mce-bogus"]){if("all"===T){H=yp(t,n,M.lastIndex),M.lastIndex=H;continue}k=!1}}k&&s(d,f,w)}else k=!1;if(h=B[d]){h.lastIndex=H=c.index+c[0].length,(c=h.exec(n))?(k&&(g=n.substr(H,c.index-H)),H=c.index+c[0].length):(g=n.substr(H),H=n.length),k&&(0<g.length&&o(g,!0),a(d)),M.lastIndex=H;continue}w||(E&&E.indexOf("/")===E.length-1?k&&a(d):j.push({name:d,valid:k}))}else(d=c[1])?(">"===d.charAt(0)&&(d=" "+d),e.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),i(d)):(d=c[2])?r(bp(d)):(d=c[3])?u(d):(d=c[4])&&l(d,c[5]);H=c.index+c[0].length}for(H<n.length&&o(q(n.substr(H))),p=j.length-1;0<=p;p--)(d=j[p]).valid&&a(d.name)}}}(_p||(_p={})).findEndTag=yp;var wp=_p,xp=function(e,t){var n,i,r,o,s,a,l,u,c=t,d=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,h=e.schema;for(a=e.getTempAttrs(),l=c,u=new RegExp(["\\s?("+a.join("|")+')="[^"]+"'].join("|"),"gi"),c=l.replace(u,""),s=h.getShortEndedElements();o=d.exec(c);)i=d.lastIndex,r=o[0].length,n=s[o[1]]?i:wp.findEndTag(h,c,i),c=c.substring(0,i-r)+c.substring(n),d.lastIndex=i-r;return To(c)},Cp=xp,kp=xp,Tp=function(e){return Nr.isElement(e)?e.outerHTML:Nr.isText(e)?qr.encodeRaw(e.data,!1):Nr.isComment(e)?"\x3c!--"+e.data+"--\x3e":""},Ep=function(e,t){var n,i,r;return n=function(e,t){var n=e.length+t.length+2,i=new Array(n),r=new Array(n),o=function(n,i,r,s,l){var u=a(n,i,r,s);if(null===u||u.start===i&&u.diag===i-s||u.end===n&&u.diag===n-r)for(var c=n,d=r;c<i||d<s;)c<i&&d<s&&e[c]===t[d]?(l.push([0,e[c]]),++c,++d):s-r<i-n?(l.push([2,e[c]]),++c):(l.push([1,t[d]]),++d);else{o(n,u.start,r,u.start-u.diag,l);for(var h=u.start;h<u.end;++h)l.push([0,e[h]]);o(u.end,i,u.end-u.diag,s,l)}},s=function(n,i,r,o){for(var s=n;s-i<o&&s<r&&e[s]===t[s-i];)++s;return{start:n,end:s,diag:i}},a=function(n,o,a,l){var u=o-n,c=l-a;if(0===u||0===c)return null;var d,h,f,p,g,m=u-c,v=c+u,b=(v%2==0?v:v+1)/2;for(i[1+b]=n,r[1+b]=o+1,d=0;d<=b;++d){for(h=-d;h<=d;h+=2){for(f=h+b,h===-d||h!==d&&i[f-1]<i[f+1]?i[f]=i[f+1]:i[f]=i[f-1]+1,g=(p=i[f])-n+a-h;p<o&&g<l&&e[p]===t[g];)i[f]=++p,++g;if(m%2!=0&&m-d<=h&&h<=m+d&&r[f-m]<=i[f])return s(r[f-m],h+n-a,o,l)}for(h=m-d;h<=m+d;h+=2){for(f=h+b-m,h===m-d||h!==m+d&&r[f+1]<=r[f-1]?r[f]=r[f+1]-1:r[f]=r[f-1],g=(p=r[f]-1)-n+a-h;n<=p&&a<=g&&e[p]===t[g];)r[f]=p--,g--;if(m%2==0&&-d<=h&&h<=d&&r[f]<=i[f+m])return s(r[f],h+n-a,o,l)}}},l=[];return o(0,e.length,0,t.length,l),l}(Dt.map(t.childNodes,Tp),e),i=t,r=0,Dt.each(n,function(e){0===e[0]?r++:1===e[0]?(function(e,t,n){var i=function(e){var t,n,i;for(i=document.createElement("div"),t=document.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t}(t);if(e.hasChildNodes()&&n<e.childNodes.length){var r=e.childNodes[n];r.parentNode.insertBefore(i,r)}else e.appendChild(i)}(i,e[1],r),r++):2===e[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(i,r)}),t},Sp=function(e){return e.dom().innerHTML},Np=function(e,t){var n=Pi(e).dom(),i=Wn(n.createDocumentFragment()),r=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,ji(Wn(n))}(t,n);su(i,r),lu(e),_a(e,i)},Dp=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},Ap=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Ip=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Pp=function(e){var t=zn("body");return Np(t,Ip(e)),j.each(aa(t,"*[data-mce-bogus]"),cu),Sp(t)},Op={createFragmentedLevel:Dp,createCompleteLevel:Ap,createFromEditor:function(e){var t,n,i;return t=function(e){return Dt.filter(Dt.map(e.childNodes,Tp),function(e){return 0<e.length})}(e.getBody()),-1!==(n=(i=j.bind(t,function(t){var n=kp(e.serializer,t);return 0<n.length?[n]:[]})).join("")).indexOf("</iframe>")?Dp(i):Ap(n)},applyToEditor:function(e,t,n){"fragmented"===t.type?Ep(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return!(!e||!t)&&(i=t,Ip(e)===Ip(i)||(n=t,Pp(e)===Pp(n)));var n,i}};function Mp(e){var t,n,i=this,r=0,o=[],s=0,a=function(){return 0===s},l=function(e){a()&&(i.typing=e)},u=function(t){e.setDirty(t)},c=function(e){l(!1),i.add({},e)},d=function(){i.typing&&(l(!1),i.add())};return e.on("init",function(){i.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(d(),i.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&c(e)}),e.on("ObjectResizeStart Cut",function(){i.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("DragEnd",c),e.on("KeyUp",function(t){var r=t.keyCode;t.isDefaultPrevented()||((33<=r&&r<=36||37<=r&&r<=40||45===r||t.ctrlKey)&&(c(),e.nodeChanged()),46!==r&&8!==r||e.nodeChanged(),n&&i.typing&&!1===Op.isEq(Op.createFromEditor(e),o[0])&&(!1===e.isDirty()&&(u(!0),e.fire("change",{level:o[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)i.typing&&c(e);else{var r=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||i.typing||r||(i.beforeChange(),l(!0),i.add({},e),n=!0)}}),e.on("MouseDown",function(e){i.typing&&c(e)}),e.on("input",function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data)&&c(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),i={data:o,typing:!1,beforeChange:function(){a()&&(t=Yl.getUndoBookmark(e.selection))},add:function(n,i){var s,l,c,d=e.settings;if(c=Op.createFromEditor(e),n=n||{},n=Mt.extend(n,c),!1===a()||e.removed)return null;if(l=o[r],e.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:i}).isDefaultPrevented())return null;if(l&&Op.isEq(l,n))return null;if(o[r]&&(o[r].beforeBookmark=t),d.custom_undo_redo_levels&&o.length>d.custom_undo_redo_levels){for(s=0;s<o.length-1;s++)o[s]=o[s+1];o.length--,r=o.length}n.bookmark=Yl.getUndoBookmark(e.selection),r<o.length-1&&(o.length=r+1),o.push(n),r=o.length-1;var h={level:n,lastLevel:l,originalEvent:i};return e.fire("AddUndo",h),0<r&&(u(!0),e.fire("change",h)),n},undo:function(){var t;return i.typing&&(i.add(),i.typing=!1,l(!1)),0<r&&(t=o[--r],Op.applyToEditor(e,t,!0),u(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return r<o.length-1&&(t=o[++r],Op.applyToEditor(e,t,!1),u(!0),e.fire("redo",{level:t})),t},clear:function(){o=[],r=0,i.typing=!1,i.data=o,e.fire("ClearUndos")},hasUndo:function(){return 0<r||i.typing&&o[0]&&!Op.isEq(Op.createFromEditor(e),o[0])},hasRedo:function(){return r<o.length-1&&!i.typing},transact:function(e){return d(),i.beforeChange(),i.ignore(e),i.add()},ignore:function(e){try{s++,e()}finally{s--}},extra:function(t,n){var s,a;i.transact(t)&&(a=o[r].bookmark,s=o[r-1],Op.applyToEditor(e,s,!0),i.transact(n)&&(o[r-1].beforeBookmark=a))}}}var Rp,Bp=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Lp=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Fp=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},Hp=function(e,t,n){var i,r,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!Bp(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(o=a.childNodes).length?i=new ir(a=o[s],e.getParent(a,e.isBlock)):(i=new ir(a=o[o.length-1],e.getParent(a,e.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!Lp(r))return n.setStart(r,0),void t.setRng(n)},jp=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!Lp(e))return e},zp=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},qp=function(e,t,n){return e.schema.isValidChild(t,n)},Wp=Lp,Up=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},$p=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Vp=Fp,Yp=function(e,t,n){return Fp(e,e.getStyle(t,n),n)},Kp=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},Xp=function(e,t,n){return e.getParents(t,n,e.getRoot())},Gp=iu.isBookmarkNode,Jp=Xp,Qp=Wp,Zp=zp,eg=function(e,t){for(void 0===t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},tg=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},ng=function(e,t,n,i){var r,o,s=n.nodeValue;return void 0===i&&(i=e?s.length:0),e?(r=s.lastIndexOf(" ",i),-1===(r=(o=s.lastIndexOf("Â ",i))<r?r:o)||t||r++):(r=s.indexOf(" ",i),o=s.indexOf("Â ",i),r=-1!==r&&(-1===o||r<o)?r:o),r},ig=function(e,t,n,i,r,o){var s,a,l,u;if(3===n.nodeType){if(-1!==(l=ng(r,o,n,i)))return{container:n,offset:l};u=n}for(s=new ir(n,e.getParent(n,e.isBlock)||t);a=s[r?"prev":"next"]();)if(3===a.nodeType){if(-1!==(l=ng(r,o,u=a)))return{container:a,offset:l}}else if(e.isBlock(a))break;if(u)return{container:u,offset:i=r?0:u.length}},rg=function(e,t,n,i,r){var o,s,a,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=Jp(e,i),s=0;s<o.length;s++)for(a=0;a<t.length;a++)if(!("collapsed"in(l=t[a])&&l.collapsed!==n.collapsed)&&e.is(o[s],l.selector))return o[s];return i},og=function(e,t,n,i){var r,o=e.dom,s=o.getRoot();if(t[0].wrapper||(r=o.getParent(n,t[0].block,s)),!r){var a=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==s&&Zp(e,t)},a)}if(r&&t[0].wrapper&&(r=Jp(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!$p(r,"br")););return r||n},sg=function(e,t,n,i,r,o,s){var a,l,u,c,d,h;if(a=l=s?n:r,c=s?"previousSibling":"nextSibling",d=e.getRoot(),3===a.nodeType&&!Qp(a)&&(s?0<i:o<a.nodeValue.length))return a;for(;;){if(!t[0].block_expand&&e.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!Gp(u)&&!Qp(u)&&("BR"!==(h=u).nodeName||!h.getAttribute("data-mce-bogus")||h.nextSibling))return l;if(l===d||l.parentNode===d){a=l;break}l=l.parentNode}return a},ag=function(e,t,n,i){var r,o=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset,u=e.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=ts(o,s)).nodeType&&(s=0),1===a.nodeType&&a.hasChildNodes()&&3===(a=ts(a,t.collapsed?l:l-1)).nodeType&&(l=a.nodeValue.length),o=tg(u,o),a=tg(u,a),(Gp(o.parentNode)||Gp(o))&&3===(o=(o=Gp(o)?o:o.parentNode).nextSibling||o).nodeType&&(s=0),(Gp(a.parentNode)||Gp(a))&&3===(a=(a=Gp(a)?a:a.parentNode).previousSibling||a).nodeType&&(l=a.length),n[0].inline&&(t.collapsed&&((r=ig(u,e.getBody(),o,s,!0,i))&&(o=r.container,s=r.offset),(r=ig(u,e.getBody(),a,l,!1,i))&&(a=r.container,l=r.offset)),a=i?a:function(e,t){var n=eg(e,l);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=eg(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(e=n.node).splitText(n.offset-1)}return e}(a)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==s||(o=sg(u,n,o,s,a,l,!0)),n[0].inline&&3===a.nodeType&&l!==a.nodeValue.length||(a=sg(u,n,o,s,a,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=rg(u,n,t,o,"previousSibling"),a=rg(u,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=og(e,n,o,"previousSibling"),a=og(e,n,a,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=sg(u,n,o,s,a,l,!0)),u.isBlock(a)||(a=sg(u,n,o,s,a,l,!1)))),1===o.nodeType&&(s=u.nodeIndex(o),o=o.parentNode),1===a.nodeType&&(l=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:s,endContainer:a,endOffset:l}},lg=$p,ug=function(e,t,n){var i=e.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&e.dom.is(t,i[r].selector))return!0;return!1},cg=function(e,t,n,i){var r=e.dom.getRoot();return t!==r&&(t=e.dom.getParent(t,function(t){return!!ug(e,t,n)||t.parentNode===r||!!fg(e,t,n,i,!0)}),fg(e,t,n,i))},dg=function(e,t,n){return!!lg(t,n.inline)||!!lg(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},hg=function(e,t,n,i,r,o){var s,a,l,u=n[i];if(n.onmatch)return n.onmatch(t,n,i);if(u)if(void 0===u.length){for(s in u)if(u.hasOwnProperty(s)){if(a="attributes"===i?e.getAttrib(t,s):Yp(e,t,s),r&&!a&&!n.exact)return;if((!r||n.exact)&&!lg(a,Vp(e,Up(u[s],o),s)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?e.getAttrib(t,u[l]):Yp(e,t,u[l]))return n;return n},fg=function(e,t,n,i,r){var o,s,a,l,u=e.formatter.get(n),c=e.dom;if(u&&t)for(s=0;s<u.length;s++)if(o=u[s],dg(e.dom,t,o)&&hg(c,t,o,"attributes",r,i)&&hg(c,t,o,"styles",r,i)){if(l=o.classes)for(a=0;a<l.length;a++)if(!e.dom.hasClass(t,l[a]))return;return o}},pg={matchNode:fg,matchName:dg,match:function(e,t,n,i){var r;return i?cg(e,i,t,n):(i=e.selection.getNode(),!!cg(e,i,t,n)||!((r=e.selection.getStart())===i||!cg(e,r,t,n)))},matchAll:function(e,t,n){var i,r=[],o={};return i=e.selection.getStart(),e.dom.getParent(i,function(i){var s,a;for(s=0;s<t.length;s++)a=t[s],!o[a]&&fg(e,i,a,n)&&(o[a]=!0,r.push(a))},e.dom.getRoot()),r},canApply:function(e,t){var n,i,r,o,s,a=e.formatter.get(t),l=e.dom;if(a)for(n=e.selection.getStart(),i=Xp(l,n),o=a.length-1;0<=o;o--){if(!(s=a[o].selector)||a[o].defaultBlock)return!0;for(r=i.length-1;0<=r;r--)if(l.is(i[r],s))return!0}return!1},matchesUnInheritedFormatSelector:ug},gg=function(e,t){return e.splitText(t)},mg={split:function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;return t===i&&Nr.isText(t)?0<n&&n<t.nodeValue.length&&(t=(i=gg(t,n)).previousSibling,n<r?(t=i=gg(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(Nr.isText(t)&&0<n&&n<t.nodeValue.length&&(t=gg(t,n),n=0),Nr.isText(i)&&0<r&&r<i.nodeValue.length&&(r=(i=gg(i,r).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:r}}},vg=ko,bg="_mce_caret",yg=function(e){var t;if(e)for(e=(t=new ir(e,e)).current();e;e=t.next())if(3===e.nodeType)return e;return null},_g=function(e){var t=zn("span");return ai(t,{id:bg,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&_a(t,qn(vg)),t},wg=function(e,t,n,i){var r,o,s,a;r=t.getRng(!0),o=e.getParent(n,e.isBlock),function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==vg||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length}(n)?(!1!==i&&(r.setStartBefore(n),r.setEndBefore(n)),e.remove(n)):((a=yg(n))&&a.nodeValue.charAt(0)===vg&&a.deleteData(0,1),s=a,r.startContainer===s&&0<r.startOffset&&r.setStart(s,r.startOffset-1),r.endContainer===s&&0<r.endOffset&&r.setEnd(s,r.endOffset-1),e.remove(n,!0)),o&&e.isEmpty(o)&&hu(Wn(o)),t.setRng(r)},xg=function(e,t,n,i,r){if(i)wg(t,n,i,r);else if(!(i=Gl(e,n.getStart())))for(;i=t.get(bg);)wg(t,n,i,!1)},Cg=function(e,t,n){var i=e.dom,r=i.getParent(n,ss.curry(zp,e));r&&i.isEmpty(r)?n.parentNode.replaceChild(t,n):(function(e){var t=aa(e,"br"),n=j.filter(function(e){for(var t=[],n=e.dom();n;)t.push(Wn(n)),n=n.lastChild;return t}(e).slice(-1),dr);t.length===n.length&&j.each(n,uu)}(Wn(n)),i.isEmpty(n)?n.parentNode.replaceChild(t,n):i.insertAfter(t,n))},kg=function(e,t){return e.appendChild(t),t},Tg=function(e,t){var n=j.foldr(e,function(e,t){return kg(e,t.cloneNode(!1))},t);return kg(n,n.ownerDocument.createTextNode(vg))},Eg=function(e){var t=e.dom,n=e.selection,i=e.getBody();e.on("mouseup keydown",function(e){var r,o,s,a;r=i,o=t,s=n,a=e.keyCode,xg(r,o,s,null,!1),8===a&&s.isCollapsed()&&s.getStart().innerHTML===vg&&xg(r,o,s,Gl(r,s.getStart())),37!==a&&39!==a||xg(r,o,s,Gl(r,s.getStart()))})},Sg=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Gn.name(t))&&!Xl(t.dom())&&!Nr.isBogus(t.dom())},Ng={},Dg=Dt.filter,Ag=Dt.each;Rp=function(e){var t,n,i=e.selection.getRng();t=Nr.matchNodeNames("pre"),i.collapsed||(n=e.selection.getSelectedBlocks(),Ag(Dg(Dg(n,t),function(e){return t(e.previousSibling)&&-1!==Dt.indexOf(n,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,Zt(n=e).remove(),Zt(t).append("<br><br>").append(n.childNodes)}))},Ng["pre"]||(Ng.pre=[]),Ng.pre.push(Rp);var Ig=Mt.each,Pg={walk:function(e,t,n){var i,r,o,s,a,l,u,c=t.startContainer,d=t.startOffset,h=t.endContainer,f=t.endOffset;if(0<(u=e.select("td[data-mce-selected],th[data-mce-selected]")).length)Ig(u,function(e){n([e])});else{var p,g,m,v=function(e){var t;return 3===(t=e[0]).nodeType&&t===c&&d>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===f&&0<e.length&&t===h&&3===t.nodeType&&e.splice(e.length-1,1),e},b=function(e,t,n){for(var i=[];e&&e!==n;e=e[t])i.push(e);return i},y=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},_=function(e,t,i){var r=i?"nextSibling":"previousSibling";for(a=(s=e).parentNode;s&&s!==t;s=a)a=s.parentNode,(l=b(s===e?s:s[r],r)).length&&(i||l.reverse(),n(v(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[d]),1===h.nodeType&&h.hasChildNodes()&&(g=f,--g>(m=(p=h).childNodes).length-1?g=m.length-1:g<0&&(g=0),h=m[g]||p),c===h)return n(v([c]));for(i=e.findCommonAncestor(c,h),s=c;s;s=s.parentNode){if(s===h)return _(c,i,!0);if(s===i)break}for(s=h;s;s=s.parentNode){if(s===c)return _(h,i);if(s===i)break}r=y(c,i)||c,o=y(h,i)||h,_(c,r,!0),(l=b(r===c?r:r.nextSibling,"nextSibling",o===h?o.nextSibling:o)).length&&n(v(l)),_(h,o)}}},Og=/^(src|href|style)$/,Mg=Mt.each,Rg=$p,Bg=function(e){return/^(TH|TD)$/.test(e.nodeName)},Lg=function(e,t,n){var i,r,o;return i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],Nr.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[o<r?o:r]),Nr.isText(i)&&n&&r>=i.nodeValue.length&&(i=new ir(i,e.getBody()).next()||i),Nr.isText(i)&&!n&&0===r&&(i=new ir(i,e.getBody()).prev()||i),i},Fg=function(e,t,n,i){var r=e.create(n,i);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},Hg=function(e,t,n,i){return!(t=jp(t,n,i))||"BR"===t.nodeName||e.isBlock(t)},jg=function(e,t,n,i,r){var o,s,a,l,u,c,d,h,f,p,g,m,v,b,y=e.dom;if(u=y,!(Rg(c=i,(d=t).inline)||Rg(c,d.block)||(d.selector?Nr.isElement(c)&&u.is(c,d.selector):void 0)||(l=i,t.links&&"A"===l.tagName)))return!1;if("all"!==t.remove)for(Mg(t.styles,function(e,o){e=Vp(y,Up(e,n),o),"number"==typeof o&&(o=e,r=0),(t.remove_similar||!r||Rg(Yp(y,r,o),e))&&y.setStyle(i,o,""),a=1}),a&&""===y.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),Mg(t.attributes,function(e,t){var o;if(e=Up(e,n),"number"==typeof t&&(t=e,r=0),!r||Rg(y.getAttrib(r,t),e)){if("class"===t&&(e=y.getAttrib(i,t))&&(o="",Mg(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o))return void y.setAttrib(i,t,o);"class"===t&&i.removeAttribute("className"),Og.test(t)&&i.removeAttribute("data-mce-"+t),i.removeAttribute(t)}}),Mg(t.classes,function(e){e=Up(e,n),r&&!y.hasClass(r,e)||y.removeClass(i,e)}),s=y.getAttribs(i),o=0;o<s.length;o++){var _=s[o].nodeName;if(0!==_.indexOf("_")&&0!==_.indexOf("data-"))return!1}return"none"!==t.remove?(h=e,p=t,m=(f=i).parentNode,v=h.dom,b=h.settings.forced_root_block,p.block&&(b?m===v.getRoot()&&(p.list_block&&Rg(f,p.list_block)||Mg(Mt.grep(f.childNodes),function(e){qp(h,b,e.nodeName.toLowerCase())?g?g.appendChild(e):(g=Fg(v,e,b),v.setAttribs(g,h.settings.forced_root_block_attrs)):g=0})):v.isBlock(f)&&!v.isBlock(m)&&(Hg(v,f,!1)||Hg(v,f.firstChild,!0,1)||f.insertBefore(v.create("br"),f.firstChild),Hg(v,f,!0)||Hg(v,f.lastChild,!1,1)||f.appendChild(v.create("br")))),p.selector&&p.inline&&!Rg(p.inline,f)||v.remove(f,1),!0):void 0},zg={removeFormat:jg,remove:function(e,t,n,i,r){var o,s,a=e.formatter.get(t),l=a[0],u=!0,c=e.dom,d=e.selection,h=function(i){var o,s,u,c,d,h,f=(s=i,u=t,c=n,d=r,Mg(Xp((o=e).dom,s.parentNode).reverse(),function(e){var t;h||"_start"===e.id||"_end"===e.id||(t=pg.matchNode(o,e,u,c,d))&&!1!==t.split&&(h=e)}),h);return function(e,t,n,i,r,o,s,a){var l,u,c,d,h,f,p=e.dom;if(n){for(f=n.parentNode,l=i.parentNode;l&&l!==f;l=l.parentNode){for(u=p.clone(l,!1),h=0;h<t.length;h++)if(jg(e,t[h],a,u,u)){u=0;break}u&&(c&&u.appendChild(c),d||(d=u),c=u)}s.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(r.parentNode.insertBefore(c,r),d.appendChild(r))}return i}(e,a,f,i,i,0,l,n)},f=function(t){var i,r,o,s,d;if(Nr.isElement(t)&&c.getContentEditable(t)&&(s=u,u="true"===c.getContentEditable(t),d=!0),i=Mt.grep(t.childNodes),u&&!d)for(r=0,o=a.length;r<o&&!jg(e,a[r],n,t,t);r++);if(l.deep&&i.length){for(r=0,o=i.length;r<o;r++)f(i[r]);d&&(u=s)}},p=function(e){var t=c.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return iu.isBookmarkNode(n)&&(n=n[e?"firstChild":"lastChild"]),Nr.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),c.remove(t,!0),n},g=function(t){var n,i,r=t.commonAncestorContainer;if(t=ag(e,t,a,!0),l.split){if((n=Lg(e,t,!0))!==(i=Lg(e,t))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&Bg(i)&&i.firstChild&&(i=i.firstChild||i),c.isChildOf(n,i)&&n!==i&&!c.isBlock(i)&&!Bg(n)&&!Bg(i))return n=Fg(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),h(n),void(n=p(!0));n=Fg(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=Fg(c,i,"span",{id:"_end","data-mce-type":"bookmark"}),h(n),h(i),n=p(!0),i=p()}else n=i=h(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=c.nodeIndex(n),t.endContainer=i.parentNode?i.parentNode:i,t.endOffset=c.nodeIndex(i)+1}Pg.walk(c,t,function(t){Mg(t,function(t){f(t),Nr.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===Kp(c,t.parentNode)&&jg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(i)i.nodeType?((s=c.createRng()).setStartBefore(i),s.setEndAfter(i),g(s)):g(i);else if("false"!==c.getContentEditable(d.getNode()))d.isCollapsed()&&l.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?function(e,t,n,i){var r,o,s,a,l,u,c,d=e.dom,h=e.selection,f=[],p=h.getRng();for(r=p.startContainer,o=p.startOffset,3===(l=r).nodeType&&(o!==r.nodeValue.length&&(a=!0),l=l.parentNode);l;){if(pg.matchNode(e,l,t,n,i)){u=l;break}l.nextSibling&&(a=!0),f.push(l),l=l.parentNode}if(u)if(a){s=h.getBookmark(),p.collapse(!0);var g=ag(e,p,e.formatter.get(t),!0);g=mg.split(g),e.formatter.remove(t,n,g),h.moveToBookmark(s)}else{c=Gl(e.getBody(),u);var m=_g(!1).dom(),v=Tg(f,m);Cg(e,m,c||u),wg(d,h,c,!1),h.setCursorLocation(v,1),d.isEmpty(u)&&d.remove(u)}}(e,t,n,r):(o=Yl.getPersistentBookmark(e.selection,!0),g(d.getRng()),d.moveToBookmark(o),l.inline&&pg.match(e,t,n,d.getStart())&&Hp(c,d,d.getRng()),e.nodeChanged());else{i=d.getNode();for(var m=0,v=a.length;m<v&&(!a[m].ceFalseOverride||!jg(e,a[m],n,i,i));m++);}}},qg=Mt.each,Wg=function(e){return e&&1===e.nodeType&&!iu.isBookmarkNode(e)&&!Xl(e)&&!Nr.isBogus(e)},Ug=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!iu.isBookmarkNode(n))return n}return e},$g=function(e,t,n){var i,r,o=new ou(e);if(t&&n&&(t=Ug(t,"previousSibling"),n=Ug(n,"nextSibling"),o.compare(t,n))){for(i=t.nextSibling;i&&i!==n;)i=(r=i).nextSibling,t.appendChild(r);return e.remove(n),Mt.each(Mt.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},Vg=function(e,t,n){qg(e.childNodes,function(e){Wg(e)&&(t(e)&&n(e),e.hasChildNodes()&&Vg(e,t,n))})},Yg=function(e,t){return b.curry(function(t,n){return!(!n||!Yp(e,n,t))},t)},Kg=function(e,t,n){return b.curry(function(t,n,i){e.setStyle(i,t,n),""===i.getAttribute("style")&&i.removeAttribute("style"),Xg(e,i)},t,n)},Xg=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Gg=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=Kp(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Jg=Mt.each,Qg=function(e,t,n,i){var r,o,s=e.formatter.get(t),a=s[0],l=!i&&e.selection.isCollapsed(),u=e.dom,c=e.selection,d=function(e,t){if(t=t||a,e){if(t.onformat&&t.onformat(e,t,n,i),Jg(t.styles,function(t,i){u.setStyle(e,i,Up(t,n))}),t.styles){var r=u.getAttrib(e,"style");r&&e.setAttribute("data-mce-style",r)}Jg(t.attributes,function(t,i){u.setAttrib(e,i,Up(t,n))}),Jg(t.classes,function(t){t=Up(t,n),u.hasClass(e,t)||u.addClass(e,t)})}},h=function(e,t){var n=!1;return!!a.selector&&(Jg(e,function(e){if(!("collapsed"in e&&e.collapsed!==l))return u.is(t,e.selector)&&!Xl(t)?(d(t,e),!(n=!0)):void 0}),n)},f=function(i,r,o,l){var u,c,f=[],p=!0;u=a.inline||a.block,c=i.create(u),d(c),Pg.walk(i,r,function(r){var o,g=function(r){var m,v,b,y;if(y=p,m=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&i.getContentEditable(r)&&(y=p,p="true"===i.getContentEditable(r),b=!0),$p(m,"br"))return o=0,void(a.block&&i.remove(r));if(a.wrapper&&pg.matchNode(e,r,t,n))o=0;else{if(p&&!b&&a.block&&!a.wrapper&&zp(e,m)&&qp(e,v,u))return r=i.rename(r,u),d(r),f.push(r),void(o=0);if(a.selector){var _=h(s,r);if(!a.inline||_)return void(o=0)}!p||b||!qp(e,u,m)||!qp(e,v,u)||!l&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||Xl(r)||a.inline&&i.isBlock(r)?(o=0,Jg(Mt.grep(r.childNodes),g),b&&(p=y),o=0):(o||(o=i.clone(c,!1),r.parentNode.insertBefore(o,r),f.push(o)),o.appendChild(r))}};Jg(r,g)}),!0===a.links&&Jg(f,function(e){var t=function(e){"A"===e.nodeName&&d(e,a),Jg(Mt.grep(e.childNodes),t)};t(e)}),Jg(f,function(r){var o,l,u,c,h;l=0,Jg(r.childNodes,function(e){Wp(e)||iu.isBookmarkNode(e)||l++}),o=l,!(1<f.length)&&i.isBlock(r)||0!==o?(a.inline||a.wrapper)&&(a.exact||1!==o||((c=function(e){var t=!1;return Jg(e.childNodes,function(e){if((n=e)&&1===n.nodeType&&!iu.isBookmarkNode(n)&&!Xl(n)&&!Nr.isBogus(n))return t=e,!1;var n}),t}(u=r))&&!iu.isBookmarkNode(c)&&pg.matchName(i,c,a)&&(h=i.clone(c,!1),d(h),i.replace(h,u,!0),i.remove(c,1)),r=h||u),function(e,t,n,i){qg(t,function(t){qg(e.dom.select(t.inline,i),function(i){Wg(i)&&zg.removeFormat(e,t,n,i,t.exact?i:null)}),function(e,t,n){if(t.clear_child_styles){var i=t.links?"*:not(a)":"*";qg(e.select(i,n),function(n){Wg(n)&&qg(t.styles,function(t,i){e.setStyle(n,i,"")})})}}(e.dom,t,i)})}(e,s,n,r),function(e,t,n,i,r){pg.matchNode(e,r.parentNode,n,i)&&zg.removeFormat(e,t,i,r)||t.merge_with_parents&&e.dom.getParent(r.parentNode,function(o){if(pg.matchNode(e,o,n,i))return zg.removeFormat(e,t,i,r),!0})}(e,a,t,n,r),function(e,t,n,i){t.styles&&t.styles.backgroundColor&&Vg(i,Yg(e,"fontSize"),Kg(e,"backgroundColor",Up(t.styles.backgroundColor,n)))}(i,a,n,r),function(e,t,n,i){"sub"!==t.inline&&"sup"!==t.inline||(Vg(i,Yg(e,"fontSize"),Kg(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",i),!0))}(i,a,0,r),function(e,t,n,i){i&&!1!==t.merge_siblings&&(i=$g(e,jp(i),i),i=$g(e,i,jp(i,!0)))}(i,a,0,r)):i.remove(r,1)})};if("false"!==u.getContentEditable(c.getNode())){if(a){if(i)i.nodeType?h(s,i)||((o=u.createRng()).setStartBefore(i),o.setEndAfter(i),f(u,ag(e,o,s),0,!0)):f(u,i,0,!0);else if(l&&a.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length)!function(e,t,n){var i,r,o,s,a,l,u=e.selection;s=(i=u.getRng(!0)).startOffset,l=i.startContainer.nodeValue,(r=Gl(e.getBody(),u.getStart()))&&(o=yg(r));var c,d,h=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&0<s&&s<l.length&&h.test(l.charAt(s))&&h.test(l.charAt(s-1))?(a=u.getBookmark(),i.collapse(!0),i=ag(e,i,e.formatter.get(t)),i=mg.split(i),e.formatter.apply(t,n,i),u.moveToBookmark(a)):(r&&o.nodeValue===vg||(c=e.getDoc(),d=_g(!0).dom(),o=(r=c.importNode(d,!0)).firstChild,i.insertNode(r),s=1),e.formatter.apply(t,n,r),u.setCursorLocation(o,s))}(e,t,n);else{var p=e.selection.getNode();e.settings.forced_root_block||!s[0].defaultBlock||u.getParent(p,u.isBlock)||Qg(e,s[0].defaultBlock),e.selection.setRng(vu(e.selection.getRng())),r=Yl.getPersistentBookmark(e.selection,!0),f(u,ag(e,c.getRng(),s)),a.styles&&function(e,t,n,i){(t.styles.color||t.styles.textDecoration)&&(Mt.walk(i,b.curry(Gg,e),"childNodes"),Gg(e,i))}(u,a,0,p),c.moveToBookmark(r),Hp(u,c,c.getRng()),e.nodeChanged()}!function(e,t){Ag(Ng[e],function(e){e(t)})}(t,e)}}else{i=c.getNode();for(var g=0,m=s.length;g<m;g++)if(s[g].ceFalseOverride&&u.is(i,s[g].selector))return void d(i,s[g])}},Zg={applyFormat:Qg},em=Mt.each,tm={formatChanged:function(e,t,n,i,r){var o,s,a,l,u,c,d,h;null===t.get()&&(s=e,a={},(o=t).set({}),s.on("NodeChange",function(e){var t=Xp(s.dom,e.element),n={};t=Mt.grep(t,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),em(o.get(),function(e,i){em(t,function(r){return s.formatter.matchNode(r,i,{},e.similar)?(a[i]||(em(e,function(e){e(!0,{node:r,format:i,parents:t})}),a[i]=e),n[i]=e,!1):!pg.matchesUnInheritedFormatSelector(s,r,i)&&void 0})}),em(a,function(i,r){n[r]||(delete a[r],em(i,function(n){n(!1,{node:e.element,format:r,parents:t})}))})})),u=n,c=i,d=r,h=(l=t).get(),em(u.split(","),function(e){h[e]||(h[e]=[],h[e].similar=d),h[e].push(c)}),l.set(h)}},nm={get:function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,i){Mt.each(i,function(n,i){e.setAttrib(t,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Mt.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t}},im=Mt.each,rm=fo.DOM,om=function(e,t){var n,i,r,o=t&&t.schema||Zr({}),s=function(e){var t,n,r;return i="string"==typeof e?{name:e,classes:[],attrs:{}}:e,n=t=rm.create(i.name),(r=i).classes.length&&rm.addClass(n,r.classes.join(" ")),rm.setAttribs(n,r.attrs),t},a=function(e,t,n){var i,r,l,u,c,d,h,f,p=0<t.length&&t[0],g=p&&p.name;if(c=g,d="string"!=typeof(u=e)?u.nodeName.toLowerCase():u,l=!(!(f=(h=o.getElementRule(d))&&h.parentsRequired)||!f.length)&&(c&&-1!==Mt.inArray(f,c)?c:f[0]))g===l?(r=t[0],t=t.slice(1)):r=l;else if(p)r=t[0],t=t.slice(1);else if(!n)return e;return r&&(i=s(r)).appendChild(e),n&&(i||(i=rm.create("div")).appendChild(e),Mt.each(n,function(t){var n=s(t);i.insertBefore(n,e)})),a(i,t,r&&r.siblings)};return e&&e.length?(i=e[0],n=s(i),(r=rm.create("div")).appendChild(a(n,e.slice(1),i.siblings)),r):""},sm=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=Mt.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,i,r,o){switch(t){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==Mt.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var s=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""})),n.name=t||"div",n},am=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Mt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=Mt.map(e.split(/(?:~\+|~|\+)/),sm),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},lm={getCssText:function(e,t){var n,i,r,o,s,a,l="";if(!1===(a=e.settings.preview_styles))return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}return"preview"in t&&!1===(a=t.preview)?"":(n=t.block||t.inline||"span",(o=am(t.selector)).length?(o[0].name||(o[0].name=n),n=t.selector,i=om(o,e)):i=om([n],e),r=rm.select(n,i)[0]||i.firstChild,im(t.styles,function(e,t){(e=u(e))&&rm.setStyle(r,t,e)}),im(t.attributes,function(e,t){(e=u(e))&&rm.setAttrib(r,t,e)}),im(t.classes,function(e){e=u(e),rm.hasClass(r,e)||rm.addClass(r,e)}),e.fire("PreviewFormats"),rm.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),s=rm.getStyle(e.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,im(a.split(" "),function(t){var n=rm.getStyle(r,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=rm.getStyle(e.getBody(),t,!0),"#ffffff"===rm.toHex(n).toLowerCase())||"color"===t&&"#000000"===rm.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===s)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*s+"px"}"border"===t&&n&&(l+="padding:0 2px;"),l+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),rm.remove(i),l)},parseSelector:am,selectorToHtml:function(e,t){return om(am(e),t)}},um={toggle:function(e,t,n,i,r){var o=t.get(n);!pg.match(e,n,i,r)||"toggle"in o[0]&&!o[0].toggle?Zg.applyFormat(e,n,i,r):zg.remove(e,n,i,r)}},cm={setup:function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}};function dm(e){var t,n,i,r=(t=e,n={},(i=function(e,t){e&&("string"!=typeof e?Mt.each(e,function(e,t){i(t,e)}):(t=t.length?t:[t],Mt.each(t,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),n[e]=t))})(nm.get(t.dom)),i(t.settings.formats),{get:function(e){return e?n[e]:n},register:i,unregister:function(e){return e&&n[e]&&delete n[e],n}}),o=Ia(null);return cm.setup(e),Eg(e),{get:r.get,register:r.register,unregister:r.unregister,apply:b.curry(Zg.applyFormat,e),remove:b.curry(zg.remove,e),toggle:b.curry(um.toggle,e,r),match:b.curry(pg.match,e),matchAll:b.curry(pg.matchAll,e),matchNode:b.curry(pg.matchNode,e),canApply:b.curry(pg.canApply,e),formatChanged:b.curry(tm.formatChanged,e,o),getCssText:b.curry(lm.getCssText,e)}}var hm=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var i={},r=0;r<t.length;r++){var o=t[r];for(var s in o)o.hasOwnProperty(s)&&(i[s]=e(i[s],o[s]))}return i}},fm=hm(function(e,t){return E.isObject(e)&&E.isObject(t)?fm(e,t):t}),pm=hm(function(e,t){return t}),gm={deepMerge:fm,merge:pm},mm={register:function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,i){for(var r,o,s=e.length,a="data-mce-"+i,l=t.url_converter,u=t.url_converter_scope;s--;)void 0!==(o=(r=e[s]).attributes.map[a])?(r.attr(i,0<o.length?o:null),r.attr(a,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):l&&(o=l.call(u,o,i,r.name)),r.attr(i,0<o.length?o:null))}),e.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=qr.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var i,r,o,s=e.length,a=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)r=(i=e[s]).firstChild?i.firstChild.value:"","script"===n?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===t.element_format&&0<r.length&&(i.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===t.element_format&&0<r.length&&(i.firstChild.value="\x3c!--\n"+a(r)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){j.each(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},trimTrailingBr:function(e){var t,n,i=function(e){return e&&"br"===e.name};i(t=e.lastChild)&&i(n=t.prev)&&(t.remove(),n.remove())}},vm={process:function(e,t,n){return d=n,(c=e)&&c.hasEventListeners("PreProcess")&&!d.no_events?(r=t,o=n,u=(i=e).dom,r=r.cloneNode(!0),(s=document.implementation).createHTMLDocument&&(a=s.createHTMLDocument(""),Mt.each("BODY"===r.nodeName?r.childNodes:[r],function(e){a.body.appendChild(a.importNode(e,!0))}),r="BODY"!==r.nodeName?a.body.firstChild:a.body,l=u.doc,u.doc=a),function(e,t){e.fire("PreProcess",t)}(i,gm.merge(o,{node:r})),l&&(u.doc=l),r):t;var i,r,o,s,a,l,u,c,d}},bm=function(e,t){var n,i=to();t.convert_fonts_to_spans&&function(e,t,n){e.addNodeFilter("font",function(e){j.each(e,function(e){var i,r,o=t.parse(e.attr("style")),s=e.attr("color"),a=e.attr("face"),l=e.attr("size");s&&(o.color=s),a&&(o["font-family"]=a),l&&(o["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(o)),i=e,r=["color","face","size"],j.each(r,function(e){i.attr(e,null)})})})}(e,i,Mt.explode(t.font_size_legacy_values)),n=i,e.addNodeFilter("strike",function(e){j.each(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})},ym={register:function(e,t){t.inline_styles&&bm(e,t)}},_m=/^[ \t\r\n]*$/,wm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},xm=function(e,t,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[s])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[s])return i}},Cm=function(){function e(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var i,r;if(i=new e(t,wm[t]||1),n)for(r in n)i.attr(r,n[r]);return i},e.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},e.prototype.attr=function(e,t){var n,i;if("string"!=typeof e){for(i in e)this.attr(i,e[i]);return this}if(n=this.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),this;return this}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,this}return n.map[e]}},e.prototype.clone=function(){var t,n,i,r,o,s=new e(this.name,this.type);if(i=this.attributes){for((o=[]).map={},t=0,n=i.length;t<n;t++)"id"!==(r=i[t]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=this.value,s.shortEnded=this.shortEnded,s},e.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},e.prototype.unwrap=function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},e.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},e.prototype.append=function(e){var t;return e.parent&&e.remove(),(t=this.lastChild)?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},e.prototype.insert=function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},e.prototype.getAll=function(e){var t,n=[];for(t=this.firstChild;t;t=xm(t,this))t.name===e&&n.push(t);return n},e.prototype.empty=function(){var e,t,n;if(this.firstChild){for(e=[],n=this.firstChild;n;n=xm(n,this))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},e.prototype.isEmpty=function(e,t,n){var i,r,o=this.firstChild;if(t=t||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(e[o.name])return!1;for(i=o.attributes.length;i--;)if("name"===(r=o.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!_m.test(o.value))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&_m.test(o.value))return!1;if(n&&n(o))return!1}while(o=xm(o,this));return!0},e.prototype.walk=function(e){return xm(this,null,e)},e}(),km=function(e,t,n,i){(e.padd_empty_with_br||t.insert)&&n[i.name]?i.empty().append(new Cm("br",1)).shortEnded=!0:i.empty().append(new Cm("#text",3)).value="Â "},Tm=function(e){return Em(e,"#text")&&"Â "===e.firstChild.value},Em=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Sm=function(e,t,n,i){return i.isEmpty(t,n,function(t){return n=t,(i=e.getElementRule(n.name))&&i.paddEmpty;var n,i})},Nm=function(e,t){return e&&(t[e.name]||"br"===e.name)},Dm=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,i,r){var o,s,a,l,u,c,d,h,f=e.length,p=Mt.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),m=n.getNonEmptyElements();for(p.body=1,o=0;o<f;o++)if(a=(s=e[o]).parent,p[s.parent.name]&&s===a.lastChild){for(u=s.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){s=null;break}}u=u.prev}s&&(s.remove(),Sm(n,g,m,a)&&(d=n.getElementRule(a.name))&&(d.removeEmpty?a.remove():d.paddEmpty&&km(t,r,p,a)))}else{for(l=s;a&&a.firstChild===l&&a.lastChild===l&&!p[(l=a).name];)a=a.parent;l===a&&!0!==t.padd_empty_with_br&&((h=new Cm("#text",3)).value="Â ",s.replace(h))}}),e.addAttributeFilter("href",function(e){var n,i,r,o=e.length;if(!t.allow_unsafe_link_target)for(;o--;)"a"===(n=e[o]).name&&"_blank"===n.attr("target")&&n.attr("rel",(r=(i=n.attr("rel"))?Mt.trim(i):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)if("ul"===(n=(t=e[i]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var r=new Cm("li",1);r.attr("style","list-style-type: none"),t.wrap(r)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,i,r,o,s,a,l,u=e.length,c=n.getValidClasses();u--;){for(i=(t=e[u]).attr("class").split(" "),s="",r=0;r<i.length;r++)o=i[r],l=!1,(a=c["*"])&&a[o]&&(l=!0),a=c[t.name],!l&&a&&a[o]&&(l=!0),l&&(s&&(s+=" "),s+=o);s.length||(s=null),t.attr("class",s)}})},Am=Mt.makeMap,Im=Mt.each,Pm=Mt.explode,Om=Mt.extend;function Mm(e,t){void 0===t&&(t=Zr());var n={},i=[],r={},o={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var s=function(e){var t,s,a;s in n&&((a=r[s])?a.push(e):r[s]=[e]),t=i.length;for(;t--;)(s=i[t].name)in e.attributes.map&&((a=o[s])?a.push(e):o[s]=[e]);return e},a={schema:t,addAttributeFilter:function(e,t){Im(Pm(e),function(e){var n;for(n=0;n<i.length;n++)if(i[n].name===e)return void i[n].callbacks.push(t);i.push({name:e,callbacks:[t]})})},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(e,t){Im(Pm(e),function(e){var i=n[e];i||(n[e]=i=[]),i.push(t)})},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:s,parse:function(a,l){var u,c,d,h,f,p,g,m,v,b,y,_=[];l=l||{},r={},o={},v=Om(Am("script,style,head,html,body,title,meta,param"),t.getBlockElements());var w=t.getNonEmptyElements(),x=t.children,C=e.validate,k="forced_root_block"in l?l.forced_root_block:e.forced_root_block,T=t.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,S=/[ \t\r\n]+$/,N=/[ \t\r\n]+/g,D=/^[ \t\r\n]+$/,A=function(e,t){var i,o=new Cm(e,t);return e in n&&((i=r[e])?i.push(o):r[e]=[o]),o},I=function(e){var n,i,r,o,s=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(0<(r=n.value.replace(S,"")).length)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!s[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}};u=wp({validate:C,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){y.append(A("#cdata",4)).value=e},text:function(e,t){var n;b||(e=e.replace(N," "),Nm(y.lastChild,v)&&(e=e.replace(E,""))),0!==e.length&&((n=A("#text",3)).raw=!!t,y.append(n).value=e)},comment:function(e){y.append(A("#comment",8)).value=e},pi:function(e,t){y.append(A(e,7)).value=t,I(y)},doctype:function(e){y.append(A("#doctype",10)).value=e,I(y)},start:function(e,n,r){var s,a,l,u,c;if(l=C?t.getElementRule(e):{}){for((s=A(l.outputName||e,1)).attributes=n,s.shortEnded=r,y.append(s),(c=x[y.name])&&x[s.name]&&!c[s.name]&&_.push(s),a=i.length;a--;)(u=i[a].name)in n.map&&((g=o[u])?g.push(s):o[u]=[s]);v[e]&&I(s),r||(y=s),!b&&T[e]&&(b=!0)}},end:function(n){var i,r,o,s,a;if(r=C?t.getElementRule(n):{}){if(v[n]&&!b){if((i=y.firstChild)&&3===i.type)if(0<(o=i.value.replace(E,"")).length)i.value=o,i=i.next;else for(s=i.next,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.next,(0===o.length||D.test(o))&&(i.remove(),i=s),i=s;if((i=y.lastChild)&&3===i.type)if(0<(o=i.value.replace(S,"")).length)i.value=o,i=i.prev;else for(s=i.prev,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.prev,(0===o.length||D.test(o))&&(i.remove(),i=s),i=s}if(b&&T[n]&&(b=!1),r.removeEmpty&&Sm(t,w,T,y)&&!y.attributes.map.name&&!y.attr("id"))return a=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=a);r.paddEmpty&&(Tm(y)||Sm(t,w,T,y))&&km(e,l,v,y),y=y.parent}}},t);var P=y=new Cm(l.context||e.root_name,11);if(u.parse(a),C&&_.length&&(l.context?l.invalid=!0:function(e){var n,i,r,o,a,l,u,c,d,h,f,p,g,m,v,b;for(p=Am("tr,td,th,tbody,thead,tfoot,table"),h=t.getNonEmptyElements(),f=t.getWhiteSpaceElements(),g=t.getTextBlockElements(),m=t.getSpecialElements(),n=0;n<e.length;n++)if((i=e[n]).parent&&!i.fixed)if(g[i.name]&&"li"===i.parent.name){for(v=i.next;v&&g[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!t.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),a=l=s(o[0].clone()),d=0;d<o.length-1;d++){for(t.isValidChild(l.name,o[d].name)?(u=s(o[d].clone()),l.append(u)):u=l,c=o[d].firstChild;c&&c!==o[d+1];)b=c.next,u.append(c),c=b;l=u}Sm(t,h,f,a)?r.insert(i,o[0],!0):(r.insert(a,o[0],!0),r.insert(i,a)),r=o[0],(Sm(t,h,f,r)||Em(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(s(new Cm("ul",1)));continue}t.isValidChild(i.parent.name,"div")&&t.isValidChild("div",i.name)?i.wrap(s(new Cm("div",1))):m[i.name]?i.empty().remove():i.unwrap()}}}(_)),k&&("body"===P.name||l.isRootContent)&&function(){var n,i,r=P.firstChild,o=function(e){e&&((r=e.firstChild)&&3===r.type&&(r.value=r.value.replace(E,"")),(r=e.lastChild)&&3===r.type&&(r.value=r.value.replace(S,"")))};if(t.isValidChild(P.name,k.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?(i||((i=A(k,1)).attr(e.forced_root_block_attrs),P.insert(i,r)),i.append(r)):(o(i),i=null),r=n;o(i)}}(),!l.invalid){for(m in r){for(g=n[m],f=(c=r[m]).length;f--;)c[f].parent||c.splice(f,1);for(d=0,h=g.length;d<h;d++)g[d](c,m,l)}for(d=0,h=i.length;d<h;d++)if((g=i[d]).name in o){for(f=(c=o[g.name]).length;f--;)c[f].parent||c.splice(f,1);for(f=0,p=g.callbacks.length;f<p;f++)g.callbacks[f](c,g.name,l)}}return P}};return Dm(a,e),ym.register(a,e),a}var Rm=function(e,t,n){-1===Mt.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},Bm=function(e,t,n){var i=To(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection?i:Mt.trim(i)},Lm=function(e,t,n,i){var r=i.selection?gm.merge({forced_root_block:!1},i):i,o=e.parse(n,r);return mm.trimTrailingBr(o),o},Fm=function(e,t,n,i,r){var o,s,a,l;return s=e,l=(o=i,mu(t,n).serialize(o)),!(a=r).no_events&&s?function(e,t){return e.fire("PostProcess",t)}(s,gm.merge(a,{content:l})).content:l};function Hm(e,t){var n,i,r,o,s,a,l=(n=e,a=["data-mce-selected"],r=(i=t)&&i.dom?i.dom:fo.DOM,o=i&&i.schema?i.schema:Zr(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,s=Mm(n,o),mm.register(s,n,r),{schema:o,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:function(e,t){var a=gm.merge({format:"html"},t||{}),l=vm.process(i,e,a),u=Bm(r,l,a),c=Lm(s,r,u,a);return"tree"===a.format?c:Fm(i,n,o,c,a)},addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:b.curry(Rm,s,a),getTempAttrs:function(){return a}});return{schema:l.schema,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:l.serialize,addRules:l.addRules,setRules:l.setRules,addTempAttr:l.addTempAttr,getTempAttrs:l.getTempAttrs}}function jm(e){return{getBookmark:b.curry(iu.getBookmark,e),moveToBookmark:b.curry(iu.moveToBookmark,e)}}(jm||(jm={})).isBookmarkNode=iu.isBookmarkNode;var zm=jm,qm=Nr.isContentEditableFalse,Wm=Nr.isContentEditableTrue,Um=function(e,t){var n,i,r,o,s,a,l,u,c,d,h,f,p,g,m,v,b,y=t.dom,_=Mt.each,w=t.getDoc(),x=document,C=Math.abs,k=Math.round,T=t.getBody();o={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var E=".mce-content-body";t.contentStyles.push(E+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+E+" .mce-resizehandle:hover {background: #000}"+E+" img[data-mce-selected],"+E+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+E+" .mce-clonedresizable {position: absolute;"+(pe.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+E+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var S=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},N=function(e){var n,i,r=e.target;n=e,i=t.selection.getRng(),!S(n.target)||ap(n.clientX,n.clientY,i)||e.isDefaultPrevented()||(e.preventDefault(),t.selection.select(r))},D=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},A=function(e){var n=t.settings.object_resizing;return!1!==n&&!pe.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&xi.is(Wn(e),n))},I=function(e){var o,_,w,x;o=e.screenX-a,_=e.screenY-l,g=o*s[2]+d,m=_*s[3]+h,g=g<5?5:g,m=m<5?5:m,(S(n)&&!1!==t.settings.resize_img_proportional?!up.modifierPressed(e):up.modifierPressed(e)||S(n)&&s[2]*s[3]!=0)&&(C(o)>C(_)?(m=k(g*f),g=k(m/f)):(g=k(m/f),m=k(g*f))),y.setStyles(D(i),{width:g,height:m}),w=0<(w=s.startPos.x+o)?w:0,x=0<(x=s.startPos.y+_)?x:0,y.setStyles(r,{left:w,top:x,display:"block"}),r.innerHTML=g+" &times; "+m,s[2]<0&&i.clientWidth<=g&&y.setStyle(i,"left",u+(d-g)),s[3]<0&&i.clientHeight<=m&&y.setStyle(i,"top",c+(h-m)),(o=T.scrollWidth-v)+(_=T.scrollHeight-b)!=0&&y.setStyles(r,{left:w-o,top:x-_}),p||(t.fire("ObjectResizeStart",{target:n,width:d,height:h}),p=!0)},P=function(){p=!1;var e=function(e,i){i&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?y.setStyle(D(n),e,i):y.setAttrib(D(n),e,i))};e("width",g),e("height",m),y.unbind(w,"mousemove",I),y.unbind(w,"mouseup",P),x!==w&&(y.unbind(x,"mousemove",I),y.unbind(x,"mouseup",P)),y.remove(i),y.remove(r),O(n),t.fire("ObjectResized",{target:n,width:g,height:m}),y.setAttrib(n,"style",y.getAttrib(n,"style")),t.nodeChanged()},O=function(e){var p,C,k,E,S;M(),L(),p=y.getPos(e,T),u=p.x,c=p.y,S=e.getBoundingClientRect(),C=S.width||S.right-S.left,k=S.height||S.bottom-S.top,n!==e&&(n=e,g=m=0),E=t.fire("ObjectSelected",{target:e}),A(e)&&!E.isDefaultPrevented()?_(o,function(e,t){var o;(o=y.get("mceResizeHandle"+t))&&y.remove(o),o=y.add(T,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),pe.ie&&(o.contentEditable=!1),y.bind(o,"mousedown",function(t){var o;t.stopImmediatePropagation(),t.preventDefault(),a=(o=t).screenX,l=o.screenY,d=D(n).clientWidth,h=D(n).clientHeight,f=h/d,(s=e).startPos={x:C*e[0]+u,y:k*e[1]+c},v=T.scrollWidth,b=T.scrollHeight,i=n.cloneNode(!0),y.addClass(i,"mce-clonedresizable"),y.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,y.setStyles(i,{left:u,top:c,margin:0}),i.removeAttribute("data-mce-selected"),T.appendChild(i),y.bind(w,"mousemove",I),y.bind(w,"mouseup",P),x!==w&&(y.bind(x,"mousemove",I),y.bind(x,"mouseup",P)),r=y.add(T,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+h)}),e.elm=o,y.setStyles(o,{left:C*e[0]+u-o.offsetWidth/2,top:k*e[1]+c-o.offsetHeight/2})}):M(),n.setAttribute("data-mce-selected","1")},M=function(){var e,t;for(e in L(),n&&n.removeAttribute("data-mce-selected"),o)(t=y.get("mceResizeHandle"+e))&&(y.unbind(t),y.remove(t))},R=function(n){var i,r=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};p||t.removed||(_(y.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"===n.type?n.target:e.getNode(),r(i=y.$(i).closest("table,img,figure.image,hr")[0],T)&&(F(),r(e.getStart(!0),i)&&r(e.getEnd(!0),i))?O(i):M())},B=function(e){return qm(function(e,t){for(;t&&t!==e;){if(Wm(t)||qm(t))return t;t=t.parentNode}return null}(t.getBody(),e))},L=function(){for(var e in o){var t=o[e];t.elm&&(y.unbind(t.elm),delete t.elm)}},F=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return t.on("init",function(){F(),pe.ie&&11<=pe.ie&&(t.on("mousedown click",function(e){var n=e.target,i=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(i)||B(n)||(2!==e.button&&t.selection.select(n,"TABLE"===i),"mousedown"===e.type&&t.nodeChanged())}),t.dom.bind(T,"mscontrolselect",function(e){var n=function(e){ye.setEditorTimeout(t,function(){t.selection.select(e)})};if(B(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))}));var e=ye.throttle(function(e){t.composing||R(e)});t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),t.on("keyup compositionend",function(t){n&&"TABLE"===n.nodeName&&e(t)}),t.on("hide blur",M),t.on("contextmenu",N)}),t.on("remove",L),{isResizable:A,showResizeRect:O,hideResizeRect:M,updateResizeRect:R,destroy:function(){n=i=null}}},$m=function(e){return Nr.isContentEditableTrue(e)||Nr.isContentEditableFalse(e)},Vm={fromPoint:function(e,t,n){var i,r,o,s,a,l=n;if(l.caretPositionFromPoint)(r=l.caretPositionFromPoint(e,t))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(l.body.createTextRange){i=l.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(r){i=function(e,t,n){var i,r,o;if(i=n.elementFromPoint(e,t),r=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),r.moveToElementText(i),0<(o=(o=Mt.toArray(r.getClientRects())).sort(function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-Math.abs(Math.max(n.top-t,n.bottom-t))})).length){t=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(e,t),r.collapse(!0),r}catch(e){}}return null}(e,t,n)}return o=i,s=n.body,a=o&&o.parentElement?o.parentElement():null,Nr.isContentEditableFalse(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(a,s,$m))?null:o}return i}},Ym=function(e,t){return j.map(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},Km=function(e,t){return Wn(e.dom().cloneNode(t))},Xm=function(e){return Km(e,!1)},Gm=function(e){return Km(e,!0)},Jm=function(e,t){var n=(t||document).createDocumentFragment();return j.each(e,function(e){n.appendChild(e.dom())}),Wn(n)},Qm=function(e){return qi(e).fold(b.constant([e]),function(t){return[e].concat(Qm(t))})},Zm=function(e){return Wi(e).fold(b.constant([e]),function(t){return"br"===Gn.name(t)?Li(t).map(function(t){return[e].concat(Zm(t))}).getOr([]):[e].concat(Zm(t))})},ev=function(e,t,n,i){var r=n,o=new ir(n,r),s=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Mt.trim(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(pe.ie&&pe.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},tv=bi("element","width","rows"),nv=bi("element","cells"),iv=bi("x","y"),rv=function(e,t){var n=parseInt(li(e,t),10);return isNaN(n)?1:n},ov=function(e){return j.foldl(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},sv=function(e,t){for(var n=e.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(Ti.eq(r[o],t))return k.some(iv(o,i));return k.none()},av=function(e,t,n,i,r){for(var o=[],s=e.rows(),a=n;a<=r;a++){var l=s[a].cells(),u=t<i?l.slice(t,i+1):l.slice(i,t+1);o.push(nv(s[a].element(),u))}return o},lv=function(e,t){return j.find(e,function(e){return"li"===Gn.name(e)&&function(e,t){return as([(o=t,s=o.startContainer,a=o.startOffset,Nr.isText(s)?0===a?k.some(Wn(s)):k.none():k.from(s.childNodes[a]).map(Wn)),(n=t,i=n.endContainer,r=n.endOffset,Nr.isText(i)?r===i.data.length?k.some(Wn(i)):k.none():k.from(i.childNodes[r-1]).map(Wn))],function(t,n){var i=j.find(Qm(e),b.curry(Ti.eq,t)),r=j.find(Zm(e),b.curry(Ti.eq,n));return i.isSome()&&r.isSome()}).getOr(!1);var n,i,r,o,s,a}(e,t)}).fold(b.constant([]),function(t){return(n=e,j.find(n,function(e){return"ul"===Gn.name(e)||"ol"===Gn.name(e)})).map(function(e){return[zn("li"),zn(Gn.name(e))]}).getOr([]);var n})},uv=function(){return Jm([])},cv=function(e,t){return n=Wn(t.cloneContents()),i=function(e,t){var n,i=Wn(t.commonAncestorContainer),r=ec(i,e),o=j.filter(r,function(e){return cr(e)||lr(e)}),s=lv(r,t),a=o.concat(s.length?s:pr(n=i)?Ri(n).filter(fr).fold(b.constant([]),function(e){return[n,e]}):fr(n)?[n]:[]);return j.map(a,Xm)}(e,t),r=j.foldl(i,function(e,t){return _a(t,e),t},n),0<i.length?Jm([r]):r;var n,i,r},dv=function(e,t){return(n=e,i=t[0],ju(i,"table",b.curry(Ti.eq,n))).bind(function(e){var n=t[0],i=t[t.length-1];return function(e,t,n){return sv(e,t).bind(function(t){return sv(e,n).map(function(n){return i=e,o=n,s=(r=t).x(),a=r.y(),l=o.x(),c=a<(u=o.y())?av(i,s,a,l,u):av(i,s,u,l,a),tv(i.element(),ov(c),c);var i,r,o,s,a,l,u,c})})}(function(e){var t=tv(Xm(e),0,[]);return j.each(aa(e,"tr"),function(e,n){j.each(aa(e,"td,th"),function(i,r){!function(e,t,n,i,r){for(var o=rv(r,"rowspan"),s=rv(r,"colspan"),a=e.rows(),l=n;l<n+o;l++){a[l]||(a[l]=nv(Gm(i),[]));for(var u=t;u<t+s;u++)a[l].cells()[u]=l===n&&u===t?r:Xm(r)}}(t,function(e,t,n){for(;i=t,r=n,o=void 0,((o=e.rows())[r]?o[r].cells():[])[i];)t++;var i,r,o;return t}(t,r,n),n,e,i)})}),tv(t.element(),ov(t.rows()),t.rows())}(e),n,i).map(function(e){return Jm([function(e){return o=t=e,n=j.map(o.rows(),function(e){var t=j.map(e.cells(),function(e){var t=Gm(e);return ui(t,"colspan"),ui(t,"rowspan"),t}),n=Xm(e.element());return su(n,t),n}),i=Xm(t.element()),r=zn("tbody"),su(r,n),_a(i,r),i;var t,n,i,r,o}(e)])})}).getOrThunk(uv);var n,i},hv=function(e,t){var n,i=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),s=Ym(e,Ed(o));if((t=t||{}).get=!0,t.format=t.format||"html",t.selection=!0,(t=e.fire("BeforeGetContent",t)).isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return e.selection.isCollapsed()?"":To(i.text||(o.toString?o.toString():""));i.cloneContents?(n=t.contextual?function(e,t){var n,i,r=Dd(t,e);return 0<r.length?dv(e,r):(n=e,0<(i=t).length&&i[0].collapsed?uv():cv(n,i[0]))}(Wn(e.getBody()),s).dom():i.cloneContents())&&r.appendChild(n):void 0!==i.item||void 0!==i.htmlText?(r.innerHTML="<br>"+(i.item?i.item(0).outerHTML:i.htmlText),r.removeChild(r.firstChild)):r.innerHTML=i.toString(),t.getInner=!0;var a=e.selection.serializer.serialize(r,t);return"tree"===t.format?a:(t.content=e.selection.isCollapsed()?"":a,e.fire("GetContent",t),t.content)},fv=function(e,t,n,i,r){var o=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;return k.from(o).map(Wn).map(function(e){return i&&t.collapsed?e:zi(e,r(e,s)).getOr(e)}).bind(function(e){return Gn.isElement(e)?k.some(e):Ri(e)}).map(function(e){return e.dom()}).getOr(e)},pv=function(e,t,n){return fv(e,t,!0,n,function(e,t){return Math.min(Ui(e),t)})},gv=function(e,t,n){return fv(e,t,!1,n,function(e,t){return 0<t?t-1:t})},mv=function(e,t){for(var n=e;e&&Nr.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},vv=Mt.each,bv=function(e){return!!e.select},yv=function(e){return!(!e||!e.ownerDocument)&&Ti.contains(Wn(e.ownerDocument),Wn(e))},_v=function(e,t,n,i){var r,o,s,a,l,u=function(e,t){return function(e,t,n){var i,r,o,s=e.selection.getRng(),a=e.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=t,n.no_events||!(n=e.fire("BeforeSetContent",n)).isDefaultPrevented()){if(t=n.content,s.insertNode){t+='<span id="__caret">_</span>',s.startContainer===a&&s.endContainer===a?a.body.innerHTML=t:(s.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=t:s.createContextualFragment?s.insertNode(s.createContextualFragment(t)):(r=a.createDocumentFragment(),o=a.createElement("div"),r.appendChild(o),o.outerHTML=t,s.insertNode(r))),i=e.dom.get("__caret"),(s=a.createRange()).setStartBefore(i),s.setEndBefore(i),e.selection.setRng(s),e.dom.remove("__caret");try{e.selection.setRng(s)}catch(e){}}else s.item&&(a.execCommand("Delete",!1,null),s=e.getRng()),/^\s+/.test(t)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):s.pasteHTML(t);n.no_events||e.fire("SetContent",n)}else e.fire("SetContent",n)}(i,e,t)},c=function(e){var t=h();t.collapse(!!e),f(t)},d=function(){return t.getSelection?t.getSelection():t.document.selection},h=function(){var n,r,o,l,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;if(null==(l=t.document))return null;if(void 0!==i.bookmark&&!1===af(i)){var c=Ah.getRng(i);if(c.isSome())return c.map(function(e){return Ym(i,[e])[0]}).getOr(l.createRange())}try{(n=d())&&(r=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(e){}return(r=Ym(i,[r])[0])||(r=l.createRange?l.createRange():l.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=e.getRoot(),r.setStart(o,0),r.setEnd(o,0)),s&&a&&(0===u(r.START_TO_START,r,s)&&0===u(r.END_TO_END,r,s)?r=a:a=s=null),r},f=function(e,t){var n,r;if((o=e)&&(bv(o)||yv(o.startContainer)&&yv(o.endContainer))){var o,l=bv(e)?e:null;if(l){a=null;try{l.select()}catch(e){}}else{if(n=d(),e=i.fire("SetSelectionRange",{range:e,forward:t}).range,n){a=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),s=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||pe.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(r,0,r,1)),i.fire("AfterSetSelectionRange",{range:e,forward:t})}}},p=function(){var t,n,i=d();return!(i&&i.anchorNode&&i.focusNode)||((t=e.createRng()).setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),(n=e.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},g={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:i,collapse:c,setCursorLocation:function(t,n){var r=e.createRng();t?(r.setStart(t,n),r.setEnd(t,n),f(r),c(!1)):(ev(e,r,i.getBody(),!0),f(r))},getContent:function(e){return hv(i,e)},setContent:u,getBookmark:function(e,t){return r.getBookmark(e,t)},moveToBookmark:function(e){return r.moveToBookmark(e)},select:function(t,n){var i,r,o;return(i=e,r=t,o=n,k.from(r).map(function(e){var t=i.nodeIndex(e),n=i.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(ev(i,n,e,!0),ev(i,n,e,!1)),n})).each(f),t},isCollapsed:function(){var e=h(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:p,setNode:function(t){return u(e.getOuterHTML(t)),t},getNode:function(){return e=i.getBody(),(t=h())?(r=t.startContainer,o=t.endContainer,s=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-s<2&&r.hasChildNodes()&&(n=r.childNodes[s]),3===r.nodeType&&3===o.nodeType&&(r=r.length===s?mv(r.nextSibling,!0):r.parentNode,o=0===a?mv(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e;var e,t,n,r,o,s,a},getSel:d,setRng:f,getRng:h,getStart:function(e){return pv(i.getBody(),h(),e)},getEnd:function(e){return gv(i.getBody(),h(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,i){var r,o,s=[];if(o=e.getRoot(),n=e.getParent(n||pv(o,t,!1),e.isBlock),i=e.getParent(i||gv(o,t,!1),e.isBlock),n&&n!==o&&s.push(n),n&&i&&n!==i)for(var a=new ir(r=n,o);(r=a.next())&&r!==i;)e.isBlock(r)&&s.push(r);return i&&n!==i&&i!==o&&s.push(i),s}(e,h(),t,n)},normalize:function(){var t=h();if(!function(e){return 1<Td(e).length}(d())){var n=ih.normalize(e,t);return n.each(function(e){f(e,p())}),n.getOr(t)}return t},selectorChanged:function(t,n){var r;return l||(l={},r={},i.on("NodeChange",function(t){var n=t.element,i=e.getParents(n,null,e.getRoot()),o={};vv(l,function(t,n){vv(i,function(s){if(e.is(s,n))return r[n]||(vv(t,function(e){e(!0,{node:s,selector:n,parents:i})}),r[n]=t),o[n]=t,!1})}),vv(r,function(e,t){o[t]||(delete r[t],vv(e,function(e){e(!1,{node:n,selector:t,parents:i})}))})})),l[t]||(l[t]=[]),l[t].push(n),g},getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return function(e,t,n){var i,r,o,s,a,l=e.dom,u=l.getRoot(),c=0;if(a={elm:t,alignToTop:n},e.fire("scrollIntoView",a),!a.isDefaultPrevented()&&Nr.isElement(t)){if(!1===n&&(c=t.offsetHeight),"BODY"!==u.nodeName){var d=e.selection.getScrollContainer();if(d)return i=da(t).y-da(d).y+c,s=d.clientHeight,void((i<(o=d.scrollTop)||o+s<i+25)&&(d.scrollTop=i<o?i:i-s+25))}r=l.getViewPort(e.getWin()),i=l.getPos(t).y+c,o=r.y,s=r.h,(i<r.y||o+s<i+25)&&e.getWin().scrollTo(0,i<o?i:i-s+25)}}(i,e,t)},placeCaretAt:function(e,t){return f(Vm.fromPoint(e,t,i.getDoc()))},getBoundingClientRect:function(){var e=h();return e.collapsed?Ds.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=s=a=null,o.destroy()}};return r=zm(g),o=Um(g,i),g.bookmarkManager=r,g.controlSelection=o,g},wv=Nr.isContentEditableFalse,xv=es,Cv=sl,kv=ol,Tv=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},Ev=function(e,t,n){var i,r,o,s,a=Cl(e.getBody()),l=ss.curry(Tv,a.next),u=ss.curry(Tv,a.prev);if(n.collapsed&&e.settings.forced_root_block){if(!(i=e.dom.getParent(n.startContainer,"PRE")))return;(1===t?l(Ds.fromRangeStart(n)):u(Ds.fromRangeStart(n)))||(s=(o=e).dom.create(o.settings.forced_root_block),(!pe.ie||11<=pe.ie)&&(s.innerHTML='<br data-mce-bogus="1">'),r=s,1===t?e.$(i).after(r):e.$(i).before(r),e.selection.select(r,!0),e.selection.collapse())}},Sv=function(e,t){return function(){var n,i,r,o,s,a,l,u,c=(i=t,o=Cl((n=e).getBody()),s=ss.curry(Tv,o.next),a=ss.curry(Tv,o.prev),(r=function(e,t,n,i){var r,o,s,a,l,u,c=e===Gs.Forwards,d=c?kv:Cv;return!i.collapsed&&(r=xv(i),wv(r))?Vs(e,t,r,e===Gs.Backwards,!0):(a=No(i.startContainer),d(o=rl(e,t.getBody(),i))?Ys(t,o.getNode(!c)):(o=n(o))?d(o)?Vs(e,t,o.getNode(!c),c,!0):d(s=n(o))&&(!(u=Ka(l=o,s))&&Nr.isBr(l.getNode())||u)?Vs(e,t,s.getNode(!c),c,!0):a?Xs(t,o.toRange(),!0):null:a?i:null)}(l=i?Gs.Forwards:Gs.Backwards,n,i?s:a,u=n.selection.getRng()))?r:(r=Ev(n,l,u))||null);return!!c&&(e.selection.setRng(c),!0)}},Nv=function(e,t){return function(){var n,i,r,o,s,a,l=(o=(i=t)?1:-1,s=i?Jf:Gf,a=(n=e).selection.getRng(),(r=function(e,t,n,i){var r,o,s,a,l,u,c,d,h;if(h=xv(i),r=rl(e,t.getBody(),i),o=n(t.getBody(),Qf(1),r),s=Dt.filter(o,Zf(1)),l=Dt.last(r.getClientRects()),(kv(r)||al(r))&&(h=r.getNode()),(Cv(r)||ll(r))&&(h=r.getNode(!0)),!l)return null;if(u=l.left,(a=op(s,u))&&wv(a.node))return c=Math.abs(u-a.left),d=Math.abs(u-a.right),Vs(e,t,a.node,c<d,!0);if(h){var f=function(e,t,n,i){var r,o,s,a,l,u,c=Cl(t),d=[],h=0,f=function(e){return Dt.last(e.getClientRects())};1===e?(r=c.next,o=Zo,s=Qo,a=Ds.after(i)):(r=c.prev,o=Qo,s=Zo,a=Ds.before(i)),u=f(a);do{if(a.isVisible()&&!s(l=f(a),u)){if(0<d.length&&o(l,Dt.last(d))&&h++,(l=Xo(l)).position=a,l.line=h,n(l))return d;d.push(l)}}while(a=r(a));return d}(e,t.getBody(),Qf(1),h);if(a=op(Dt.filter(f,Zf(1)),u))return Xs(t,a.position.toRange(),!0);if(a=Dt.last(Dt.filter(f,Zf(0))))return Xs(t,a.position.toRange(),!0)}}(o,n,s,a))?r:(r=Ev(n,o,a))||null);return!!l&&(e.selection.setRng(l),!0)}},Dv=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,i)}},Av=function(e,t){return j.find(function(e,t){return j.bind((n=e,j.map(n,function(e){return gm.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:b.noop},e)})),function(e){return n=e,(i=t).keyCode===n.keyCode&&i.shiftKey===n.shiftKey&&i.altKey===n.altKey&&i.ctrlKey===n.ctrlKey&&i.metaKey===n.metaKey?[e]:[];var n,i});var n}(e,t),function(e){return e.action()})},Iv=function(e){return 1===ji(e).length},Pv=function(e,t){var n,i=Wn(e.getBody()),r=Wn(e.selection.getStart()),o=j.filter((n=ec(r,i),j.findIndex(n,ur).fold(b.constant(n),function(e){return n.slice(0,e)})),Iv);return j.last(o).map(function(n){var i=Ds.fromRangeStart(e.selection.getRng());return!!function(e,t,n){return as([Ws.firstPositionIn(n),Ws.lastPositionIn(n)],function(i,r){var o=Bu.normalizePosition(!0,i),s=Bu.normalizePosition(!1,r),a=Bu.normalizePosition(!1,t);return e?Ws.nextPosition(n,a).map(function(e){return e.isEqual(s)&&t.isEqual(o)}).getOr(!1):Ws.prevPosition(n,a).map(function(e){return e.isEqual(o)&&t.isEqual(s)}).getOr(!1)}).getOr(!0)}(t,i,n.dom())&&(function(e,t,n,i){var r,o,s,a,l=b.curry(Sg,t),u=j.map(j.filter(i,l),function(e){return e.dom()});if(0===u.length)_c(t,e,n);else{var c=(r=n.dom(),o=u,s=_g(!1),a=Tg(o,s.dom()),ba(Wn(r),s),uu(Wn(r)),Ds(a,0));t.selection.setRng(c.toRange())}}(t,e,n,o),!0)}).getOr(!1)},Ov=function(e,t){return!!e.selection.isCollapsed()&&Pv(e,t)},Mv=function(e){return k.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},Rv=function(e,t){var n,i,r,o=t,s=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var l=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);l&&/^(UL|OL|DL)$/.test(l.nodeName)&&t.insertBefore(s.doc.createTextNode("Â "),t.firstChild)}if(r=s.createRng(),t.normalize(),t.hasChildNodes()){for(n=new ir(t,t);i=n.current();){if(Nr.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(a[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}o=i,i=n.next()}i||(r.setStart(o,0),r.setEnd(o,0))}else Nr.isBr(t)?t.nextSibling&&s.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),s.remove(void 0),e.selection.scrollIntoView(t)}},Bv=Mv,Lv=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Fv=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Hv=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},jv=function(e,t,n){for(var i=e[n?"firstChild":"lastChild"];i&&!Nr.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===t},zv=function(e){e.innerHTML='<br data-mce-bogus="1">'},qv=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},Wv=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},Uv=function(e,t,n){return!1===Nr.isText(t)?n:e?1===n&&t.data.charAt(n-1)===ko?0:n:n===t.data.length-1&&t.data.charAt(n)===ko?t.data.length:n},$v=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},Vv=function(e,t){var n=pa(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,ga(e))},Yv=function(e,t){var n,i,r,o,s,a,l,u,c,d,h,f,p,g,m,v,b,y,_=e.dom,w=e.schema,x=w.getNonEmptyElements(),C=e.selection.getRng(),k=function(t){var n,o,a,l=r,u=w.getTextInlineElements();if(t||"TABLE"===d||"HR"===d?(n=_.create(t||f),Vv(e,n)):n=s.cloneNode(!1),a=n,!1===function(e){return e.getParam("keep_styles",!0)}(e))_.setAttrib(n,"style",null),_.setAttrib(n,"class",null);else do{if(u[l.nodeName]){if(Xl(l))continue;o=l.cloneNode(!1),_.setAttrib(o,"id",""),n.hasChildNodes()?o.appendChild(n.firstChild):a=o,n.appendChild(o)}}while((l=l.parentNode)&&l!==i);return zv(a),n},T=function(e){var t,n,i,a;if(a=Uv(e,r,o),Nr.isText(r)&&(e?0<a:a<r.nodeValue.length))return!1;if(r.parentNode===s&&p&&!e)return!0;if(e&&Nr.isElement(r)&&r===s.firstChild)return!0;if(qv(r,"TABLE")||qv(r,"HR"))return p&&!e||!p&&e;for(t=new ir(r,s),Nr.isText(r)&&(e&&0===a?t.prev():e||a!==r.nodeValue.length||t.next());n=t.current();){if(Nr.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),x[i]&&"br"!==i))return!1}else if(Nr.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},E=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==h?k(f):k(),e.getParam("end_container_on_empty_block",!1)&&Wv(_,c)&&_.isEmpty(s)?l=_.split(c,s):_.insertAfter(l,s),Rv(e,l)};ih.normalize(_,C).each(function(e){C.setStart(e.startContainer,e.startOffset),C.setEnd(e.endContainer,e.endOffset)}),r=C.startContainer,o=C.startOffset,f=pa(e),a=t.shiftKey,Nr.isElement(r)&&r.hasChildNodes()&&(p=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=p&&Nr.isText(r)?r.nodeValue.length:0),(i=$v(_,r))&&((f&&!a||!f&&a)&&(r=function(e,t,n,i,r){var o,s,a,l,u,c,d,h=t||"P",f=e.dom,p=$v(f,i);if(!(s=f.getParent(i,f.isBlock))||!Wv(f,s)){if(c=(s=s||p)===e.getBody()||(d=s)&&/^(TD|TH|CAPTION)$/.test(d.nodeName)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return o=f.create(h),Vv(e,o),s.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==s;)l=l.parentNode;for(;l&&!f.isBlock(l);)l=(a=l).previousSibling;if(a&&e.schema.isValidChild(c,h.toLowerCase())){for(o=f.create(h),Vv(e,o),a.parentNode.insertBefore(o,a),l=a;l&&!f.isBlock(l);)u=l.nextSibling,o.appendChild(l),l=u;n.setStart(i,r),n.setEnd(i,r)}}return i}(e,f,C,r,o)),s=_.getParent(r,_.isBlock),c=s?_.getParent(s.parentNode,_.isBlock):null,d=s?s.nodeName.toUpperCase():"","LI"!==(h=c?c.nodeName.toUpperCase():"")||t.ctrlKey||(c=(s=c).parentNode,d=h),/^(LI|DT|DD)$/.test(d)&&_.isEmpty(s)?function(e,t,n,i,r){var o=e.dom,s=e.selection.getRng();if(n!==e.getBody()){var a;Fv(a=n)&&Fv(a.parentNode)&&(r="LI");var l,u,c=r?t(r):o.create("BR");if(jv(n,i,!0)&&jv(n,i,!1))Lv(n,"LI")?o.insertAfter(c,Hv(n)):o.replace(c,n);else if(jv(n,i,!0))Lv(n,"LI")?(o.insertAfter(c,Hv(n)),c.appendChild(o.doc.createTextNode(" ")),c.appendChild(n)):n.parentNode.insertBefore(c,n);else if(jv(n,i,!1))o.insertAfter(c,Hv(n));else{n=Hv(n);var d=s.cloneRange();d.setStartAfter(i),d.setEndAfter(n);var h=d.extractContents();"LI"===r&&(u="LI",(l=h).firstChild&&l.firstChild.nodeName===u)?(c=h.firstChild,o.insertAfter(h,n)):(o.insertAfter(h,n),o.insertAfter(c,n))}o.remove(i),Rv(e,c)}}(e,k,c,s,f):f&&s===e.getBody()||(f=f||"P",No(s)?(l=Bo(s),_.isEmpty(s)&&zv(s),Rv(e,l)):T()?E():T(!0)?(l=s.parentNode.insertBefore(k(),s),Rv(e,qv(s,"HR")?l:s)):((n=(b=C,y=b.cloneRange(),y.setStart(b.startContainer,Uv(!0,b.startContainer,b.startOffset)),y.setEnd(b.endContainer,Uv(!1,b.endContainer,b.endOffset)),y).cloneRange()).setEndAfter(s),function(e){for(;Nr.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(u=n.extractContents()),l=u.firstChild,_.insertAfter(u,s),function(e,t,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;Nr.isElement(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?e.remove(r):(s=r)&&"A"===s.nodeName&&0===Mt.trim(To(s.innerText||s.textContent)).length&&e.remove(r);var s}}(_,x,l),g=_,(m=s).normalize(),(v=m.lastChild)&&!/^(left|right)$/gi.test(g.getStyle(v,"float",!0))||g.add(m,"br"),_.isEmpty(s)&&zv(s),l.normalize(),_.isEmpty(l)?(_.remove(l),E()):Rv(e,l)),_.setAttrib(l,"id",""),e.fire("NewBlock",{newBlock:l})))},Kv=function(e,t){return Bv(e).filter(function(e){return 0<t.length&&xi.is(Wn(e),t)}).isSome()},Xv=uc([{br:[]},{block:[]},{none:[]}]),Gv=function(e,t){return function(e){return Kv(e,function(e){return e.getParam("no_newline_selector","")}(e))}(e)},Jv=function(e){return function(t,n){return""===pa(t)===e}},Qv=function(e){return function(t,n){return function(e){return Mv(e).filter(function(e){return pr(Wn(e))}).isSome()}(t)===e}},Zv=function(e){return function(t,n){return"PRE"===function(e){return Mv(e).fold(b.constant(""),function(e){return e.nodeName.toUpperCase()})}(t)===e}},eb=function(e){return function(t,n){return function(e){return e.getParam("br_in_pre",!0)}(t)===e}},tb=function(e,t){return function(e){return Kv(e,function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(e))}(e)},nb=function(e,t){return t},ib=function(e){var t=pa(e),n=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},rb=function(e,t){return function(n,i){return j.foldl(e,function(e,t){return e&&t(n,i)},!0)?k.some(t):k.none()}},ob=function(e,t){(function(e,t){return Mc([rb([Gv],Xv.none()),rb([Zv(!0),eb(!1),nb],Xv.br()),rb([Zv(!0),eb(!1)],Xv.block()),rb([Zv(!0),eb(!0),nb],Xv.block()),rb([Zv(!0),eb(!0)],Xv.br()),rb([Qv(!0),nb],Xv.br()),rb([Qv(!0)],Xv.block()),rb([Jv(!0),nb,ib],Xv.block()),rb([Jv(!0)],Xv.br()),rb([tb],Xv.br()),rb([Jv(!1),nb],Xv.br()),rb([ib],Xv.block())],[e,t.shiftKey]).getOr(Xv.none())})(e,t).fold(function(){hh.insert(e,t)},function(){Yv(e,t)},b.noop)},sb=function(e,t,n){return a=t,!(!ab(n)||!Nr.isText(a.container())||(i=e,o=(r=t).container(),s=r.offset(),o.insertData(s,"Â "),i.selection.setCursorLocation(o,s+1),0));var i,r,o,s,a},ab=function(e){return e.fold(b.constant(!1),b.constant(!0),b.constant(!0),b.constant(!1))},lb=function(e){return!!e.selection.isCollapsed()&&(t=e,n=b.curry(Bu.isInlineTarget,t),i=Ds.fromRangeStart(t.selection.getRng()),Qc(n,t.getBody(),i).map(b.curry(sb,t,i)).getOr(!1));var t,n,i},ub=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(Bo(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},cb=function(e,t){var n=zu(Wn(e.getBody()),"*[data-mce-caret]").fold(b.constant(null),function(e){return e.dom()});if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void ub(e,n)):void(Io(n)&&(ub(e,n),e.undoManager.add()))},db=function(e){var t,n,i,r,o=ud.setupSelectedState(e);(function(e){e.on("keyup compositionstart",b.curry(cb,e))})(e),r=o,(i=e).on("keydown",function(e){var t,n,o,s;!1===e.isDefaultPrevented()&&(t=i,n=r,o=e,s=Fn.detect().os,Av([{keyCode:up.RIGHT,action:Sv(t,!0)},{keyCode:up.LEFT,action:Sv(t,!1)},{keyCode:up.UP,action:Nv(t,!1)},{keyCode:up.DOWN,action:Nv(t,!0)},{keyCode:up.RIGHT,action:Da(t,!0)},{keyCode:up.LEFT,action:Da(t,!1)},{keyCode:up.UP,action:Aa(t,!1)},{keyCode:up.DOWN,action:Aa(t,!0)},{keyCode:up.RIGHT,action:ud.move(t,n,!0)},{keyCode:up.LEFT,action:ud.move(t,n,!1)},{keyCode:up.RIGHT,ctrlKey:!s.isOSX(),altKey:s.isOSX(),action:ud.moveNextWord(t,n)},{keyCode:up.LEFT,ctrlKey:!s.isOSX(),altKey:s.isOSX(),action:ud.movePrevWord(t,n)}],o).each(function(e){o.preventDefault()}))}),function(e,t){e.on("keydown",function(n){var i,r,o;!1===n.isDefaultPrevented()&&(i=e,r=t,o=n,Av([{keyCode:up.BACKSPACE,action:Dv(xc,i,!1)},{keyCode:up.DELETE,action:Dv(xc,i,!0)},{keyCode:up.BACKSPACE,action:Dv(hd,i,r,!1)},{keyCode:up.DELETE,action:Dv(hd,i,r,!0)},{keyCode:up.BACKSPACE,action:Dv(lc,i,!1)},{keyCode:up.DELETE,action:Dv(lc,i,!0)},{keyCode:up.BACKSPACE,action:Dv(oc,i,!1)},{keyCode:up.DELETE,action:Dv(oc,i,!0)},{keyCode:up.BACKSPACE,action:Dv(Fd,i,!1)},{keyCode:up.DELETE,action:Dv(Fd,i,!0)},{keyCode:up.BACKSPACE,action:Dv(Ov,i,!1)},{keyCode:up.DELETE,action:Dv(Ov,i,!0)}],o).each(function(e){o.preventDefault()}))}),e.on("keyup",function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Av([{keyCode:up.BACKSPACE,action:Dv(Cc,n)},{keyCode:up.DELETE,action:Dv(Cc,n)}],i))})}(e,o),(n=e).on("keydown",function(e){var t,i,r;e.keyCode===up.ENTER&&(t=n,(i=e).isDefaultPrevented()||(i.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),ob(t,i)})))}),(t=e).on("keydown",function(e){var n,i;!1===e.isDefaultPrevented()&&(n=t,i=e,Av([{keyCode:up.SPACEBAR,action:Dv(lb,n)}],i).each(function(e){i.preventDefault()}))})};var hb=function(e){return Nr.isElement(e)&&hr(Wn(e))},fb=fo.DOM,pb=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&ye.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)},gb=function(e,t){var n,i,r,o,s,a,l,u,c,d=e.settings,h=e.getElement(),f=e.getDoc();d.inline||(e.getElement().style.visibility=e.orgVisibility),t||d.content_editable||(f.open(),f.write(e.iframeHTML),f.close()),d.content_editable&&(e.on("remove",function(){var e=this.getBody();fb.removeClass(e,"mce-content-body"),fb.removeClass(e,"mce-edit-focus"),fb.setAttrib(e,"contentEditable",null)}),fb.addClass(h,"mce-content-body"),e.contentDocument=f=d.content_document||document,e.contentWindow=d.content_window||window,e.bodyElement=h,d.content_document=d.content_window=null,d.root_name=h.nodeName.toLowerCase()),(n=e.getBody()).disabled=!0,e.readonly=d.readonly,e.readonly||(e.inline&&"static"===fb.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=Bf(e),e.schema=Zr(d),e.dom=fo(f,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:d.force_hex_style_colors,class_filter:d.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:d.content_editable,schema:e.schema,onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=((o=Mm((r=e).settings,r.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,o,s=e.length,a=r.dom;s--;)if(i=(n=e[s]).attr(t),o="data-mce-"+t,!n.attributes.map[o]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?((i=a.serializeStyle(a.parseStyle(i),n.name)).length||(i=null),n.attr(o,i),n.attr(t,i)):"tabindex"===t?(n.attr(o,i),n.attr(t,null)):n.attr(o,r.convertURL(i,t,n.name))}}),o.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)0!==(n=(t=e[i]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),o.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),o.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=r.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&0===t.getAll("br").length&&(t.append(new Cm("br",1)).shortEnded=!0)}),o),e.serializer=Hm(d,e),e.selection=_v(e.dom,e.getWin(),e.serializer,e),e.formatter=dm(e),e.undoManager=Mp(e),e._nodeChangeDispatcher=new function(e){var t,n=[];"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var i,r;r={startContainer:(i=e.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&Gd.isEq(r,t)||e.fire("SelectionChange"),t=r}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!pe.range&&e.selection.isCollapsed()||!function(t){var i,r;if((r=e.$(t).parentsUntil(e.getBody()).add(t)).length===n.length){for(i=r.length;0<=i&&r[i]===n[i];i--);if(-1===i)return n=r,!0}return n=r,!1}(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){t.isDefaultPrevented()||("IMG"===e.selection.getNode().nodeName?ye.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,i,r,o=e.selection;e.initialized&&o&&!e.settings.disable_nodechange&&!e.readonly&&(r=e.getBody(),(n=o.getStart(!0)||r).ownerDocument===e.getDoc()&&e.dom.isChildOf(n,r)||(n=r),i=[],e.dom.getParent(n,function(e){if(e===r)return!0;i.push(e)}),(t=t||{}).element=n,t.parents=i,e.fire("NodeChange",t))}}(e),e._selectionOverrides=gp(e),function(e){e.on("click",function(t){3===t.detail&&function(e){var t=e.selection.getRng(),n=Es.fromRangeStart(t),i=Es.fromRangeEnd(t);if(Es.isElementPosition(n)){var r=n.container();hb(r)&&Ws.firstPositionIn(r).each(function(e){return t.setStart(e.container(),e.offset())})}Es.isElementPosition(i)&&(r=n.container(),hb(r)&&Ws.lastPositionIn(r).each(function(e){return t.setEnd(e.container(),e.offset())})),e.selection.setRng(vu(t))}(e)})}(e),db(e),function(e){e.settings.forced_root_block&&e.on("NodeChange",b.curry(Hf,e))}(e),e.fire("PreInit"),d.browser_spellcheck||d.gecko_spellcheck||(f.body.spellcheck=!1,fb.setAttrib(n,"spellcheck","false")),e.quirks=function(e){var t,n,i,r=Mt.each,o=up.BACKSPACE,s=up.DELETE,a=e.dom,l=e.selection,u=e.settings,c=e.parser,d=pe.gecko,h=pe.ie,f=pe.webkit,p="data:text/mce-internal,",g=h?"Text":"URL",m=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},v=function(e){return e.isDefaultPrevented()},b=function(){e.shortcuts.add("meta+a",null,"SelectAll")},y=function(){e.on("keydown",function(e){if(!v(e)&&e.keyCode===o&&l.isCollapsed()&&0===l.getRng().startOffset){var t=l.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},_=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(11<pe.ie)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))};return e.on("keydown",function(t){var n,i,r,o,s;if(!v(t)&&t.keyCode===up.BACKSPACE&&(i=(n=l.getRng()).startContainer,r=n.startOffset,o=a.getRoot(),s=i,n.collapsed&&0===r)){for(;s&&s.parentNode&&s.parentNode.firstChild===s&&s.parentNode!==o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(e.formatter.toggle("blockquote",null,s),(n=a.createRng()).setStart(i,0),n.setEnd(i,0),l.setRng(n))}}),t=function(e){var t=a.create("body"),n=e.cloneContents();return t.appendChild(n),l.serializer.serialize(t,{format:"html"})},e.on("keydown",function(n){var i,r,l,u,c,d=n.keyCode;if(!v(n)&&(d===s||d===o)){if(i=e.selection.isCollapsed(),r=e.getBody(),i&&!a.isEmpty(r))return;if(!i&&(l=e.selection.getRng(),u=t(l),(c=a.createRng()).selectNode(e.getBody()),u!==t(c)))return;n.preventDefault(),e.setContent(""),r.firstChild&&a.isBlock(r.firstChild)?e.selection.setCursorLocation(r.firstChild,0):e.selection.setCursorLocation(r,0),e.nodeChanged()}}),pe.windowsPhone||e.on("keyup focusin mouseup",function(e){up.modifierPressed(e)||l.normalize()},!0),f&&(e.settings.content_editable||a.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=l.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Ao(n.startContainer))return;l.placeCaretAt(t.clientX,t.clientY)}else l.setRng(n)}),e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==a.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&a.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),l.select(n))}),u.forced_root_block&&e.on("init",function(){m("DefaultParagraphSeparator",u.forced_root_block)}),e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})}),y(),c.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),pe.iOS?(e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()}),_(),e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),11<=pe.ie&&(_(),y()),pe.ie&&(b(),m("AutoUrlDetect",!1),e.on("dragstart",function(t){var n,i,r;(n=t).dataTransfer&&(e.selection.isCollapsed()&&"IMG"===n.target.tagName&&l.select(n.target),0<(i=e.selection.getContent()).length&&(r=p+escape(e.id)+","+escape(i),n.dataTransfer.setData(g,r)))}),e.on("drop",function(t){if(!v(t)){var n=(o=t).dataTransfer&&(s=o.dataTransfer.getData(g))&&0<=s.indexOf(p)?(s=s.substr(p.length).split(","),{id:unescape(s[0]),html:unescape(s[1])}):null;if(n&&n.id!==e.id){t.preventDefault();var i=Vm.fromPoint(t.x,t.y,e.getDoc());l.setRng(i),r=n.html,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:r,internal:!0}):e.execCommand("mceInsertContent",!1,r)}}var r,o,s})),d&&(e.on("keydown",function(t){if(!v(t)&&t.keyCode===o){if(!e.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng().startOffset){var n=l.getNode(),i=n.previousSibling;if("HR"===n.nodeName)return a.remove(n),void t.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(a.remove(i),t.preventDefault())}}}),Range.prototype.getClientRects||e.on("mousedown",function(t){if(!v(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),ye.setEditorTimeout(e,function(){n.focus()})}}),n=function(){var t=a.getAttribs(l.getStart().cloneNode(!1));return function(){var n=l.getStart();n!==e.getBody()&&(a.setAttrib(n,"style",null),r(t,function(e){n.setAttributeNode(e.cloneNode(!0))}))}},i=function(){return!l.isCollapsed()&&a.getParent(l.getStart(),a.isBlock)!==a.getParent(l.getEnd(),a.isBlock)},e.on("keypress",function(t){var r;if(!v(t)&&(8===t.keyCode||46===t.keyCode)&&i())return r=n(),e.getDoc().execCommand("delete",!1,null),r(),t.preventDefault(),!1}),a.bind(e.getDoc(),"cut",function(t){var r;!v(t)&&i()&&(r=n(),ye.setEditorTimeout(e,function(){r()}))}),u.readonly||e.on("BeforeExecCommand MouseDown",function(){m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),u.object_resizing||m("enableObjectResizing",!1)}),e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||r(a.select("a"),function(e){var t=e.parentNode,n=a.getRoot();if(t.lastChild===e){for(;t&&!a.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}a.add(t,"br",{"data-mce-bogus":1})}})}),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),pe.mac&&e.on("keydown",function(t){!up.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))}),y()),{refreshContentEditable:function(){},isHidden:function(){var t;return!d||e.removed?0:!(t=e.selection.getSel())||!t.rangeCount||0===t.rangeCount}}}(e),e.fire("PostRender"),d.directionality&&(n.dir=d.directionality),d.nowrap&&(n.style.whiteSpace="nowrap"),d.protect&&e.on("BeforeSetContent",function(e){Mt.each(d.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),0<e.contentStyles.length&&(i="",Mt.each(e.contentStyles,function(e){i+=e+"\r\n"}),e.dom.addStyle(i)),(s=e,s.inline?fb.styleSheetLoader:s.dom.styleSheetLoader).loadAll(e.contentCSS,function(t){pb(e)},function(t){pb(e)}),d.content_style&&(a=e,l=d.content_style,u=Wn(a.getDoc().head),c=zn("style"),si(c,"type","text/css"),_a(c,qn(l)),_a(u,c))},mb=fo.DOM,vb=function(e,t){var n,i,r,o,s,a,l,u=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),c=(n=e.id,i=u,r=t.height,o=function(e){return e.getParam("iframe_attrs",{})}(e),l=zn("iframe"),ai(l,o),ai(l,{id:n+"_ifr",frameBorder:"0",allowTransparency:"true",title:i}),gi(l,{width:"100%",height:(s=r,a="number"==typeof s?s+"px":s,a||""),display:"block"}),l).dom();c.onload=function(){c.onload=null,e.fire("load")};var d,h,f,p,g=function(e,t){if(document.domain!==window.location.hostname&&pe.ie&&pe.ie<12){var n=Rf.uuid("mce");e[n]=function(){gb(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return mb.setAttrib(t,"src",i),!0}return!1}(e,c);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=c,e.iframeHTML=(p=function(e){return e.getParam("doctype","<!DOCTYPE html>")}(d=e)+"<html><head>",function(e){return e.getParam("document_base_url","")}(d)!==d.documentBaseUrl&&(p+='<base href="'+d.documentBaseURI.getURI()+'" />'),p+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',h=function(e){return ha(e,"body_id","tinymce")}(d),f=function(e){return ha(e,"body_class","")}(d),fa(d)&&(p+='<meta http-equiv="Content-Security-Policy" content="'+fa(d)+'" />'),p+='</head><body id="'+h+'" class="mce-content-body '+f+'" data-id="'+d.id+'"><br></body></html>'),mb.add(t.iframeContainer,c),g},bb=fo.DOM,yb=function(e,t,n){var i,r,o=wf.get(n);if(i=wf.urls[n]||e.documentBaseUrl.replace(/\/$/,""),n=Mt.trim(n),o&&-1===Mt.inArray(t,n)){if(Mt.each(wf.dependencies(n),function(n){yb(e,t,n)}),e.plugins[n])return;r=new o(e,i,e.$),(e.plugins[n]=r).init&&(r.init(e,i),t.push(n))}},_b=function(e){return e.replace(/^\-/,"")},wb=function(e){return{editorContainer:e,iframeContainer:e}},xb=function(e){var t,n,i,r,o,s,a,l,u,c,d,h=e.settings,f=e.getElement();return e.orgDisplay=f.style.display,E.isString(h.theme)?(c=(r=e).settings,d=r.getElement(),o=c.width||bb.getStyle(d,"width")||"100%",s=c.height||bb.getStyle(d,"height")||d.offsetHeight,a=c.min_height||100,(l=/^[0-9\.]+(|px)$/i).test(""+o)&&(o=Math.max(parseInt(o,10),100)),l.test(""+s)&&(s=Math.max(parseInt(s,10),a)),u=r.theme.renderUI({targetNode:d,width:o,height:s,deltaWidth:c.delta_width,deltaHeight:c.delta_height}),c.content_editable||(s=(u.iframeHeight||s)+("number"==typeof s?u.deltaHeight||0:""))<a&&(s=a),u.height=s,u):E.isFunction(h.theme)?(i=(t=e).getElement(),(n=t.settings.theme(t,i)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:i.offsetHeight,n):function(e){var t,n,i=e.getElement();return e.inline?wb(null):(t=i,n=bb.create("div"),bb.insertAfter(n,t),wb(n))}(e)},Cb=function(e){var t,n,i,r,o,s,a=e.settings,l=e.getElement();return e.rtl=a.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(a.language),a.aria_label=a.aria_label||bb.getAttrib(l,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),r=(n=e).settings.theme,E.isString(r)?(n.settings.theme=_b(r),i=xf.get(r),n.theme=new i(n,xf.urls[r]),n.theme.init&&n.theme.init(n,xf.urls[r]||n.documentBaseUrl.replace(/\/$/,""),n.$)):n.theme={},o=e,s=[],Mt.each(o.settings.plugins.split(/[ ,]/),function(e){yb(o,s,_b(e))}),t=xb(e),e.editorContainer=t.editorContainer?t.editorContainer:null,a.content_css&&Mt.each(Mt.explode(a.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),a.content_editable?gb(e):function(e,t){var n=vb(e,t);t.editorContainer&&(mb.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=mb.isHidden(t.editorContainer)),e.getElement().style.display="none",mb.setAttrib(e.id,"aria-hidden","true"),n||gb(e)}(e,t)},kb=fo.DOM,Tb=function(e){return"-"===e.charAt(0)},Eb=function(e){var t,n,i,r=e.settings,o=e.id,s=function(){kb.unbind(window,"ready",s),e.render()};if(Ne.Event.domLoaded){if(e.getElement()&&pe.contentEditable){r.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var a=e.getElement().form||kb.getParent(o,"form");a&&(e.formElement=a,r.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(kb.insertAfter(kb.create("input",{type:"hidden",name:o}),o),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},kb.bind(a,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!r.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)})),e.windowManager=mf(e),e.notificationManager=gf(e),"xml"===r.encoding&&e.on("GetContent",function(e){e.save&&(e.content=kb.encode(e.content))}),r.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),r.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),t=e,n=e.suffix,function(e,t,n,i){var r=t.settings,o=r.theme;if(E.isString(o)){if(!Tb(o)&&!xf.urls.hasOwnProperty(o)){var s=r.theme_url;s?xf.load(o,t.documentBaseURI.toAbsolute(s)):xf.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue(function(){xf.waitFor(o,i)})}else i()}(i=bo.ScriptLoader,t,n,function(){var e,r,o,s,a;e=i,(o=(r=t).settings).language&&"en"!==o.language&&!o.language_url&&(o.language_url=r.editorManager.baseURL+"/langs/"+o.language+".js"),o.language_url&&!r.editorManager.i18n.data[o.language]&&e.add(o.language_url),s=t.settings,a=n,Mt.isArray(s.plugins)&&(s.plugins=s.plugins.join(" ")),Mt.each(s.external_plugins,function(e,t){wf.load(t,e),s.plugins+=" "+t}),Mt.each(s.plugins.split(/[ ,]/),function(e){if((e=Mt.trim(e))&&!wf.urls[e])if(Tb(e)){e=e.substr(1,e.length);var t=wf.dependencies(e);Mt.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+a+".js"};e=wf.createUrl(t,e),wf.load(e.resource,e)})}else wf.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+a+".js"})}),i.loadQueue(function(){t.removed||Cb(t)},t,function(e){_f.pluginLoadError(t,e[0]),t.removed||Cb(t)})})}}else kb.bind(window,"ready",s)},Sb=Mt.each,Nb=Mt.trim,Db="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Ab={ftp:21,http:80,https:443,mailto:25},Ib=function(e,t){var n,i,r=this;if(e=Nb(e),n=(t=r.settings=t||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))r.source=e;else{var o=0===e.indexOf("//");0!==e.indexOf("/")||o||(e=(n&&n.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(i=t.base_uri?t.base_uri.path:new Ib(document.location.href).directory,""==t.base_uri.protocol?e="//mce_host"+r.toAbsPath(i,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(i,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),Sb(Db,function(t,n){var i=e[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),r[t]=i}),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),o&&(r.protocol="")}};Ib.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!==(e=new Ib(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),i=e.getURI();return n===i||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===i?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new Ib(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=Ab[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,s="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!==n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!==n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)s+="../";for(i=o-1,r=n.length;i<r;i++)s+=i!==o-1?"/"+n[i]:n[i];return s},toAbsPath:function(e,t){var n,i,r,o=0,s=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),Sb(e,function(e){e&&s.push(e)}),e=s,n=t.length-1,s=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<o?o--:s.push(t[n]):o++);return 0!==(r=(n=e.length-o)<=0?s.reverse().join("/"):e.slice(0,n).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},Ib.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},Ib.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var Pb=function(e,t){t(e),e.firstChild&&Pb(e.firstChild,t),e.next&&Pb(e.next,t)},Ob=function(e){return e instanceof Cm},Mb=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=Ob(t)?"":t,Ob(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),k.from(e.getBody()).fold(b.constant(t),function(i){return Ob(t)?function(e,t,n,i){!function(e,t,n){var i=function(e,t,n){var i={},r={},o=[];for(var s in n.firstChild&&Pb(n.firstChild,function(n){j.each(e,function(e){e.name===n.name&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})}),j.each(t,function(e){"string"==typeof n.attr(e.name)&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})}),i)i.hasOwnProperty(s)&&o.push(i[s]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o}(e,t,n);j.each(i,function(e){j.each(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})}(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var r=mu({validate:e.validate},e.schema).serialize(n);return i.content=Mt.trim(r),e.dom.setHTML(t,i.content),i.no_events||e.fire("SetContent",i),n}(e,i,t,n):(r=e,o=i,a=n,0===(s=t).length||/^\s+$/.test(s)?(u='<br data-mce-bogus="1">',"TABLE"===o.nodeName?s="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(s="<li>"+u+"</li>"),(l=pa(r))&&r.schema.isValidChild(o.nodeName.toLowerCase(),l.toLowerCase())?(s=u,s=r.dom.createHTML(l,r.settings.forced_root_block_attrs,s)):s||(s='<br data-mce-bogus="1">'),r.dom.setHTML(o,s),r.fire("SetContent",a)):("raw"!==a.format&&(s=mu({validate:r.validate},r.schema).serialize(r.parser.parse(s,{isRootContent:!0,insert:!0}))),a.content=Mt.trim(s),r.dom.setHTML(o,a.content),a.no_events||r.fire("SetContent",a)),a.content);var r,o,s,a,l,u})},Rb=fo.DOM,Bb=function(e){return k.from(e).each(function(e){return e.destroy()})},Lb=fo.DOM,Fb=Mt.extend,Hb=Mt.each,jb=Mt.resolve,zb=pe.ie,qb=function(e,t,n){var i,r,o,s,a,l,u,c=this,d=c.documentBaseUrl=n.documentBaseURL,h=n.baseURI;i=c,r=e,o=d,s=n.defaultSettings,a=t,u={id:r,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(l=i).convertURL,url_converter_scope:l,ie7_compat:!0},t=Iu(Eu,u,s,a),c.settings=t,wo.language=t.language||"en",wo.languageLoad=t.language_load,wo.baseURL=n.baseURL,c.id=e,c.setDirty(!1),c.plugins={},c.documentBaseURI=new Ib(t.document_base_url,{base_uri:h}),c.baseURI=h,c.contentCSS=[],c.contentStyles=[],c.shortcuts=new Zh(c),c.loadedCSS={},c.editorCommands=new Bh(c),c.suffix=n.suffix,c.editorManager=n,c.inline=t.inline,c.buttons={},c.menuItems={},t.cache_suffix&&(pe.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(pe.overrideViewPort=!1),n.fire("SetupEditor",{editor:c}),c.execCallback("setup",c),c.$=Zt.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}})};Fb(qb.prototype={render:function(){Eb(this)},focus:function(e){!function(e,t){e.removed||(t?sf(e):function(e){var t=e.selection,n=e.settings.content_editable,i=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable();var o,s,a=(o=e,s=t.getNode(),o.dom.getParent(s,function(e){return"true"===o.dom.getContentEditable(e)}));if(e.$.contains(i,a))return rf(a),nf(e,r),sf(e);void 0!==e.bookmark&&!1===of(e)&&Ah.getRng(e).each(function(t){e.selection.setRng(t),r=t}),n||(pe.opera||rf(i),e.getWin().focus()),(pe.gecko||n)&&(rf(i),nf(e,r)),sf(e)}(e))}(this,e)},hasFocus:function(){return af(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,r=this.settings[e];if(r)return this.callbackLookup&&(i=this.callbackLookup[e])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?jb(i):0,r=jb(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:r,scope:i}),r.apply(i||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&Mt.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return function(e,t,n,i){var r,o,s,a=t in e.settings?e.settings[t]:n;return"hash"===i?(s={},"string"==typeof(o=a)?j.each(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(e){var t=e.split("=");1<t.length?s[Mt.trim(t[0])]=Mt.trim(t[1]):s[Mt.trim(t[0])]=Mt.trim(t)}):s=o,s):"string"===i?Pu(E.isString,e,t).getOr(n):"number"===i?Pu(E.isNumber,e,t).getOr(n):"boolean"===i?Pu(E.isBoolean,e,t).getOr(n):"object"===i?Pu(E.isObject,e,t).getOr(n):"array"===i?Pu(E.isArray,e,t).getOr(n):"string[]"===i?Pu((r=E.isString,function(e){return E.isArray(e)&&j.forall(e,r)}),e,t).getOr(n):"function"===i?Pu(E.isFunction,e,t).getOr(n):a}(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&void 0===t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return function(e,t,n){var i=e.sidebars?e.sidebars:[];i.push({name:t,settings:n}),e.sidebars=i}(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({id:Rf.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(Lb.show(this.getContainer()),Lb.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(zb&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(Lb.hide(e.getContainer()),Lb.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=this.setContent(void 0!==n.value?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"===e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=Lb.getParent(i.id,"form"))&&Hb(n.elements,function(e){if(e.name===i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},setContent:function(e,t){return Mb(this,e,t)},getContent:function(e){return t=this,void 0===(n=e)&&(n={}),k.from(t.getBody()).fold(b.constant("tree"===n.format?new Cm("body",11):""),function(e){return function(e,t,n){var i,r,o,s,a;if(t.format=t.format?t.format:"html",t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)i=Mt.trim(Cp(e.serializer,n.innerHTML));else if("text"===t.format)i=To(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);o=(r=e).serializer.serialize(n,t),s=pa(r),a=new RegExp("^(<"+s+"[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/"+s+">[\r\n]*|<br \\/>[\r\n]*)$"),i=o.replace(a,"")}return"text"!==t.format?t.content=Mt.trim(i):t.content=i,t.no_events||e.fire("GetContent",t),t.content}(t,n,e)});var t,n},insertContent:function(e,t){t&&(e=Fb({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){!function(e,t){var n=e.readonly?"readonly":"design";t!==n&&(e.initialized?Kh(e,"readonly"===t):e.on("init",function(){Kh(e,"readonly"===t)}),e.fire("SwitchMode",{mode:t}))}(this,e)},getContainer:function(){return this.container||(this.container=Lb.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=Lb.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var t,n=this,i=n.settings,r=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),Hb(r.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return t=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(e,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(e,t):r.addClass(e,t));case"A":return void(r.getAttrib(e,"href")||(o=r.getAttrib(e,"name")||e.id,t=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(e,t):r.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){!function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,i=e.getBody(),r=e.getElement();i&&e.save(),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&Rb.remove(r.nextSibling),!e.inline&&i&&(o=e,Rb.setStyle(o.id,"display",o.orgDisplay)),function(e){e.fire("remove")}(e),e.editorManager.remove(e),Rb.remove(e.getContainer()),Bb(t),Bb(n),e.destroy()}var o}(this)},destroy:function(e){!function(e,t){var n,i,r,o=e.selection,s=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Bb(o),Bb(s)),(i=(n=e).formElement)&&(i._mceOldSubmit&&(i.submit=i._mceOldSubmit,i._mceOldSubmit=null),Rb.unbind(i,"submit reset",n.formEventDelegate)),(r=e).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),e.destroyed=!0):e.remove())}(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},Vh);var Wb,Ub,$b,Vb={isEditorUIElement:function(e){return-1!==e.className.toString().indexOf("mce-")}},Yb=function(e){var t,n,i,r=lp(function(){Ah.store(e)},0);e.inline&&(t=e,n=r,i=function(){n.throttle()},fo.DOM.bind(document,"mouseup",i),t.on("remove",function(){fo.DOM.unbind(document,"mouseup",i)})),e.on("init",function(){!function(e,t){var n,i,r=Fn.detect().browser;r.isIE()||r.isEdge()?(i=e).on("focusout",function(){Ah.store(i)}):(n=t,e.on("mouseup touchend",function(e){n.throttle()})),e.on("keyup nodechange",function(t){var n;"nodechange"===(n=t).type&&n.selectionChange||Ah.store(e)})}(e,r)}),e.on("remove",function(){r.cancel()})},Kb=fo.DOM,Xb=function(e,t){var n=e?e.settings.custom_ui_selector:"";return null!==Kb.getParent(t,function(t){return function(e){return Vb.isEditorUIElement(e)}(t)||!!n&&e.dom.is(t,n)})},Gb=function(e,t){var n=t.editor;Yb(n),n.on("focusin",function(){var t=e.focusedEditor;t!==this&&(t&&t.fire("blur",{focusedEditor:this}),e.setActive(this),(e.focusedEditor=this).fire("focus",{blurredEditor:t}),this.focus(!0))}),n.on("focusout",function(){var t=this;ye.setEditorTimeout(t,function(){var n=e.focusedEditor;Xb(t,function(){try{return document.activeElement}catch(e){return document.body}}())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Wb||(Wb=function(t){var n,i=e.activeEditor;n=t.target,i&&n.ownerDocument===document&&(n===document.body||Xb(i,n)||e.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},Kb.bind(document,"focusin",Wb))},Jb=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Kb.unbind(document,"focusin",Wb),Wb=null)},Qb={},Zb="en",ey={setCode:function(e){e&&(Zb=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return Zb},rtl:!1,add:function(e,t){var n=Qb[e];for(var i in n||(Qb[e]=n={}),t)n[i]=t[i];this.setCode(e)},translate:function(e){var t=Qb[Zb]||{},n=function(e){return Mt.is(e,"function")?Object.prototype.toString.call(e):i(e)?"":""+e},i=function(e){return""===e||null===e||Mt.is(e,"undefined")},r=function(e){return e=n(e),Mt.hasOwn(t,e)?n(t[e]):e};if(i(e))return"";if(Mt.is(e,"object")&&Mt.hasOwn(e,"raw"))return n(e.raw);if(Mt.is(e,"array")){var o=e.slice(1);e=r(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return Mt.hasOwn(o,t)?n(o[t]):e})}return r(e).replace(/{context:\w+}$/,"")},data:Qb},ty=fo.DOM,ny=Mt.explode,iy=Mt.each,ry=Mt.extend,oy=0,sy=!1,ay=[],ly=[],uy=function(e){iy($b.get(),function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})},cy=function(e){e!==sy&&(e?Zt(window).on("resize scroll",uy):Zt(window).off("resize scroll",uy),sy=e)},dy=function(e){var t=ly;delete ay[e.id];for(var n=0;n<ay.length;n++)if(ay[n]===e){ay.splice(n,1);break}return ly=j.filter(ly,function(t){return e!==t}),$b.activeEditor===e&&($b.activeEditor=0<ly.length?ly[0]:null),$b.focusedEditor===e&&($b.focusedEditor=null),t.length!==ly.length};ry($b={defaultSettings:{},$:Zt,majorVersion:"4",minorVersion:"7.11",releaseDate:"2018-04-11",editors:ay,i18n:ey,activeEditor:null,settings:{},setup:function(){var e,t,n,i,r="";if(t=Ib.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,r=n.suffix;else{for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var a=(i=o[s].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==a.indexOf(".min")&&(r=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(i=document.currentScript.src).indexOf(".min")&&(r=".min"),e=i.substring(0,i.lastIndexOf("/")))}this.baseURL=new Ib(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new Ib(this.baseURL),this.suffix=r,function(e){e.on("AddEditor",b.curry(Gb,e)),e.on("RemoveEditor",b.curry(Jb,e))}(this)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new Ib(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Ib(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var i=(this.defaultSettings=e).plugin_base_urls;for(var r in i)wo.PluginManager.urls[r]=i[r]},init:function(e){var t,n,i=this;n=Mt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var r=function(e){var t=e.id;return t||(t=(t=e.name)&&!ty.get(t)?e.name:ty.uniqueId(),e.setAttribute("id",t)),t},o=function(e,t){return t.constructor===RegExp?t.test(e.className):ty.hasClass(e,t)},s=function(e){t=e},a=function(){var t,l=0,u=[],c=function(e,n,r){var o=new qb(e,n,i);u.push(o),o.on("init",function(){++l===t.length&&s(u)}),o.targetElm=o.targetElm||r,o.render()};ty.unbind(window,"ready",a),function(t){var n=e[t];n&&n.apply(i,Array.prototype.slice.call(arguments,2))}("onpageload"),t=Zt.unique(function(e){var t,n=[];if(pe.ie&&pe.ie<11)return _f.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return iy(e.types,function(e){n=n.concat(ty.select(e.selector))}),n;if(e.selector)return ty.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":0<(t=e.elements||"").length&&iy(ny(t),function(e){var t;(t=ty.get(e))?n.push(t):iy(document.forms,function(t){iy(t.elements,function(t){t.name===e&&(e="mce_editor_"+oy++,ty.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":iy(ty.select("textarea"),function(t){e.editor_deselector&&o(t,e.editor_deselector)||e.editor_selector&&!o(t,e.editor_selector)||n.push(t)})}return n}(e)),e.types?iy(e.types,function(n){Mt.each(t,function(t){return!ty.is(t,n.selector)||(c(r(t),ry({},e,n),t),!1)})}):(Mt.each(t,function(e){var t;(t=i.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(dy(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),0===(t=Mt.grep(t,function(e){return!i.get(e.id)})).length?s([]):iy(t,function(t){var i;i=t,e.inline&&i.tagName.toLowerCase()in n?_f.initError("Could not initialize inline editor on invalid inline target element",t):c(r(t),e,t)}))};return i.settings=e,ty.bind(window,"ready",a),new ge(function(e){t?e(t):s=function(t){e(t)}})},get:function(e){return 0===arguments.length?ly.slice(0):E.isString(e)?j.find(ly,function(t){return t.id===e}).getOr(null):E.isNumber(e)&&ly[e]?ly[e]:null},add:function(e){var t=this;return ay[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(ay[e.id]=e),ay.push(e),ly.push(e)),cy(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Ub||(Ub=function(){t.fire("BeforeUnload")},ty.bind(window,"beforeunload",Ub))),e},createEditor:function(e,t){return this.add(new qb(e,t,this))},remove:function(e){var t,n,i=this;if(e)return E.isString(e)?(e=e.selector||e,void iy(ty.select(e),function(e){(n=i.get(e.id))&&i.remove(n)})):(n=e,E.isNull(i.get(n.id))?null:(dy(n)&&i.fire("RemoveEditor",{editor:n}),0===ly.length&&ty.unbind(window,"beforeunload",Ub),n.remove(),cy(0<ly.length),n));for(t=ly.length-1;0<=t;t--)i.remove(ly[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new qb(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){iy(ly,function(e){e.save()})},addI18n:function(e,t){ey.add(e,t)},translate:function(e){return ey.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},zh),$b.setup();var hy,fy=$b;function py(e){return{walk:function(t,n){return Pg.walk(e,t,n)},split:mg.split,normalize:function(t){return ih.normalize(e,t).fold(b.constant(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}(hy=py||(py={})).compareRanges=Gd.isEq,hy.getCaretRangeFromPoint=Vm.fromPoint,hy.getSelectedNode=es,hy.getNode=ts;var gy,my,vy=py,by=Math.min,yy=Math.max,_y=Math.round,wy=function(e,t,n){var i,r,o,s,a,l;return i=t.x,r=t.y,o=e.w,s=e.h,a=t.w,l=t.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=a),"c"===n[0]&&(r+=_y(l/2)),"c"===n[1]&&(i+=_y(a/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=_y(s/2)),"c"===n[4]&&(i-=_y(o/2)),xy(i,r,o,s)},xy=function(e,t,n,i){return{x:e,y:t,w:n,h:i}},Cy={inflate:function(e,t,n){return xy(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:wy,findBestRelativePosition:function(e,t,n,i){var r,o;for(o=0;o<i.length;o++)if((r=wy(e,t,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(e,t){var n,i,r,o;return n=yy(e.x,t.x),i=yy(e.y,t.y),r=by(e.x+e.w,t.x+t.w),o=by(e.y+e.h,t.y+t.h),r-n<0||o-i<0?null:xy(n,i,r-n,o-i)},clamp:function(e,t,n){var i,r,o,s,a,l,u,c,d,h;return a=e.x,l=e.y,u=e.x+e.w,c=e.y+e.h,d=t.x+t.w,h=t.y+t.h,i=yy(0,t.x-a),r=yy(0,t.y-l),o=yy(0,u-d),s=yy(0,c-h),a+=i,l+=r,n&&(u+=i,c+=r,a-=o,l-=s),xy(a,l,(u-=o)-a,(c-=s)-l)},create:xy,fromClientRect:function(e){return xy(e.left,e.top,e.width,e.height)}},ky={},Ty={add:function(e,t){ky[e.toLowerCase()]=t},has:function(e){return!!ky[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=ky.hasOwnProperty(t)?ky[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=ky[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}},Ey=Mt.each,Sy=Mt.extend,Ny=function(){};Ny.extend=gy=function(e){var t,n,i,r=this.prototype,o=function(){var e,t,n;if(!my&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},s=function(){return this},a=function(e,t){return function(){var n,i=this._super;return this._super=r[e],n=t.apply(this,arguments),this._super=i,n}};for(n in my=!0,t=new this,my=!1,e.Mixins&&(Ey(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),r.Mixins&&(e.Mixins=r.Mixins.concat(e.Mixins))),e.Methods&&Ey(e.Methods.split(","),function(t){e[t]=s}),e.Properties&&Ey(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}}),e.Statics&&Ey(e.Statics,function(e,t){o[t]=e}),e.Defaults&&r.Defaults&&(e.Defaults=Sy({},r.Defaults,e.Defaults)),e)"function"==typeof(i=e[n])&&r[n]?t[n]=a(n,i):t[n]=i;return o.prototype=t,(o.constructor=o).extend=gy,o};var Dy=Math.min,Ay=Math.max,Iy=Math.round,Py=function(e,t){var n,i,r,o;if(t=t||'"',null===e)return"null";if("string"==(r=typeof e))return i="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,r){return'"'===t&&"'"===e?e:(n=i.indexOf(r))+1?"\\"+i.charAt(n+1):(e=r.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+t;if("object"===r){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,i="[";n<e.length;n++)i+=(0<n?",":"")+Py(e[n],t);return i+"]"}for(o in i="{",e)e.hasOwnProperty(o)&&(i+="function"!=typeof e[o]?(1<i.length?","+t:t)+o+t+":"+Py(e[o],t):"");return i+"}"}return""+e},Oy={serialize:Py,parse:function(e){try{return JSON.parse(e)}catch(e){}}},My={callbacks:{},count:0,send:function(e){var t=this,n=fo.DOM,i=void 0!==e.count?e.count:t.count,r="tinymce_jsonp_"+i;t.callbacks[i]=function(o){n.remove(r),delete t.callbacks[i],e.callback(o)},n.add(n.doc.body,"script",{id:r,src:e.url,type:"text/javascript"}),t.count++}},Ry={send:function(e){var t,n=0,i=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",Ry.fire("beforeInitialize",{settings:e}),t=new Cf){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Mt.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=Ry.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return i();setTimeout(i,10)}}};Mt.extend(Ry,zh);var By=Mt.extend,Ly=function(e){this.settings=By({},e),this.count=0};Ly.sendRPC=function(e){return(new Ly).send(e)},Ly.prototype={send:function(e){var t=e.error,n=e.success;(e=By(this.settings,e)).success=function(i,r){void 0===(i=Oy.parse(i))&&(i={error:"JSON Parse error."}),i.error?t.call(e.error_scope||e.scope,i.error,r):n.call(e.success_scope||e.scope,i.result)},e.error=function(n,i){t&&t.call(e.error_scope||e.scope,n,i)},e.data=Oy.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",Ry.send(e)}};var Fy,Hy=window.localStorage,jy=fy,zy={geom:{Rect:Cy},util:{Promise:ge,Delay:ye,Tools:Mt,VK:up,URI:Ib,Class:Ny,EventDispatcher:Fh,Observable:zh,I18n:ey,XHR:Ry,JSON:Oy,JSONRequest:Ly,JSONP:My,LocalStorage:Hy,Color:function(e){var t={},n=0,i=0,r=0,o=function(e){var o;return"object"==typeof e?"r"in e?(n=e.r,i=e.g,r=e.b):"v"in e&&function(e,t,o){var s,a,l,u;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,o=parseInt(o,10)/100,t=Ay(0,Dy(t,1)),o=Ay(0,Dy(o,1)),0!==t){switch(s=e/60,l=(a=o*t)*(1-Math.abs(s%2-1)),u=o-a,Math.floor(s)){case 0:n=a,i=l,r=0;break;case 1:n=l,i=a,r=0;break;case 2:n=0,i=a,r=l;break;case 3:n=0,i=l,r=a;break;case 4:n=l,i=0,r=a;break;case 5:n=a,i=0,r=l;break;default:n=i=r=0}n=Iy(255*(n+u)),i=Iy(255*(i+u)),r=Iy(255*(r+u))}else n=i=r=Iy(255*o)}(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=n<0?0:255<n?255:n,i=i<0?0:255<i?255:i,r=r<0?0:255<r?255:r,t};return e&&o(e),t.toRgb=function(){return{r:n,g:i,b:r}},t.toHsv=function(){return e=n,t=i,o=r,a=0,(l=Dy(e/=255,Dy(t/=255,o/=255)))===(u=Ay(e,Ay(t,o)))?{h:0,s:0,v:100*(a=l)}:(s=(u-l)/u,{h:Iy(60*((e===l?3:o===l?1:5)-(e===l?t-o:o===l?e-t:o-e)/((a=u)-l))),s:Iy(100*s),v:Iy(100*a)});var e,t,o,s,a,l,u},t.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(n)+e(i)+e(r)},t.parse=o,t}},dom:{EventUtils:Ne,Sizzle:dt,DomQuery:Zt,TreeWalker:ir,DOMUtils:fo,ScriptLoader:bo,RangeUtils:vy,Serializer:Hm,ControlSelection:Um,BookmarkManager:zm,Selection:_v,Event:Ne.Event},html:{Styles:to,Entities:qr,Node:Cm,Schema:Zr,SaxParser:wp,DomParser:Mm,Writer:gu,Serializer:mu},ui:{Factory:Ty},Env:pe,AddOnManager:wo,Formatter:dm,UndoManager:Mp,EditorCommands:Bh,WindowManager:mf,NotificationManager:gf,EditorObservable:Vh,Shortcuts:Zh,Editor:qb,FocusManager:Vb,EditorManager:fy,DOM:fo.DOM,ScriptLoader:bo.ScriptLoader,PluginManager:wo.PluginManager,ThemeManager:wo.ThemeManager,trim:Mt.trim,isArray:Mt.isArray,is:Mt.is,toArray:Mt.toArray,makeMap:Mt.makeMap,each:Mt.each,map:Mt.map,grep:Mt.grep,inArray:Mt.inArray,extend:Mt.extend,create:Mt.create,walk:Mt.walk,createNS:Mt.createNS,resolve:Mt.resolve,explode:Mt.explode,_addCacheSuffix:Mt._addCacheSuffix,isOpera:pe.opera,isWebKit:pe.webkit,isIE:pe.ie,isGecko:pe.gecko,isMac:pe.mac},qy=jy=Mt.extend(jy,zy);Fy=qy,window.tinymce=Fy,window.tinyMCE=Fy,function(e){if("object"==typeof module)try{module.exports=e}catch(e){}}(qy)}();var loadScript=new function(){var e=document.createElement("script");e.src="/assets/js/external/mathjax/MathJax.js?config=AM_HTMLorMML-full&delayStartupUntil=configured",document.body.appendChild(e)},uiCommon=new function(){this.showAlertBox=function(e){document.documentElement.clientWidth;var t=document.documentElement.clientHeight,n=.4*$(window).height();$("#"+e+" .overlay-content").width();if($("#"+e+" .overlay-content").css({position:"absolute",top:t/2-n/2}),$("#"+e+" .overlay-content").show(),$("#"+e+" .overlay").show(),$("#"+e).show(),$("#popupOKButton")&&$("#popupOKButton").trigger("focus"),!Modernizr.touch)try{$("#"+e+" .overlay-content").draggable({containment:"window"})}catch(e){}var i=document;$("#"+e).height(Math.max(Math.max(i.body.scrollHeight,i.documentElement.scrollHeight),Math.max(i.body.offsetHeight,i.documentElement.offsetHeight),Math.max(i.body.clientHeight,i.documentElement.clientHeight))-8),$("#"+e).width(Math.max(Math.max(i.body.scrollWidth,i.documentElement.scrollWidth),Math.max(i.body.offsetWidth,i.documentElement.offsetWidth),Math.max(i.body.clientWidth,i.documentElement.clientWidth))-8),$(window).scrollTop($(window).scrollTop()-1)}},blankstate='{"title":"","passage":"","questions":[]}',teststate=safeJSONparse(blankstate),istaking=!1,alltests={},undostack=[blankstate],undostacksize=blankstate.length,redostack=[],redostacksize=0,highlightedID="",showDeleted=!1,currentFocusElement=$(""),lasttinymceobject,lasttinymcefield,mjpreviewtimer;function safeJSONparse(e){try{return JSON.parse(e)}catch(e){return!1}}function newquestion(e){teststate.questions.push({text:"",parts:[]});var t=teststate.questions.length-1;"mc"===e?addmc(t):"ms"===e?addms(t):"cr"===e&&addcr(t),pushstate()}function addmc(e){teststate.questions[e].parts.push({type:"mc",text:"",note:"",dok:"",options:[]}),render(istaking,!0),pushstate()}function addms(e){teststate.questions[e].parts.push({type:"ms",text:"",note:"",dok:"",options:[]}),render(istaking,!0),pushstate()}function addcr(e){teststate.questions[e].parts.push({type:"cr",text:"",note:"",dok:"",options:[]}),render(istaking,!0),pushstate()}function showjson(){document.getElementById("jsontext").value=JSON.stringify(teststate),document.getElementById("jsontext").style.backgroundColor="#FFF"}function checkenter(e,t){if(13!==e.which)return!0;e.preventDefault();var n=t.id;if(!n)return!1;var i,[r,o,s,a,l]=n.split("_").map(function(e){return parseInt(e)}),u=e.shiftKey?-1:1,c=r+"_"+o+"_"+(s+u)+"_"+a+"_"+l;return(i=document.getElementById(c))?(t.blur(),i.focus(),i.select(),!1):(c=r+"_"+o+"_"+(e.shiftKey?l-1:0)+"_"+(a+u)+"_"+l,!!(i=document.getElementById(c))&&(t.blur(),i.focus(),i.select(),!1))}function render(e,t){var n={},i={},r={};(teststate.targetnodes||"").split(/[\s,]+/).filter(function(e){return/^([A-Z]+-)?[0-9]+$/i.test(e)}).forEach(function(e){r[e]=!0});var o=e?"<h2>"+(teststate.studenttitle||teststate.title)+"</h2><br><hr>":"";teststate.passage&&(o+=e?"<br><br><div style='margin-left:1em;'>"+teststate.passage+"</div><br><br><hr>":""),o+=teststate.questions.map(e?function(e,t){var n="<div style='margin: 1em;'><b style='margin-right:0.25em;vertical-align:top;'>"+(t+1)+".</b> ";return e.parts.length>1&&(n+="<div style='display:inline-block;width:calc(100% - 5em);'>"+(""===e.text?"":"<br><br>"+e.text+"</div>")),e.parts.forEach(function(i,r){e.parts.length>1&&(n+="<div>"),"mc"===i.type?(n+="<div style='display:inline-block;width:calc(100% - 5em);'>"+i.text+"</div><br>",n+="<div style='margin: 1em;'>",n+=i.options.map(function(e,n){var i="&nbsp;&nbsp;&nbsp;";return i+="<br><label><input type='radio' name='radio"+t.toString()+r.toString()+"'> ",i+="<div style='display:inline-block;width:calc(100% - 5em);vertical-align:middle;'>"+e.text.replace(/<DISABLED\/?(p|h[1-6]|div|pre|blockquote)(>| [^>]*>)/gi," ").replace(/<br>/gi," ")+"</div></label><br>"}).join(""),n+="</div>"):"ms"===i.type?(n+="<div style='display:inline-block;width:calc(100% - 5em);'>"+i.text+"</div><br>",n+="<div style='margin: 1em;'>",n+=i.options.map(function(e,t){var n="&nbsp;&nbsp;&nbsp;";return n+="<br><label><input type='checkbox'> ",n+="<div style='display:inline-block;width:calc(100% - 5em);vertical-align:middle;'>"+e.text.replace(/<DISABLED\/?(p|h[1-6]|div|pre|blockquote)(>| [^>]*>)/gi," ").replace(/<br>/gi," ")+"</div></label><br>"}).join(""),n+="</div>"):"cr"===i.type&&(n+="<div style='display:inline-block;width:calc(100% - 5em);'>"+i.text+"</div><br>",n+="<div style='margin: 1em;'>",n+="<input type='text' value='' placeholder='answer'>",n+=" "+(i.label||""),n+="</div>"),e.parts.length>1&&(n+="</div>")}),e.parts.length>1&&(n+="</div>"),n+="</div><br><hr>"}:function(e,t){var o="<div style='margin: 1em;'><b>"+(t+1)+".</b> ";return e.parts.length>1&&(o+="<input onblur='pushstate();' type='text' placeholder='reading passage' value='"+emptyIfUndefined(e.text).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].text = this.value; showjson();'> ",o+="<button onclick='htmledit(teststate.questions["+t+'], "text");\'>&#9997;</button> ',o+="<button onclick='var questions = teststate.questions; var swapvar = questions["+t+"]; questions["+t+"] = questions["+(t+1)+"]; questions["+(t+1)+"] = swapvar; render(istaking, true); pushstate();' "+(t===teststate.questions.length-1?"disabled":"")+">&#9660;</button>",o+="<button onclick='var questions = teststate.questions; var swapvar = questions["+t+"]; questions["+t+"] = questions["+(t-1)+"]; questions["+(t-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===t?"disabled":"")+">&#9650;</button> ",o+="<button onclick='teststate.questions.splice("+t+",1); render(istaking, true); pushstate();'>x</button>",o+="</div>"),e.parts.forEach(function(s,a){var l=e.parts.length>1?t+"_"+a:t.toString()+"_";n[l]={targets:{},distractors:{}},e.parts.length>1&&(o+="<br><div style='margin: 1em;'><b> Part "+(a+1)+"</b>. "),"mc"===s.type?(o+="<input onblur='pushstate();' type='text'size='30' placeholder='question' value='"+emptyIfUndefined(s.text).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].text = this.value; showjson();'> ",o+="<input onblur='pushstate();' type='text'size='4' placeholder='dok' value='"+emptyIfUndefined(s.dok).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].dok = this.value; showjson();'> ",o+="<input onblur='pushstate();' type='text' placeholder='note' value='"+emptyIfUndefined(s.note).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].note = this.value; showjson();'> ",e.parts.length>1?(o+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+'], "text");\'>&#9997;</button> ',o+="<button onclick='var parts = teststate.questions["+t+"].parts; var swapvar = parts["+a+"]; parts["+a+"] = parts["+(a+1)+"]; parts["+(a+1)+"] = swapvar; render(istaking, true); pushstate();' "+(a===e.parts.length-1?"disabled":"")+">&#9660;</button>",o+="<button onclick='var parts = teststate.questions["+t+"].parts; var swapvar = parts["+a+"]; parts["+a+"] = parts["+(a-1)+"]; parts["+(a-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===a?"disabled":"")+">&#9650;</button> ",o+="<button onclick='teststate.questions["+t+"].parts.splice("+a+", 1); render(istaking, true); pushstate();'>x</button>",o+="</div>"):(o+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+'], "text");\'>&#9997;</button> ',o+="<button onclick='var questions = teststate.questions; var swapvar = questions["+t+"]; questions["+t+"] = questions["+(t+1)+"]; questions["+(t+1)+"] = swapvar; render(istaking, true); pushstate();' "+(t===teststate.questions.length-1?"disabled":"")+">&#9660;</button>",o+="<button onclick='var questions = teststate.questions; var swapvar = questions["+t+"]; questions["+t+"] = questions["+(t-1)+"]; questions["+(t-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===t?"disabled":"")+">&#9650;</button> ",o+="<button onclick='teststate.questions.splice("+t+",1); render(istaking, true); pushstate();'>x</button>",o+="</div>"),o+="<div style='margin: 1em;'>",o+=s.options.map(function(e,o){var u="&nbsp;&nbsp;<b>"+String.fromCharCode(65+o)+".</b> ",c=e.valid?"checked":"";u+="<input type='radio' name='radio"+t.toString()+a.toString()+"' "+c+" onclick='var question = teststate.questions["+t+"].parts["+a+"]; question.options.forEach(function(opt,indx) { opt.valid = (indx === "+o+"); }); showjson(); pushstate();'> ",u+="<input id='"+t+"_"+a+"_"+o+"_0_"+s.options.length+"' onkeypress='return checkenter(event, this);' onblur='pushstate();' type='text' placeholder='answer' value='"+emptyIfUndefined(e.text).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].options["+o+"].text = this.value; showjson();'> ",u+="<input id='"+t+"_"+a+"_"+o+"_1_"+s.options.length+"' onkeypress='return checkenter(event, this);' onchange='validateTestNodes(this,this.value,function(rslt){if(rslt){teststate.questions["+t+"].parts["+a+"].options["+o+"].node = rslt;showjson();}else{teststate.questions["+t+"].parts["+a+"].options["+o+"].node=null;showjson();}pushstate();})' type='text' size='7' placeholder='nodes' value='"+emptyIfUndefined(e.node).replace(/'/g,"&#x27;")+"' '> ",u+="<input id='"+t+"_"+a+"_"+o+"_2_"+s.options.length+"' onkeypress='return checkenter(event, this);' onchange='validateTestNodes(this,this.value,function(rslt){if(rslt){teststate.questions["+t+"].parts["+a+"].options["+o+"].antinode = rslt;showjson();}else{teststate.questions["+t+"].parts["+a+"].options["+o+"].antinode=null;showjson();}pushstate();})' type='text' size='7' placeholder='anti-nodes' value='"+emptyIfUndefined(e.antinode).replace(/'/g,"&#x27;")+"' '> ",u+="<input id='"+t+"_"+a+"_"+o+"_3_"+s.options.length+"' onkeypress='return checkenter(event, this);' onblur='pushstate();' type='text' placeholder='note' value='"+emptyIfUndefined(e.note).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].options["+o+"].note = this.value; showjson();'> ",u+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+"].options["+o+'], "text");\'>&#9997;</button> ',u+="<button onclick='var options = teststate.questions["+t+"].parts["+a+"].options; var swapvar = options["+o+"]; options["+o+"] = options["+(o+1)+"]; options["+(o+1)+"] = swapvar; render(istaking, true); pushstate();' "+(o===s.options.length-1?"disabled":"")+">&#9660;</button>",u+="<button onclick='var options = teststate.questions["+t+"].parts["+a+"].options; var swapvar = options["+o+"]; options["+o+"] = options["+(o-1)+"]; options["+(o-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===o?"disabled":"")+">&#9650;</button> ",u+="<button onclick='teststate.questions["+t+"].parts["+a+"].options.splice("+o+",1); render(istaking, true); pushstate();'>x</button>",u+="<br>";var d=(e.node||"").split(/[\s,]+/).concat((e.antinode||"").split(/[\s,]+/)).filter(function(e){return/^([A-Z]+-)?[0-9]+$/i.test(e)}),h=n[l][e.valid?"targets":"distractors"];return d.forEach(function(t){h[t]=!0,e.valid&&!r[t]&&(i[t]=!0)}),u}).join(""),o+="<div style='margin: 1em;'><button onclick='var options = teststate.questions["+t+"].parts["+a+'].options; options.push({text:"",node:"",antinode:"",note:"",valid:(options.length === 0)}); render(istaking, true); pushstate();\'>add option</button> <button onclick=\'document.getElementById("formulaeditordiv").style.display = "";\'>formula editor</button></div>'):"ms"===s.type?(o+="<input onblur='pushstate();' type='text'size='30' placeholder='question' value='"+emptyIfUndefined(s.text).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].text = this.value; showjson();'> ",o+="<input onblur='pushstate();' type='text'size='4' placeholder='dok' value='"+emptyIfUndefined(s.dok).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].dok = this.value; showjson();'> ",o+="<input onblur='pushstate();' type='text' placeholder='note' value='"+emptyIfUndefined(s.note).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].note = this.value; showjson();'> ",e.parts.length>1?(o+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+'], "text");\'>&#9997;</button> ',o+="<button onclick='var parts = teststate.questions["+t+"].parts; var swapvar = parts["+a+"]; parts["+a+"] = parts["+(a+1)+"]; parts["+(a+1)+"] = swapvar; render(istaking, true); pushstate();' "+(a===e.parts.length-1?"disabled":"")+">&#9660;</button>",o+="<button onclick='var parts = teststate.questions["+t+"].parts; var swapvar = parts["+a+"]; parts["+a+"] = parts["+(a-1)+"]; parts["+(a-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===a?"disabled":"")+">&#9650;</button> ",o+="<button onclick='teststate.questions["+t+"].parts.splice("+a+", 1); render(istaking, true); pushstate();'>x</button>",o+="</div>"):(o+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+'], "text");\'>&#9997;</button> ',o+="<button onclick='var questions = teststate.questions; var swapvar = questions["+t+"]; questions["+t+"] = questions["+(t+1)+"]; questions["+(t+1)+"] = swapvar; render(istaking, true); pushstate();' "+(t===teststate.questions.length-1?"disabled":"")+">&#9660;</button>",o+="<button onclick='var questions = teststate.questions; var swapvar = questions["+t+"]; questions["+t+"] = questions["+(t-1)+"]; questions["+(t-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===t?"disabled":"")+">&#9650;</button> ",o+="<button onclick='teststate.questions.splice("+t+",1); render(istaking, true); pushstate();'>x</button>",o+="</div>"),o+="<div style='margin: 1em;'>",o+=s.options.map(function(e,o){var u="&nbsp;&nbsp;<b>"+String.fromCharCode(65+o)+".</b> ";u+="<input type='checkbox' "+(e.valid?"checked":"")+" onclick='var question = teststate.questions["+t+"].parts["+a+"]; var option = question.options["+o+"]; option.valid = this.checked; showjson(); pushstate();'> ",u+="<input id='"+t+"_"+a+"_"+o+"_0_"+s.options.length+"' onkeypress='return checkenter(event, this);' onblur='pushstate();' type='text' placeholder='answer' value='"+emptyIfUndefined(e.text).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].options["+o+"].text = this.value; showjson();'> ",u+="<input id='"+t+"_"+a+"_"+o+"_1_"+s.options.length+"' onkeypress='return checkenter(event, this);' onchange='validateTestNodes(this,this.value,function(rslt){if(rslt){teststate.questions["+t+"].parts["+a+"].options["+o+"].node = rslt;showjson();}else{teststate.questions["+t+"].parts["+a+"].options["+o+"].node=null;showjson();}pushstate();})' type='text' size='7' placeholder='nodes' value='"+emptyIfUndefined(e.node).replace(/'/g,"&#x27;")+"'> ",u+="<input id='"+t+"_"+a+"_"+o+"_2_"+s.options.length+"' onkeypress='return checkenter(event, this);' onchange='validateTestNodes(this,this.value,function(rslt){if(rslt){teststate.questions["+t+"].parts["+a+"].options["+o+"].antinode = rslt;showjson();}else{teststate.questions["+t+"].parts["+a+"].options["+o+"].antinode=null;showjson();}pushstate();})' type='text' size='7' placeholder='anti-nodes' value='"+emptyIfUndefined(e.antinode).replace(/'/g,"&#x27;")+"'> ",u+="<input id='"+t+"_"+a+"_"+o+"_3_"+s.options.length+"' onkeypress='return checkenter(event, this);' onblur='pushstate();' type='text' placeholder='note' value='"+emptyIfUndefined(e.note).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].options["+o+"].note = this.value; showjson();'> ",u+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+"].options["+o+'], "text");\'>&#9997;</button> ',u+="<button onclick='var options = teststate.questions["+t+"].parts["+a+"].options; var swapvar = options["+o+"]; options["+o+"] = options["+(o+1)+"]; options["+(o+1)+"] = swapvar; render(istaking, true); pushstate();' "+(o===s.options.length-1?"disabled":"")+">&#9660;</button>",u+="<button onclick='var options = teststate.questions["+t+"].parts["+a+"].options; var swapvar = options["+o+"]; options["+o+"] = options["+(o-1)+"]; options["+(o-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===o?"disabled":"")+">&#9650;</button> ",u+="<button onclick='teststate.questions["+t+"].parts["+a+"].options.splice("+o+",1); render(istaking, true); pushstate();'>x</button>",u+="<br>";var c=(e.node||"").split(/[\s,]+/).concat((e.antinode||"").split(/[\s,]+/)).filter(function(e){return/^([A-Z]+-)?[0-9]+$/i.test(e)}),d=n[l][e.valid?"targets":"distractors"];return c.forEach(function(t){d[t]=!0,e.valid&&!r[t]&&(i[t]=!0)}),u}).join(""),o+="<div style='margin: 1em;'><button onclick='teststate.questions["+t+"].parts["+a+'].options.push({text:"",node:"",antinode:"",note:"",valid:false}); render(istaking, true); pushstate();\'>add option</button> <button onclick=\'document.getElementById("formulaeditordiv").style.display = "";\'>formula editor</button></div>'):"cr"===s.type&&(o+="<input onblur='pushstate();' type='text'size='30' placeholder='question' value='"+emptyIfUndefined(s.text).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].text = this.value; showjson();'> ",o+="<input onblur='pushstate();' type='text'size='8' placeholder='label' value='"+emptyIfUndefined(s.label).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].label = this.value; showjson();'> ",o+="<input onblur='pushstate();' type='text'size='4' placeholder='dok' value='"+emptyIfUndefined(s.dok).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].dok = this.value; showjson();'> ",o+="<input onblur='pushstate();' type='text' placeholder='note' value='"+emptyIfUndefined(s.note).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].note = this.value; showjson();'> ",e.parts.length>1?(o+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+'], "text");\'>&#9997;</button> ',o+="<button onclick='var parts = teststate.questions["+t+"].parts; var swapvar = parts["+a+"]; parts["+a+"] = parts["+(a+1)+"]; parts["+(a+1)+"] = swapvar; render(istaking, true); pushstate();' "+(a===e.parts.length-1?"disabled":"")+">&#9660;</button>",o+="<button onclick='var parts = teststate.questions["+t+"].parts; var swapvar = parts["+a+"]; parts["+a+"] = parts["+(a-1)+"]; parts["+(a-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===a?"disabled":"")+">&#9650;</button> ",o+="<button onclick='teststate.questions["+t+"].parts.splice("+a+", 1); render(istaking, true); pushstate();'>x</button>",o+="</div>"):(o+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+'], "text");\'>&#9997;</button> ',o+="<button onclick='var questions = teststate.questions; var swapvar = questions["+t+"]; questions["+t+"] = questions["+(t+1)+"]; questions["+(t+1)+"] = swapvar; render(istaking, true); pushstate();' "+(t===teststate.questions.length-1?"disabled":"")+">&#9660;</button>",o+="<button onclick='var questions = teststate.questions; var swapvar = questions["+t+"]; questions["+t+"] = questions["+(t-1)+"]; questions["+(t-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===t?"disabled":"")+">&#9650;</button> ",o+="<button onclick='teststate.questions.splice("+t+",1); render(istaking, true); pushstate();'>x</button>",o+="</div>"),o+="<div style='margin: 1em;'>",o+=s.options.map(function(e,o){var u="&nbsp;&nbsp;<b>&#8226;</b> ";u+="<input type='checkbox' "+(e.valid?"checked":"")+" onclick='var question = teststate.questions["+t+"].parts["+a+"]; var option = question.options["+o+"]; option.valid = this.checked; showjson(); pushstate();'> ",u+="<input id='"+t+"_"+a+"_"+o+"_0_"+s.options.length+"' onkeypress='return checkenter(event, this);' onblur='pushstate();' type='text' size='10' placeholder='answer' value='"+emptyIfUndefined(e.text).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].options["+o+"].text = this.value; showjson();'> ",u+="<input id='"+t+"_"+a+"_"+o+"_1_"+s.options.length+"' onkeypress='return checkenter(event, this);' onblur='pushstate();' type='text' size='15' placeholder='regex (optional)' value='"+emptyIfUndefined(e.regex).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].options["+o+"].regex = this.value; showjson();'> ",u+="<input id='"+t+"_"+a+"_"+o+"_2_"+s.options.length+"' onkeypress='return checkenter(event, this);' onchange='validateTestNodes(this,this.value,function(rslt){if(rslt){teststate.questions["+t+"].parts["+a+"].options["+o+"].node = rslt;showjson();}else{teststate.questions["+t+"].parts["+a+"].options["+o+"].node=null;showjson();}pushstate();})' type='text' size='7' placeholder='nodes' value='"+emptyIfUndefined(e.node).replace(/'/g,"&#x27;")+"'> ",u+="<input id='"+t+"_"+a+"_"+o+"_3_"+s.options.length+"' onkeypress='return checkenter(event, this);' onchange='validateTestNodes(this,this.value,function(rslt){if(rslt){teststate.questions["+t+"].parts["+a+"].options["+o+"].antinode = rslt;showjson();}else{teststate.questions["+t+"].parts["+a+"].options["+o+"].antinode=null;showjson();}pushstate();})' type='text' size='7' placeholder='anti-nodes' value='"+emptyIfUndefined(e.antinode).replace(/'/g,"&#x27;")+"'> ",u+="<input id='"+t+"_"+a+"_"+o+"_4_"+s.options.length+"' onkeypress='return checkenter(event, this);' onblur='pushstate();' type='text' placeholder='note' value='"+emptyIfUndefined(e.note).replace(/'/g,"&#x27;")+"' oninput='teststate.questions["+t+"].parts["+a+"].options["+o+"].note = this.value; showjson();'> ",u+="<button onclick='htmledit(teststate.questions["+t+"].parts["+a+"].options["+o+'], "text");\'>&#9997;</button> ',u+="<button onclick='var options = teststate.questions["+t+"].parts["+a+"].options; var swapvar = options["+o+"]; options["+o+"] = options["+(o+1)+"]; options["+(o+1)+"] = swapvar; render(istaking, true); pushstate();' "+(o===s.options.length-1?"disabled":"")+">&#9660;</button>",u+="<button onclick='var options = teststate.questions["+t+"].parts["+a+"].options; var swapvar = options["+o+"]; options["+o+"] = options["+(o-1)+"]; options["+(o-1)+"] = swapvar; render(istaking, true); pushstate();' "+(0===o?"disabled":"")+">&#9650;</button> ",u+="<button onclick='teststate.questions["+t+"].parts["+a+"].options.splice("+o+",1); render(istaking, true); pushstate();'>x</button>",u+="<br>";var c=(e.node||"").split(/[\s,]+/).concat((e.antinode||"").split(/[\s,]+/)).filter(function(e){return/^([A-Z]+-)?[0-9]+$/i.test(e)}),d=n[l][e.valid?"targets":"distractors"];return c.forEach(function(t){d[t]=!0,e.valid&&!r[t]&&(i[t]=!0)}),u}).join(""),o+="<div style='margin: 1em;'><button onclick='teststate.questions["+t+"].parts["+a+'].options.push({text:"",regex:"",node:"",antinode:"",note:"",valid:false}); render(istaking, true); pushstate();\'>add option</button> <button onclick=\'document.getElementById("formulaeditordiv").style.display = "";\'>formula editor</button></div>'),e.parts.length>1&&(o+="</div>")}),o+="<div style='margin:1em;'>",o+="<button onclick='addmc("+t+");'>add multiple choice part</button> ",o+="<button onclick='addms("+t+");'>add multiple select part</button> ",o+="<button onclick='addcr("+t+");'>add constructed response part</button>",o+="</div>",e.parts.length>1&&(o+="</div>"),o+="</div><br><hr style='margin:1em;'><br>"}).join("");var s=document.getElementById("testform");s.innerHTML=o,document.getElementById("title").value=teststate.title,document.getElementById("studenttitle").value=teststate.studenttitle||"",document.getElementById("passage").value=teststate.passage||"",document.getElementById("companionid").value=teststate.companionid||"",document.getElementById("thistestid").innerHTML=teststate.ACTIVE_TEST_ID||"Save the test to generate its ID.",document.getElementById("testversion").value=teststate.testversion||"",document.getElementById("targetnodes").value=teststate.targetnodes||"",document.getElementById("subject").value=teststate.subject||"",document.getElementById("prefix").value=teststate.prefix||"",document.getElementById("ispublic").checked=teststate.ispublic||!1,document.getElementById("standards").value=teststate.standards||"",document.getElementById("mapviews").value=teststate.mapviews||"",istaking?(document.getElementById("testtitleform").style.display="none",document.getElementById("testpassageform").style.display="none",document.getElementById("jsondiv").style.display="none",document.getElementById("editbuttons").style.display="none",document.getElementById("previewtestbutton").style.display="none",document.getElementById("edittestbutton").style.display="",document.getElementById("undobutton1").style.display="none",document.getElementById("undobutton2").style.display="none",document.getElementById("redobutton1").style.display="none",document.getElementById("redobutton2").style.display="none",document.getElementById("uploadtestbutton").style.display="none",document.getElementById("cleartestbutton").style.display="none",document.getElementById("fileuploadbutton").style.display="none"):(document.getElementById("testtitleform").style.display="",document.getElementById("testpassageform").style.display="",document.getElementById("jsondiv").style.display="",document.getElementById("previewtestbutton").style.display="",document.getElementById("edittestbutton").style.display="none",document.getElementById("editbuttons").style.display="",document.getElementById("undobutton1").style.display="",document.getElementById("undobutton2").style.display="",document.getElementById("redobutton1").style.display="",document.getElementById("redobutton2").style.display="",document.getElementById("uploadtestbutton").style.display="",document.getElementById("cleartestbutton").style.display="",document.getElementById("fileuploadbutton").style.display=""),istaking&&MathJax.Hub.Typeset(s),!1!==t&&showjson()}function pushstate(e){var t=JSON.stringify(teststate);if(undostack.length>0&&t===undostack[undostack.length-1])return 0;for(var n=33554432-t.length;undostacksize>n&&undostack.length;)undostacksize-=undostack.shift().length;undostacksize+=t.length,undostack.push(t),document.getElementById("previewtestbutton").disabled=!1,document.getElementById("undobutton1").disabled=!1,document.getElementById("undobutton2").disabled=!1,e||(redostack=[],redostacksize=0),document.getElementById("redobutton1").disabled=0===redostack.length,document.getElementById("redobutton2").disabled=0===redostack.length,localStorage.setItem("testbuilderdata",t)}function popstate(){var e=document.getElementById("row"+teststate.hash);e&&(e.style.backgroundColor="");for(var t=undostack.pop(),n=33554432-t.length;redostacksize>n&&redostack.length;)redostacksize-=redostack.shift().length;redostacksize+=t.length,redostack.push(t),undostacksize-=t.length;var i=undostack[undostack.length-1];teststate=safeJSONparse(i),render(istaking,!0),document.getElementById("previewtestbutton").disabled=1===undostack.length,document.getElementById("undobutton1").disabled=1===undostack.length,document.getElementById("undobutton2").disabled=1===undostack.length,document.getElementById("redobutton1").disabled=!1,document.getElementById("redobutton2").disabled=!1;var r=document.getElementById("row"+teststate.hash);r&&(r.style.backgroundColor="#83FFF3"),localStorage.setItem("testbuilderdata",i)}function redo(){var e=document.getElementById("row"+teststate.hash);e&&(e.style.backgroundColor="");var t=redostack.pop();redostacksize-=t.length,teststate=safeJSONparse(t),render(istaking,!0),pushstate(!0);var n=document.getElementById("row"+teststate.hash);n&&(n.style.backgroundColor="#83FFF3")}function htmledit(e,t){if(document.getElementById("tinymceta").value=e[t]||"",document.getElementById("htmleditordiv").style.display="",lasttinymceobject=e,lasttinymcefield=t,"undefined"!=typeof tinyMCE&&null!=tinyMCE.activeEditor)return tinyMCE.activeEditor.setContent(e[t]||""),0;var n=document.createElement("script");n.setAttribute("src","/assets/js/external/tinymce/tinymce.min.js"),document.body.appendChild(n);var i=setInterval(function(){var e=document.getElementById("tinymceta_ifr");e?(e.style.height="100%",clearInterval(i)):"undefined"!=typeof tinyMCE&&tinyMCE.init&&tinyMCE.init({selector:"#tinymceta",branding:!1,plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","emoticons template paste textcolor colorpicker textpattern imagetools codesample toc"],toolbar1:"undo redo | insert | styleselect | fontsizeselect | bold italic | alignleft aligncenter alignright alignjustify",toolbar2:"bullist numlist outdent indent | print preview media link image | forecolor backcolor emoticons | codesample",fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"})},100)}function mathjaxconfig(){MathJax.Hub.Config({skipStartupTypeset:!0,messageStyle:"none"}),MathJax.Hub.Configured()}function mathjaxpreview(e){clearTimeout(mjpreviewtimer),/`|<br>`/i.test(e.value)&&(e.value=e.value.replace(/`/g,"").replace(/<br>/gi,"\n").replace(/&lt;/g,"<").replace(/&gt;/g,">")),mjpreviewtimer=setTimeout(function(){var t=("`"+e.value.replace(/^(\n\r?)+/,"").replace(/(\n\r?)+$/,"").split(/\n\r?/).join("`<br>`")+"`").replace(/``/g,""),n=document.getElementById("mathjaxpreviewdiv"),i=document.getElementById("input_MathJax");n.innerHTML=t,i.innerHTML=t.replace(/<br>/g,"NEWLINE____").replace(/</g,"&amp;lt;").replace(/>/g,"&amp;gt;").replace(/NEWLINE____/g,"&lt;br&gt;"),MathJax.Hub.Typeset(n)},500)}function displaytest(e){document.getElementById("puttesthere").innerHTML="<iframe id='tesetresultsiframe' src='"+e+"' width='100%' height='100%' frameborder='0'></iframe>",document.getElementById("testviewer").style.display=""}function pushtomoderncopy(){if(!confirm("Are you sure?"))return!1;fetchurl("pushtomoderncopy.sh",alert)}function convertlabel(e){var t;return 1+parseInt(e.split("_")[0])+(1===e.split("_").length?"":(t=e.split("_")[1],"string"==typeof t&&(t=parseInt(t)),String.fromCharCode(65+t)).toLowerCase())}function deleteTest(e){testModel.deleteTest(e,function(e){alert("Test Deleted"),teststate=JSON.parse(blankstate),render(istaking,!0),pushstate(),$("#savedTests").empty(),showDeleted?testModel.getAllTestsByUserId(function(e){JSON.stringify({savedTests:e,isChecked:showDeleted});$("#savedTests").append(can.view("/assets/views/savedTests.ejs",{savedTests:e})),document.getElementById("showDeletedTests").checked=!0}):testModel.getTestsByUserId(function(e){JSON.stringify({savedTests:e,isChecked:!1});$("#savedTests").append(can.view("/assets/views/savedTests.ejs",{savedTests:e}))})},function(e,t){alert("Test Deletion Failed:"+t)})}function deleteFile(e){confirm("Are you sure?")&&testModel.deleteFile(e,function(e){e?(testModel.getAllUploadedFiles(function(e){$("#FileUploadDiv").empty(),$("#FileUploadDiv").append(can.view("/assets/views/fileUploads.ejs",{uploadedFiles:e}))}),alert("File deleted successfully")):alert("File deletion failed")},function(e,t){alert("File Deletion Failed:"+t)})}function loadTest(e,t){var n=document.getElementById(highlightedID);n&&(n.style.backgroundColor="");var i=document.getElementById(t);highlightedID=t,i&&(i.style.backgroundColor="#83FFF3"),testModel.getTestData(e,function(e){teststate=e,render(istaking,!0),pushstate()})}function emptyIfUndefined(e){return void 0==e||null==e?"":e}function getPrefixFromSubject(e){switch(e.toLowerCase()){case"science":return"SCI";case"math":return"M";case"ela":return"ELA";default:return""}}function copyData(e){try{document.getElementById("input_"+e).select(),document.execCommand("Copy"),document.getElementById("toolTip_"+e).innerHTML="Copied"}catch(e){console.log(e)}}function updateToolTip(e){try{document.getElementById("toolTip_"+e).innerHTML="Click to Copy"}catch(e){console.log(e)}}function validateTestNodes(e,t,n){if(t&&""!=t){var i=$("#prefix").val(),r=$("#subject").val();if(r||""!=r&&null!=r){var o=t;o?(o=(o=o.split(",")).map(e=>i+"-"+e.trim()),testModel.validateNodes(o,function(e){var i="";if(o.length==e.length)e.forEach(e=>{i+=e.TEXTID+": "+e.TITLE+"\n"}),currentFocusElement=$(document.activeElement),$("#errorPopUp").length<1&&$("body").append(can.view("/assets/views/errormessage.ejs",{err:i})),uiCommon.showAlertBox("errorPopUp"),n(t);else{var r=[];o.forEach(t=>{var n=!1;e.forEach(e=>{e.TEXTID==t&&(n=!0)}),n||r.push(t)}),r.length>0&&(currentFocusElement=$(document.activeElement),$("#errorPopUp").length<1&&(i="Nodes not found: "+r.toString()+". Check nodes again.",$("body").append(can.view("/assets/views/errormessage.ejs",{err:i,red:!0}))),uiCommon.showAlertBox("errorPopUp"),n(t))}})):n(null)}else currentFocusElement=$(document.activeElement),$("#errorPopUp").length<1&&$("body").append(can.view("/assets/views/errormessage.ejs",{err:"Please select Subject before entering Nodes.",red:!0})),uiCommon.showAlertBox("errorPopUp"),$(e).val(""),n(null)}}function validateStandards(e){if("undefined"!=typeof hub&&e&&""!=e){var t=[],n=[];return e.split(" ").forEach(e=>{var i=hub.get("standard").find(function(t){return hub.wrap(t).textID()===e.trim()});void 0==i?n.push(e):t.push(i)}),n.length>0?confirm("Standards '"+n.join()+"' not found. Do you want to proceed?")?(teststate.standards=e,showjson(),void pushstate()):(teststate.standards="",pushstate(),void $("#standards").val("")):(teststate.standards=e,showjson(),void pushstate())}}top.location.href!==location.href&&(document.getElementById("newtablink").style.display="");var testController=can.Control({init:function(){testModel.getAllSubjects(function(e){e.forEach(e=>{$("#subject").append(new Option(e.NAME,e.SUBJECT_ID))})}),$("#createTest").append(can.view("/assets/views/createTest.ejs",{})),testModel.getTestsByUserId(function(e){JSON.stringify({savedTests:e,isChecked:!1});$("#savedTests").append(can.view("/assets/views/savedTests.ejs",{savedTests:e}))}),setTimeout(function(){mathjaxconfig()},0)},"#showDeletedTests click":function(e,t){showDeleted=document.getElementById("showDeletedTests").checked,$("#savedTests").empty(),showDeleted?testModel.getAllTestsByUserId(function(e){JSON.stringify({savedTests:e,isChecked:showDeleted});$("#savedTests").append(can.view("/assets/views/savedTests.ejs",{savedTests:e})),document.getElementById("showDeletedTests").checked=!0}):testModel.getTestsByUserId(function(e){JSON.stringify({savedTests:e,isChecked:!1});$("#savedTests").append(can.view("/assets/views/savedTests.ejs",{savedTests:e})),document.getElementById("showDeletedTests").checked=!1})},"#fileuploadbutton click":function(e,t){testModel.getAllUploadedFiles(function(e){$("#FileUploadDiv").empty(),$("#FileUploadDiv").append(can.view("/assets/views/fileUploads.ejs",{uploadedFiles:e}))})},"#uploadtestbutton click":function(e,t){if(!teststate.title)return alert("Error: You have not supplied a Test Title."),!1;if(!teststate.subject)return alert("Error: You have not selected a Test Subject."),!1;if(teststate.ACTIVE_TEST_ID&&null!=teststate.ACTIVE_TEST_ID){for(var n="";"OVERRIDE"!==n&&"NEW"!==n&&null!==n;)n=prompt("Do you want to override the previously saved test '"+teststate.title+"'?\n\nEnter 'OVERRIDE' to override or 'NEW' to create a new test.","NEW");if(null===n)return!1;if("OVERRIDE"===n){if(!confirm("You are trying to edit a Public Test. Click Ok to Proceed."))return;teststate.isOverriden=!0}else teststate.isOverriden=!1,teststate.ACTIVE_TEST_ID=null}testModel.createNewTest(teststate,function(e){teststate.ID=e.newId,teststate.ACTIVE_TEST_ID=e.ACTIVE_TEST_ID,alert("Test Saved"),$("#savedTests").empty(),showDeleted?testModel.getAllTestsByUserId(function(e){JSON.stringify({savedTests:e,isChecked:showDeleted});$("#savedTests").append(can.view("/assets/views/savedTests.ejs",{savedTests:e})),document.getElementById("showDeletedTests").checked=!0}):testModel.getTestsByUserId(function(e){JSON.stringify({savedTests:e,isChecked:!1});$("#savedTests").append(can.view("/assets/views/savedTests.ejs",{savedTests:e}))})},function(e,t){alert("Save Test Failed with Errors : "+e.responseText)})},"#cleartestbutton click":function(e,t){var n=teststate.ACTIVE_TEST_ID;if(n){var i=document.getElementById("testRowID_"+n);i&&(i.style.backgroundColor="")}teststate=JSON.parse(blankstate),render(istaking,!0),pushstate()},"#uploadFileBtn click":function(e,t){var n=document.getElementById("fileupload").files[0];if(!n)return alert("Error: no file specified."),!1;testModel.uploadFile(n,function(e){testModel.getAllUploadedFiles(function(e){$("#FileUploadDiv").empty(),$("#FileUploadDiv").append(can.view("/assets/views/fileUploads.ejs",{uploadedFiles:e})),alert("File Uploaded")},function(e,t){alert("Upload Failed with errors : "+e.responseText)})})},"#subject change":function(e,t){var n=$("#subject").find("option:selected").text();""!=n&&(teststate.subject=$("#subject").val(),teststate.prefix=getPrefixFromSubject(n),$("#prefix").val(teststate.prefix),pushstate())},"#editorFileUploadBtn click":function(e,t){testModel.getAllUploadedFiles(function(e){$("#FileUploadDiv").empty(),$("#FileUploadDiv").append(can.view("/assets/views/fileUploads.ejs",{uploadedFiles:e}))})},"#popupOKButton click":function(e,t){$("#errorPopUp").fadeOut("slow"),currentFocusElement.trigger("focus"),setTimeout(function(){$("#errorPopUp").remove()},500)},"#popupOKButton keydown":function(e,t){13===t.keyCode&&(t.preventDefault(),$("#popupOKButton").trigger("click"))}}),testModel=can.Model({getTestsByUserId:function(e,t){$.ajax({url:"/locatertool/getTestsByUserId",dataType:"json",type:"POST",data:{withRevision:!0},success:e})},getAllTestsByUserId:function(e,t){$.ajax({url:"/locatertool/getAllTestsByUserId",dataType:"json",type:"POST",data:{withRevision:!0},success:e})},createNewTest:function(e,t,n){$.ajax({url:"/locatertool/createNewTest",dataType:"json",type:"POST",data:{testData:e},success:t,error:n})},getAllSubjects:function(e,t){$.ajax({url:"/locatertool/getAllSubjects",dataType:"json",type:"GET",success:e,error:t})},getTestData:function(e,t,n){$.ajax({url:"/locatertool/getTestData",dataType:"json",type:"POST",data:{testId:e},success:t,error:n})},deleteTest:function(e,t,n){$.ajax({url:"/locatertool/deleteTest",dataType:"json",type:"POST",data:{testId:e},success:t,error:n})},uploadFile:function(e,t,n){var i=new FormData;i.append("uploadedFile",e),$.ajax({type:"POST",url:"/locatertool/uploadFile",data:i,success:t,error:n,processData:!1,contentType:!1})},deleteFile:function(e,t,n){$.ajax({type:"POST",url:"/locatertool/deleteFile",data:{fileName:e},success:t,error:n})},getAllUploadedFiles:function(e,t){$.ajax({url:"/locatertool/getAllUploadedFiles",dataType:"json",type:"GET",success:e,error:t})},validateNodes:function(e,t,n){$.ajax({url:"/locatertool/validateNodes",dataType:"json",type:"POST",data:{nodes:e},success:t,error:n})}},{});